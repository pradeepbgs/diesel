var zZ=Object.create;var{getPrototypeOf:QZ,defineProperty:B1,getOwnPropertyNames:Y4,getOwnPropertyDescriptor:YZ}=Object,W4=Object.prototype.hasOwnProperty;var X4=(f,$,Z)=>{Z=f!=null?zZ(QZ(f)):{};let J=$||!f||!f.__esModule?B1(Z,"default",{value:f,enumerable:!0}):Z;for(let z of Y4(f))if(!W4.call(J,z))B1(J,z,{get:()=>f[z],enumerable:!0});return J},Q4=new WeakMap,r0=(f)=>{var $=Q4.get(f),Z;if($)return $;if($=B1({},"__esModule",{value:!0}),f&&typeof f==="object"||typeof f==="function")Y4(f).map((J)=>!W4.call($,J)&&B1($,J,{get:()=>f[J],enumerable:!(Z=YZ(f,J))||Z.enumerable}));return Q4.set(f,$),$},Z0=(f,$)=>()=>($||f(($={exports:{}}).exports,$),$.exports);var zf=(f,$)=>{for(var Z in $)B1(f,Z,{get:$[Z],enumerable:!0,configurable:!0,set:(J)=>$[Z]=()=>J})};var Qf=(f,$)=>()=>(f&&($=f(f=0)),$);var WZ=((f)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(f,{get:($,Z)=>(typeof require!=="undefined"?require:$)[Z]}):f)(function(f){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+f+'" is not supported')});var q4={};zf(q4,{sep:()=>L4,resolve:()=>j1,relative:()=>w4,posix:()=>A4,parse:()=>O4,normalize:()=>Yf,join:()=>U4,isAbsolute:()=>B4,format:()=>D4,extname:()=>K4,dirname:()=>G4,delimiter:()=>M4,default:()=>s0,basename:()=>F4,_makeLong:()=>H4});function v0(f){if(typeof f!=="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(f))}function V4(f,$){var Z="",J=0,z=-1,Q=0,Y;for(var W=0;W<=f.length;++W){if(W<f.length)Y=f.charCodeAt(W);else if(Y===47)break;else Y=47;if(Y===47){if(z===W-1||Q===1);else if(z!==W-1&&Q===2){if(Z.length<2||J!==2||Z.charCodeAt(Z.length-1)!==46||Z.charCodeAt(Z.length-2)!==46){if(Z.length>2){var X=Z.lastIndexOf("/");if(X!==Z.length-1){if(X===-1)Z="",J=0;else Z=Z.slice(0,X),J=Z.length-1-Z.lastIndexOf("/");z=W,Q=0;continue}}else if(Z.length===2||Z.length===1){Z="",J=0,z=W,Q=0;continue}}if($){if(Z.length>0)Z+="/..";else Z="..";J=2}}else{if(Z.length>0)Z+="/"+f.slice(z+1,W);else Z=f.slice(z+1,W);J=W-z-1}z=W,Q=0}else if(Y===46&&Q!==-1)++Q;else Q=-1}return Z}function XZ(f,$){var Z=$.dir||$.root,J=$.base||($.name||"")+($.ext||"");if(!Z)return J;if(Z===$.root)return Z+J;return Z+f+J}function j1(){var f="",$=!1,Z;for(var J=arguments.length-1;J>=-1&&!$;J--){var z;if(J>=0)z=arguments[J];else{if(Z===void 0)Z=process.cwd();z=Z}if(v0(z),z.length===0)continue;f=z+"/"+f,$=z.charCodeAt(0)===47}if(f=V4(f,!$),$)if(f.length>0)return"/"+f;else return"/";else if(f.length>0)return f;else return"."}function Yf(f){if(v0(f),f.length===0)return".";var $=f.charCodeAt(0)===47,Z=f.charCodeAt(f.length-1)===47;if(f=V4(f,!$),f.length===0&&!$)f=".";if(f.length>0&&Z)f+="/";if($)return"/"+f;return f}function B4(f){return v0(f),f.length>0&&f.charCodeAt(0)===47}function U4(){if(arguments.length===0)return".";var f;for(var $=0;$<arguments.length;++$){var Z=arguments[$];if(v0(Z),Z.length>0)if(f===void 0)f=Z;else f+="/"+Z}if(f===void 0)return".";return Yf(f)}function w4(f,$){if(v0(f),v0($),f===$)return"";if(f=j1(f),$=j1($),f===$)return"";var Z=1;for(;Z<f.length;++Z)if(f.charCodeAt(Z)!==47)break;var J=f.length,z=J-Z,Q=1;for(;Q<$.length;++Q)if($.charCodeAt(Q)!==47)break;var Y=$.length,W=Y-Q,X=z<W?z:W,B=-1,V=0;for(;V<=X;++V){if(V===X){if(W>X){if($.charCodeAt(Q+V)===47)return $.slice(Q+V+1);else if(V===0)return $.slice(Q+V)}else if(z>X){if(f.charCodeAt(Z+V)===47)B=V;else if(V===0)B=0}break}var H=f.charCodeAt(Z+V),O=$.charCodeAt(Q+V);if(H!==O)break;else if(H===47)B=V}var T="";for(V=Z+B+1;V<=J;++V)if(V===J||f.charCodeAt(V)===47)if(T.length===0)T+="..";else T+="/..";if(T.length>0)return T+$.slice(Q+B);else{if(Q+=B,$.charCodeAt(Q)===47)++Q;return $.slice(Q)}}function H4(f){return f}function G4(f){if(v0(f),f.length===0)return".";var $=f.charCodeAt(0),Z=$===47,J=-1,z=!0;for(var Q=f.length-1;Q>=1;--Q)if($=f.charCodeAt(Q),$===47){if(!z){J=Q;break}}else z=!1;if(J===-1)return Z?"/":".";if(Z&&J===1)return"//";return f.slice(0,J)}function F4(f,$){if($!==void 0&&typeof $!=="string")throw new TypeError('"ext" argument must be a string');v0(f);var Z=0,J=-1,z=!0,Q;if($!==void 0&&$.length>0&&$.length<=f.length){if($.length===f.length&&$===f)return"";var Y=$.length-1,W=-1;for(Q=f.length-1;Q>=0;--Q){var X=f.charCodeAt(Q);if(X===47){if(!z){Z=Q+1;break}}else{if(W===-1)z=!1,W=Q+1;if(Y>=0)if(X===$.charCodeAt(Y)){if(--Y===-1)J=Q}else Y=-1,J=W}}if(Z===J)J=W;else if(J===-1)J=f.length;return f.slice(Z,J)}else{for(Q=f.length-1;Q>=0;--Q)if(f.charCodeAt(Q)===47){if(!z){Z=Q+1;break}}else if(J===-1)z=!1,J=Q+1;if(J===-1)return"";return f.slice(Z,J)}}function K4(f){v0(f);var $=-1,Z=0,J=-1,z=!0,Q=0;for(var Y=f.length-1;Y>=0;--Y){var W=f.charCodeAt(Y);if(W===47){if(!z){Z=Y+1;break}continue}if(J===-1)z=!1,J=Y+1;if(W===46){if($===-1)$=Y;else if(Q!==1)Q=1}else if($!==-1)Q=-1}if($===-1||J===-1||Q===0||Q===1&&$===J-1&&$===Z+1)return"";return f.slice($,J)}function D4(f){if(f===null||typeof f!=="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return XZ("/",f)}function O4(f){v0(f);var $={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return $;var Z=f.charCodeAt(0),J=Z===47,z;if(J)$.root="/",z=1;else z=0;var Q=-1,Y=0,W=-1,X=!0,B=f.length-1,V=0;for(;B>=z;--B){if(Z=f.charCodeAt(B),Z===47){if(!X){Y=B+1;break}continue}if(W===-1)X=!1,W=B+1;if(Z===46){if(Q===-1)Q=B;else if(V!==1)V=1}else if(Q!==-1)V=-1}if(Q===-1||W===-1||V===0||V===1&&Q===W-1&&Q===Y+1){if(W!==-1)if(Y===0&&J)$.base=$.name=f.slice(1,W);else $.base=$.name=f.slice(Y,W)}else{if(Y===0&&J)$.name=f.slice(1,Q),$.base=f.slice(1,W);else $.name=f.slice(Y,Q),$.base=f.slice(Y,W);$.ext=f.slice(Q,W)}if(Y>0)$.dir=f.slice(0,Y-1);else if(J)$.dir="/";return $}var L4="/",M4=":",A4,s0;var Wf=Qf(()=>{A4=((f)=>(f.posix=f,f))({resolve:j1,normalize:Yf,isAbsolute:B4,join:U4,relative:w4,_makeLong:H4,dirname:G4,basename:F4,extname:K4,format:D4,parse:O4,sep:L4,delimiter:M4,win32:null,posix:null}),s0=A4});var C4=Z0((FZ)=>{var VZ=/[|\\{}()[\]^$+*?.]/g,BZ=Object.prototype.hasOwnProperty,Vf=function(f,$){return BZ.apply(f,[$])};FZ.escapeRegExpChars=function(f){if(!f)return"";return String(f).replace(VZ,"\\$&")};var UZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},wZ=/[&<>'"]/g;function HZ(f){return UZ[f]||f}var GZ=`var _ENCODE_HTML_RULES = {
      "&": "&amp;"
    , "<": "&lt;"
    , ">": "&gt;"
    , '"': "&#34;"
    , "'": "&#39;"
    }
  , _MATCH_HTML = /[&<>'"]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
`;FZ.escapeXML=function(f){return f==null?"":String(f).replace(wZ,HZ)};function T4(){return Function.prototype.toString.call(this)+`;
`+GZ}try{if(typeof Object.defineProperty==="function")Object.defineProperty(FZ.escapeXML,"toString",{value:T4});else FZ.escapeXML.toString=T4}catch(f){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}FZ.shallowCopy=function(f,$){if($=$||{},f!==null&&f!==void 0)for(var Z in $){if(!Vf($,Z))continue;if(Z==="__proto__"||Z==="constructor")continue;f[Z]=$[Z]}return f};FZ.shallowCopyFromList=function(f,$,Z){if(Z=Z||[],$=$||{},f!==null&&f!==void 0)for(var J=0;J<Z.length;J++){var z=Z[J];if(typeof $[z]!="undefined"){if(!Vf($,z))continue;if(z==="__proto__"||z==="constructor")continue;f[z]=$[z]}}return f};FZ.cache={_data:{},set:function(f,$){this._data[f]=$},get:function(f){return this._data[f]},remove:function(f){delete this._data[f]},reset:function(){this._data={}}};FZ.hyphenToCamel=function(f){return f.replace(/-[a-z]/g,function($){return $[1].toUpperCase()})};FZ.createNullProtoObjWherePossible=function(){if(typeof Object.create=="function")return function(){return Object.create(null)};if(!({__proto__:null}instanceof Object))return function(){return{__proto__:null}};return function(){return{}}}();FZ.hasOwnOnlyObject=function(f){var $=FZ.createNullProtoObjWherePossible();for(var Z in f)if(Vf(f,Z))$[Z]=f[Z];return $}});var N4=Z0((Q6,qZ)=>{qZ.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.10",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.8.5"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"npx jake test"}}});var u4=Z0((g4)=>{var wf=(()=>({})),U1=(Wf(),r0(q4)),F0=C4(),I4=!1,TZ=N4().version,jZ="<",CZ=">",NZ="%",_4="locals",IZ="ejs",RZ="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",v4=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],SZ=v4.concat("cache"),R4=/^\uFEFF/,Bf=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;g4.cache=F0.cache;g4.fileLoader=wf.readFileSync;g4.localsName=_4;g4.promiseImpl=new Function("return this;")().Promise;g4.resolveInclude=function(f,$,Z){var{dirname:J,extname:z,resolve:Q}=U1,Y=Q(Z?$:J($),f),W=z(f);if(!W)Y+=".ejs";return Y};function S4(f,$){var Z;if($.some(function(J){return Z=g4.resolveInclude(f,J,!0),wf.existsSync(Z)}))return Z}function EZ(f,$){var Z,J,z=$.views,Q=/^[A-Za-z]+:\\|^\//.exec(f);if(Q&&Q.length)if(f=f.replace(/^\/*/,""),Array.isArray($.root))Z=S4(f,$.root);else Z=g4.resolveInclude(f,$.root||"/",!0);else{if($.filename){if(J=g4.resolveInclude(f,$.filename),wf.existsSync(J))Z=J}if(!Z&&Array.isArray(z))Z=S4(f,z);if(!Z&&typeof $.includer!=="function")throw new Error('Could not find the include file "'+$.escapeFunction(f)+'"')}return Z}function w1(f,$){var Z,J=f.filename,z=arguments.length>1;if(f.cache){if(!J)throw new Error("cache option requires a filename");if(Z=g4.cache.get(J),Z)return Z;if(!z)$=E4(J).toString().replace(R4,"")}else if(!z){if(!J)throw new Error("Internal EJS error: no file name or template provided");$=E4(J).toString().replace(R4,"")}if(Z=g4.compile($,f),f.cache)g4.cache.set(J,Z);return Z}function PZ(f,$,Z){var J;if(!Z)if(typeof g4.promiseImpl=="function")return new g4.promiseImpl(function(z,Q){try{J=w1(f)($),z(J)}catch(Y){Q(Y)}});else throw new Error("Please provide a callback function");else{try{J=w1(f)($)}catch(z){return Z(z)}Z(null,J)}}function E4(f){return g4.fileLoader(f)}function bZ(f,$){var Z=F0.shallowCopy(F0.createNullProtoObjWherePossible(),$);if(Z.filename=EZ(f,Z),typeof $.includer==="function"){var J=$.includer(f,Z.filename);if(J){if(J.filename)Z.filename=J.filename;if(J.template)return w1(Z,J.template)}}return w1(Z)}function P4(f,$,Z,J,z){var Q=$.split(`
`),Y=Math.max(J-3,0),W=Math.min(Q.length,J+3),X=z(Z),B=Q.slice(Y,W).map(function(V,H){var O=H+Y+1;return(O==J?" >> ":"    ")+O+"| "+V}).join(`
`);throw f.path=X,f.message=(X||"ejs")+":"+J+`
`+B+`

`+f.message,f}function b4(f){return f.replace(/;(\s*$)/,"$1")}g4.compile=function f($,Z){var J;if(Z&&Z.scope){if(!I4)console.warn("`scope` option is deprecated and will be removed in EJS 3"),I4=!0;if(!Z.context)Z.context=Z.scope;delete Z.scope}return J=new M0($,Z),J.compile()};g4.render=function(f,$,Z){var J=$||F0.createNullProtoObjWherePossible(),z=Z||F0.createNullProtoObjWherePossible();if(arguments.length==2)F0.shallowCopyFromList(z,J,v4);return w1(z,f)(J)};g4.renderFile=function(){var f=Array.prototype.slice.call(arguments),$=f.shift(),Z,J={filename:$},z,Q;if(typeof arguments[arguments.length-1]=="function")Z=f.pop();if(f.length){if(z=f.shift(),f.length)F0.shallowCopy(J,f.pop());else{if(z.settings){if(z.settings.views)J.views=z.settings.views;if(z.settings["view cache"])J.cache=!0;if(Q=z.settings["view options"],Q)F0.shallowCopy(J,Q)}F0.shallowCopyFromList(J,z,SZ)}J.filename=$}else z=F0.createNullProtoObjWherePossible();return PZ(J,z,Z)};g4.Template=M0;g4.clearCache=function(){g4.cache.reset()};function M0(f,$){var Z=F0.hasOwnOnlyObject($),J=F0.createNullProtoObjWherePossible();if(this.templateText=f,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",J.client=Z.client||!1,J.escapeFunction=Z.escape||Z.escapeFunction||F0.escapeXML,J.compileDebug=Z.compileDebug!==!1,J.debug=!!Z.debug,J.filename=Z.filename,J.openDelimiter=Z.openDelimiter||g4.openDelimiter||jZ,J.closeDelimiter=Z.closeDelimiter||g4.closeDelimiter||CZ,J.delimiter=Z.delimiter||g4.delimiter||NZ,J.strict=Z.strict||!1,J.context=Z.context,J.cache=Z.cache||!1,J.rmWhitespace=Z.rmWhitespace,J.root=Z.root,J.includer=Z.includer,J.outputFunctionName=Z.outputFunctionName,J.localsName=Z.localsName||g4.localsName||_4,J.views=Z.views,J.async=Z.async,J.destructuredLocals=Z.destructuredLocals,J.legacyInclude=typeof Z.legacyInclude!="undefined"?!!Z.legacyInclude:!0,J.strict)J._with=!1;else J._with=typeof Z._with!="undefined"?Z._with:!0;this.opts=J,this.regex=this.createRegex()}M0.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"};M0.prototype={createRegex:function(){var f=RZ,$=F0.escapeRegExpChars(this.opts.delimiter),Z=F0.escapeRegExpChars(this.opts.openDelimiter),J=F0.escapeRegExpChars(this.opts.closeDelimiter);return f=f.replace(/%/g,$).replace(/</g,Z).replace(/>/g,J),new RegExp(f)},compile:function(){var f,$,Z=this.opts,J="",z="",Q=Z.escapeFunction,Y,W=Z.filename?JSON.stringify(Z.filename):"undefined";if(!this.source){if(this.generateSource(),J+=`  var __output = "";
  function __append(s) { if (s !== undefined && s !== null) __output += s }
`,Z.outputFunctionName){if(!Bf.test(Z.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");J+="  var "+Z.outputFunctionName+` = __append;
`}if(Z.localsName&&!Bf.test(Z.localsName))throw new Error("localsName is not a valid JS identifier.");if(Z.destructuredLocals&&Z.destructuredLocals.length){var X="  var __locals = ("+Z.localsName+` || {}),
`;for(var B=0;B<Z.destructuredLocals.length;B++){var V=Z.destructuredLocals[B];if(!Bf.test(V))throw new Error("destructuredLocals["+B+"] is not a valid JS identifier.");if(B>0)X+=`,
  `;X+=V+" = __locals."+V}J+=X+`;
`}if(Z._with!==!1)J+="  with ("+Z.localsName+` || {}) {
`,z+=`  }
`;z+=`  return __output;
`,this.source=J+this.source+z}if(Z.compileDebug)f=`var __line = 1
  , __lines = `+JSON.stringify(this.templateText)+`
  , __filename = `+W+`;
try {
`+this.source+`} catch (e) {
  rethrow(e, __lines, __filename, __line, escapeFn);
}
`;else f=this.source;if(Z.client){if(f="escapeFn = escapeFn || "+Q.toString()+`;
`+f,Z.compileDebug)f="rethrow = rethrow || "+P4.toString()+`;
`+f}if(Z.strict)f=`"use strict";
`+f;if(Z.debug)console.log(f);if(Z.compileDebug&&Z.filename)f=f+`
//# sourceURL=`+W+`
`;try{if(Z.async)try{Y=new Function("return (async function(){}).constructor;")()}catch(q){if(q instanceof SyntaxError)throw new Error("This environment does not support async/await");else throw q}else Y=Function;$=new Y(Z.localsName+", escapeFn, include, rethrow",f)}catch(q){if(q instanceof SyntaxError){if(Z.filename)q.message+=" in "+Z.filename;if(q.message+=` while compiling ejs

`,q.message+=`If the above error is not helpful, you may want to try EJS-Lint:
`,q.message+="https://github.com/RyanZim/EJS-Lint",!Z.async)q.message+=`
`,q.message+="Or, if you meant to create an async function, pass `async: true` as an option."}throw q}var H=Z.client?$:function q(E){var x=function(_,g){var v=F0.shallowCopy(F0.createNullProtoObjWherePossible(),E);if(g)v=F0.shallowCopy(v,g);return bZ(_,Z)(v)};return $.apply(Z.context,[E||F0.createNullProtoObjWherePossible(),Q,x,P4])};if(Z.filename&&typeof Object.defineProperty==="function"){var O=Z.filename,T=U1.basename(O,U1.extname(O));try{Object.defineProperty(H,"name",{value:T,writable:!1,enumerable:!1,configurable:!0})}catch(q){}}return H},generateSource:function(){var f=this.opts;if(f.rmWhitespace)this.templateText=this.templateText.replace(/[\r\n]+/g,`
`).replace(/^\s+|\s+$/gm,"");this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var $=this,Z=this.parseTemplateText(),J=this.opts.delimiter,z=this.opts.openDelimiter,Q=this.opts.closeDelimiter;if(Z&&Z.length)Z.forEach(function(Y,W){var X;if(Y.indexOf(z+J)===0&&Y.indexOf(z+J+J)!==0){if(X=Z[W+2],!(X==J+Q||X=="-"+J+Q||X=="_"+J+Q))throw new Error('Could not find matching close tag for "'+Y+'".')}$.scanLine(Y)})},parseTemplateText:function(){var f=this.templateText,$=this.regex,Z=$.exec(f),J=[],z;while(Z){if(z=Z.index,z!==0)J.push(f.substring(0,z)),f=f.slice(z);J.push(Z[0]),f=f.slice(Z[0].length),Z=$.exec(f)}if(f)J.push(f);return J},_addOutput:function(f){if(this.truncate)f=f.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1;if(!f)return f;f=f.replace(/\\/g,"\\\\"),f=f.replace(/\n/g,"\\n"),f=f.replace(/\r/g,"\\r"),f=f.replace(/"/g,"\\\""),this.source+='    ; __append("'+f+`")
`},scanLine:function(f){var $=this,Z=this.opts.delimiter,J=this.opts.openDelimiter,z=this.opts.closeDelimiter,Q=0;switch(Q=f.split(`
`).length-1,f){case J+Z:case J+Z+"_":this.mode=M0.modes.EVAL;break;case J+Z+"=":this.mode=M0.modes.ESCAPED;break;case J+Z+"-":this.mode=M0.modes.RAW;break;case J+Z+"#":this.mode=M0.modes.COMMENT;break;case J+Z+Z:this.mode=M0.modes.LITERAL,this.source+='    ; __append("'+f.replace(J+Z+Z,J+Z)+`")
`;break;case Z+Z+z:this.mode=M0.modes.LITERAL,this.source+='    ; __append("'+f.replace(Z+Z+z,Z+z)+`")
`;break;case Z+z:case"-"+Z+z:case"_"+Z+z:if(this.mode==M0.modes.LITERAL)this._addOutput(f);this.mode=null,this.truncate=f.indexOf("-")===0||f.indexOf("_")===0;break;default:if(this.mode){switch(this.mode){case M0.modes.EVAL:case M0.modes.ESCAPED:case M0.modes.RAW:if(f.lastIndexOf("//")>f.lastIndexOf(`
`))f+=`
`}switch(this.mode){case M0.modes.EVAL:this.source+="    ; "+f+`
`;break;case M0.modes.ESCAPED:this.source+="    ; __append(escapeFn("+b4(f)+`))
`;break;case M0.modes.RAW:this.source+="    ; __append("+b4(f)+`)
`;break;case M0.modes.COMMENT:break;case M0.modes.LITERAL:this._addOutput(f);break}}else this._addOutput(f)}if($.opts.compileDebug&&Q)this.currentLine+=Q,this.source+="    ; __line = "+this.currentLine+`
`}};g4.escapeXML=F0.escapeXML;g4.__express=g4.renderFile;g4.VERSION=TZ;g4.name=IZ;if(typeof window!="undefined")window.ejs=g4});var r4={};zf(r4,{types:()=>z8,promisify:()=>H8,log:()=>U8,isUndefined:()=>t0,isSymbol:()=>Y8,isString:()=>k1,isRegExp:()=>b1,isPrimitive:()=>W8,isObject:()=>e0,isNumber:()=>n4,isNullOrUndefined:()=>Q8,isNull:()=>x1,isFunction:()=>v1,isError:()=>_1,isDate:()=>Lf,isBuffer:()=>X8,isBoolean:()=>Af,isArray:()=>i4,inspect:()=>d0,inherits:()=>w8,format:()=>Mf,deprecate:()=>sZ,debuglog:()=>aZ,callbackifyOnRejected:()=>o4,callbackify:()=>G8,_extend:()=>l4,TextEncoder:()=>F8,TextDecoder:()=>K8});function Mf(f,...$){if(!k1(f)){var Z=[f];for(var J=0;J<$.length;J++)Z.push(d0($[J]));return Z.join(" ")}var J=0,z=$.length,Q=String(f).replace(rZ,function(W){if(W==="%%")return"%";if(J>=z)return W;switch(W){case"%s":return String($[J++]);case"%d":return Number($[J++]);case"%j":try{return JSON.stringify($[J++])}catch(X){return"[Circular]"}default:return W}});for(var Y=$[J];J<z;Y=$[++J])if(x1(Y)||!e0(Y))Q+=" "+Y;else Q+=" "+d0(Y);return Q}function sZ(f,$){if(typeof process==="undefined"||process?.noDeprecation===!0)return f;var Z=!1;function J(...z){if(!Z){if(process.throwDeprecation)throw new Error($);else if(process.traceDeprecation)console.trace($);else console.error($);Z=!0}return f.apply(this,...z)}return J}function tZ(f,$){var Z=d0.styles[$];if(Z)return"\x1B["+d0.colors[Z][0]+"m"+f+"\x1B["+d0.colors[Z][1]+"m";else return f}function eZ(f,$){return f}function f8(f){var $={};return f.forEach(function(Z,J){$[Z]=!0}),$}function g1(f,$,Z){if(f.customInspect&&$&&v1($.inspect)&&$.inspect!==d0&&!($.constructor&&$.constructor.prototype===$)){var J=$.inspect(Z,f);if(!k1(J))J=g1(f,J,Z);return J}var z=$8(f,$);if(z)return z;var Q=Object.keys($),Y=f8(Q);if(f.showHidden)Q=Object.getOwnPropertyNames($);if(_1($)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return Kf($);if(Q.length===0){if(v1($)){var W=$.name?": "+$.name:"";return f.stylize("[Function"+W+"]","special")}if(b1($))return f.stylize(RegExp.prototype.toString.call($),"regexp");if(Lf($))return f.stylize(Date.prototype.toString.call($),"date");if(_1($))return Kf($)}var X="",B=!1,V=["{","}"];if(i4($))B=!0,V=["[","]"];if(v1($)){var H=$.name?": "+$.name:"";X=" [Function"+H+"]"}if(b1($))X=" "+RegExp.prototype.toString.call($);if(Lf($))X=" "+Date.prototype.toUTCString.call($);if(_1($))X=" "+Kf($);if(Q.length===0&&(!B||$.length==0))return V[0]+X+V[1];if(Z<0)if(b1($))return f.stylize(RegExp.prototype.toString.call($),"regexp");else return f.stylize("[Object]","special");f.seen.push($);var O;if(B)O=Z8(f,$,Z,Y,Q);else O=Q.map(function(T){return Of(f,$,Z,Y,T,B)});return f.seen.pop(),J8(O,X,V)}function $8(f,$){if(t0($))return f.stylize("undefined","undefined");if(k1($)){var Z="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f.stylize(Z,"string")}if(n4($))return f.stylize(""+$,"number");if(Af($))return f.stylize(""+$,"boolean");if(x1($))return f.stylize("null","null")}function Kf(f){return"["+Error.prototype.toString.call(f)+"]"}function Z8(f,$,Z,J,z){var Q=[];for(var Y=0,W=$.length;Y<W;++Y)if(p4($,String(Y)))Q.push(Of(f,$,Z,J,String(Y),!0));else Q.push("");return z.forEach(function(X){if(!X.match(/^\d+$/))Q.push(Of(f,$,Z,J,X,!0))}),Q}function Of(f,$,Z,J,z,Q){var Y,W,X;if(X=Object.getOwnPropertyDescriptor($,z)||{value:$[z]},X.get)if(X.set)W=f.stylize("[Getter/Setter]","special");else W=f.stylize("[Getter]","special");else if(X.set)W=f.stylize("[Setter]","special");if(!p4(J,z))Y="["+z+"]";if(!W)if(f.seen.indexOf(X.value)<0){if(x1(Z))W=g1(f,X.value,null);else W=g1(f,X.value,Z-1);if(W.indexOf(`
`)>-1)if(Q)W=W.split(`
`).map(function(B){return"  "+B}).join(`
`).slice(2);else W=`
`+W.split(`
`).map(function(B){return"   "+B}).join(`
`)}else W=f.stylize("[Circular]","special");if(t0(Y)){if(Q&&z.match(/^\d+$/))return W;if(Y=JSON.stringify(""+z),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/))Y=Y.slice(1,-1),Y=f.stylize(Y,"name");else Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=f.stylize(Y,"string")}return Y+": "+W}function J8(f,$,Z){var J=0,z=f.reduce(function(Q,Y){if(J++,Y.indexOf(`
`)>=0)J++;return Q+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(z>60)return Z[0]+($===""?"":$+`
 `)+" "+f.join(`,
  `)+" "+Z[1];return Z[0]+$+" "+f.join(", ")+" "+Z[1]}function i4(f){return Array.isArray(f)}function Af(f){return typeof f==="boolean"}function x1(f){return f===null}function Q8(f){return f==null}function n4(f){return typeof f==="number"}function k1(f){return typeof f==="string"}function Y8(f){return typeof f==="symbol"}function t0(f){return f===void 0}function b1(f){return e0(f)&&qf(f)==="[object RegExp]"}function e0(f){return typeof f==="object"&&f!==null}function Lf(f){return e0(f)&&qf(f)==="[object Date]"}function _1(f){return e0(f)&&(qf(f)==="[object Error]"||f instanceof Error)}function v1(f){return typeof f==="function"}function W8(f){return f===null||typeof f==="boolean"||typeof f==="number"||typeof f==="string"||typeof f==="symbol"||typeof f==="undefined"}function X8(f){return f instanceof Buffer}function qf(f){return Object.prototype.toString.call(f)}function Df(f){return f<10?"0"+f.toString(10):f.toString(10)}function B8(){var f=new Date,$=[Df(f.getHours()),Df(f.getMinutes()),Df(f.getSeconds())].join(":");return[f.getDate(),V8[f.getMonth()],$].join(" ")}function U8(...f){console.log("%s - %s",B8(),Mf.apply(null,f))}function w8(f,$){if($)f.super_=$,f.prototype=Object.create($.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}function l4(f,$){if(!$||!e0($))return f;var Z=Object.keys($),J=Z.length;while(J--)f[Z[J]]=$[Z[J]];return f}function p4(f,$){return Object.prototype.hasOwnProperty.call(f,$)}function o4(f,$){if(!f){var Z=new Error("Promise was rejected with a falsy value");Z.reason=f,f=Z}return $(f)}function G8(f){if(typeof f!=="function")throw new TypeError('The "original" argument must be of type Function');function $(...Z){var J=Z.pop();if(typeof J!=="function")throw new TypeError("The last argument must be of type Function");var z=this,Q=function(...Y){return J.apply(z,...Y)};f.apply(this,Z).then(function(Y){process.nextTick(Q.bind(null,null,Y))},function(Y){process.nextTick(o4.bind(null,Y,Q))})}return Object.setPrototypeOf($,Object.getPrototypeOf(f)),Object.defineProperties($,Object.getOwnPropertyDescriptors(f)),$}var rZ,aZ,d0,z8=()=>{},V8,H8,F8,K8;var s4=Qf(()=>{rZ=/%[sdj%]/g;aZ=((f={},$={},Z)=>((Z=typeof process!=="undefined"&&process.env.NODE_DEBUG)&&(Z=Z.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),$=new RegExp("^"+Z+"$","i"),(J)=>{if(J=J.toUpperCase(),!f[J])if($.test(J))f[J]=function(...z){console.error("%s: %s",J,pid,Mf.apply(null,...z))};else f[J]=function(){};return f[J]}))(),d0=((f)=>(f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},f.custom=Symbol.for("nodejs.util.inspect.custom"),f))(function f($,Z,...J){var z={seen:[],stylize:eZ};if(J.length>=1)z.depth=J[0];if(J.length>=2)z.colors=J[1];if(Af(Z))z.showHidden=Z;else if(Z)l4(z,Z);if(t0(z.showHidden))z.showHidden=!1;if(t0(z.depth))z.depth=2;if(t0(z.colors))z.colors=!1;if(z.colors)z.stylize=tZ;return g1(z,$,z.depth)});V8=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];H8=((f)=>(f.custom=Symbol.for("nodejs.util.promisify.custom"),f))(function f($){if(typeof $!=="function")throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&$[kCustomPromisifiedSymbol]){var Z=$[kCustomPromisifiedSymbol];if(typeof Z!=="function")throw new TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(Z,kCustomPromisifiedSymbol,{value:Z,enumerable:!1,writable:!1,configurable:!0}),Z}function Z(...J){var z,Q,Y=new Promise(function(W,X){z=W,Q=X});J.push(function(W,X){if(W)Q(W);else z(X)});try{$.apply(this,J)}catch(W){Q(W)}return Y}if(Object.setPrototypeOf(Z,Object.getPrototypeOf($)),kCustomPromisifiedSymbol)Object.defineProperty(Z,kCustomPromisifiedSymbol,{value:Z,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(Z,Object.getOwnPropertyDescriptors($))});({TextEncoder:F8,TextDecoder:K8}=globalThis)});var D1={};zf(D1,{throws:()=>EJ,strictEqual:()=>SJ,strict:()=>RJ,rejects:()=>IJ,ok:()=>NJ,notStrictEqual:()=>CJ,notEqual:()=>jJ,notDeepStrictEqual:()=>TJ,notDeepEqual:()=>qJ,match:()=>AJ,ifError:()=>MJ,fail:()=>LJ,equal:()=>OJ,doesNotThrow:()=>DJ,doesNotReject:()=>KJ,doesNotMatch:()=>FJ,default:()=>PJ,deepStrictEqual:()=>GJ,deepEqual:()=>HJ,CallTracker:()=>wJ,AssertionError:()=>UJ});var D8,O8,a4,L8,M8,A8=(f,$,Z)=>{Z=f!=null?D8(O8(f)):{};let J=$||!f||!f.__esModule?a4(Z,"default",{value:f,enumerable:!0}):Z;for(let z of L8(f))if(!M8.call(J,z))a4(J,z,{get:()=>f[z],enumerable:!0});return J},u=(f,$)=>()=>($||f(($={exports:{}}).exports,$),$.exports),jf,y1,Cf,q8,T8,j8,C8,t4,F1,N8,I8,R8,S8,E8,P8,b8,_8,v8,g8,f1,u1,x8,e4,f$,k8,K1,Nf,If,y8,$$,Rf,u8,Sf,Z$,Ef,$1,c8,h8,m8,d8,i8,n8,l8,p8,J$,z$,o8,r8,c1,Q$,s8,a8,t8,e8,fJ,G1,Y$,$J,W$,ZJ,X$,JJ,zJ,V$,Pf,QJ,h1,YJ,WJ,B$,U$,XJ,VJ,BJ,Tf,w$,UJ,wJ,HJ,GJ,FJ,KJ,DJ,OJ,LJ,MJ,AJ,qJ,TJ,jJ,CJ,NJ,IJ,RJ,SJ,EJ,PJ;var O1=Qf(()=>{D8=Object.create,{getPrototypeOf:O8,defineProperty:a4,getOwnPropertyNames:L8}=Object,M8=Object.prototype.hasOwnProperty,jf=u((f,$)=>{$.exports=function Z(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function")return!1;if(typeof Symbol.iterator==="symbol")return!0;var J={},z=Symbol("test"),Q=Object(z);if(typeof z==="string")return!1;if(Object.prototype.toString.call(z)!=="[object Symbol]")return!1;if(Object.prototype.toString.call(Q)!=="[object Symbol]")return!1;var Y=42;J[z]=Y;for(var W in J)return!1;if(typeof Object.keys==="function"&&Object.keys(J).length!==0)return!1;if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(J).length!==0)return!1;var X=Object.getOwnPropertySymbols(J);if(X.length!==1||X[0]!==z)return!1;if(!Object.prototype.propertyIsEnumerable.call(J,z))return!1;if(typeof Object.getOwnPropertyDescriptor==="function"){var B=Object.getOwnPropertyDescriptor(J,z);if(B.value!==Y||B.enumerable!==!0)return!1}return!0}}),y1=u((f,$)=>{var Z=jf();$.exports=function J(){return Z()&&!!Symbol.toStringTag}}),Cf=u((f,$)=>{$.exports=Object}),q8=u((f,$)=>{$.exports=Error}),T8=u((f,$)=>{$.exports=EvalError}),j8=u((f,$)=>{$.exports=RangeError}),C8=u((f,$)=>{$.exports=ReferenceError}),t4=u((f,$)=>{$.exports=SyntaxError}),F1=u((f,$)=>{$.exports=TypeError}),N8=u((f,$)=>{$.exports=URIError}),I8=u((f,$)=>{$.exports=Math.abs}),R8=u((f,$)=>{$.exports=Math.floor}),S8=u((f,$)=>{$.exports=Math.max}),E8=u((f,$)=>{$.exports=Math.min}),P8=u((f,$)=>{$.exports=Math.pow}),b8=u((f,$)=>{$.exports=Math.round}),_8=u((f,$)=>{$.exports=Number.isNaN||function Z(J){return J!==J}}),v8=u((f,$)=>{var Z=_8();$.exports=function J(z){if(Z(z)||z===0)return z;return z<0?-1:1}}),g8=u((f,$)=>{$.exports=Object.getOwnPropertyDescriptor}),f1=u((f,$)=>{var Z=g8();if(Z)try{Z([],"length")}catch(J){Z=null}$.exports=Z}),u1=u((f,$)=>{var Z=Object.defineProperty||!1;if(Z)try{Z({},"a",{value:1})}catch(J){Z=!1}$.exports=Z}),x8=u((f,$)=>{var Z=typeof Symbol!=="undefined"&&Symbol,J=jf();$.exports=function z(){if(typeof Z!=="function")return!1;if(typeof Symbol!=="function")return!1;if(typeof Z("foo")!=="symbol")return!1;if(typeof Symbol("bar")!=="symbol")return!1;return J()}}),e4=u((f,$)=>{$.exports=typeof Reflect!=="undefined"&&Reflect.getPrototypeOf||null}),f$=u((f,$)=>{var Z=Cf();$.exports=Z.getPrototypeOf||null}),k8=u((f,$)=>{var Z="Function.prototype.bind called on incompatible ",J=Object.prototype.toString,z=Math.max,Q="[object Function]",Y=function B(V,H){var O=[];for(var T=0;T<V.length;T+=1)O[T]=V[T];for(var q=0;q<H.length;q+=1)O[q+V.length]=H[q];return O},W=function B(V,H){var O=[];for(var T=H||0,q=0;T<V.length;T+=1,q+=1)O[q]=V[T];return O},X=function(B,V){var H="";for(var O=0;O<B.length;O+=1)if(H+=B[O],O+1<B.length)H+=V;return H};$.exports=function B(V){var H=this;if(typeof H!=="function"||J.apply(H)!==Q)throw new TypeError(Z+H);var O=W(arguments,1),T,q=function(){if(this instanceof T){var v=H.apply(this,Y(O,arguments));if(Object(v)===v)return v;return this}return H.apply(V,Y(O,arguments))},E=z(0,H.length-O.length),x=[];for(var _=0;_<E;_++)x[_]="$"+_;if(T=Function("binder","return function ("+X(x,",")+"){ return binder.apply(this,arguments); }")(q),H.prototype){var g=function v(){};g.prototype=H.prototype,T.prototype=new g,g.prototype=null}return T}}),K1=u((f,$)=>{var Z=k8();$.exports=Function.prototype.bind||Z}),Nf=u((f,$)=>{$.exports=Function.prototype.call}),If=u((f,$)=>{$.exports=Function.prototype.apply}),y8=u((f,$)=>{$.exports=typeof Reflect!=="undefined"&&Reflect&&Reflect.apply}),$$=u((f,$)=>{var Z=K1(),J=If(),z=Nf(),Q=y8();$.exports=Q||Z.call(z,J)}),Rf=u((f,$)=>{var Z=K1(),J=F1(),z=Nf(),Q=$$();$.exports=function Y(W){if(W.length<1||typeof W[0]!=="function")throw new J("a function is required");return Q(Z,z,W)}}),u8=u((f,$)=>{var Z=Rf(),J=f1(),z;try{z=[].__proto__===Array.prototype}catch(X){if(!X||typeof X!=="object"||!("code"in X)||X.code!=="ERR_PROTO_ACCESS")throw X}var Q=!!z&&J&&J(Object.prototype,"__proto__"),Y=Object,W=Y.getPrototypeOf;$.exports=Q&&typeof Q.get==="function"?Z([Q.get]):typeof W==="function"?function X(B){return W(B==null?B:Y(B))}:!1}),Sf=u((f,$)=>{var Z=e4(),J=f$(),z=u8();$.exports=Z?function Q(Y){return Z(Y)}:J?function Q(Y){if(!Y||typeof Y!=="object"&&typeof Y!=="function")throw new TypeError("getProto: not an object");return J(Y)}:z?function Q(Y){return z(Y)}:null}),Z$=u((f,$)=>{var Z=Function.prototype.call,J=Object.prototype.hasOwnProperty,z=K1();$.exports=z.call(Z,J)}),Ef=u((f,$)=>{var Z,J=Cf(),z=q8(),Q=T8(),Y=j8(),W=C8(),X=t4(),B=F1(),V=N8(),H=I8(),O=R8(),T=S8(),q=E8(),E=P8(),x=b8(),_=v8(),g=Function,v=function(G){try{return g('"use strict"; return ('+G+").constructor;")()}catch(M){}},b=f1(),i=u1(),a=function(){throw new B},N=b?function(){try{return arguments.callee,a}catch(G){try{return b(arguments,"callee").get}catch(M){return a}}}():a,j=x8()(),I=Sf(),h=f$(),r=e4(),m=If(),$0=Nf(),n={},V0=typeof Uint8Array==="undefined"||!I?Z:I(Uint8Array),B0={__proto__:null,"%AggregateError%":typeof AggregateError==="undefined"?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?Z:ArrayBuffer,"%ArrayIteratorPrototype%":j&&I?I([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics==="undefined"?Z:Atomics,"%BigInt%":typeof BigInt==="undefined"?Z:BigInt,"%BigInt64Array%":typeof BigInt64Array==="undefined"?Z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array==="undefined"?Z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView==="undefined"?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":z,"%eval%":eval,"%EvalError%":Q,"%Float16Array%":typeof Float16Array==="undefined"?Z:Float16Array,"%Float32Array%":typeof Float32Array==="undefined"?Z:Float32Array,"%Float64Array%":typeof Float64Array==="undefined"?Z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry==="undefined"?Z:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array==="undefined"?Z:Int8Array,"%Int16Array%":typeof Int16Array==="undefined"?Z:Int16Array,"%Int32Array%":typeof Int32Array==="undefined"?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":j&&I?I(I([][Symbol.iterator]())):Z,"%JSON%":typeof JSON==="object"?JSON:Z,"%Map%":typeof Map==="undefined"?Z:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!j||!I?Z:I(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":J,"%Object.getOwnPropertyDescriptor%":b,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?Z:Promise,"%Proxy%":typeof Proxy==="undefined"?Z:Proxy,"%RangeError%":Y,"%ReferenceError%":W,"%Reflect%":typeof Reflect==="undefined"?Z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set==="undefined"?Z:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!j||!I?Z:I(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":j&&I?I(""[Symbol.iterator]()):Z,"%Symbol%":j?Symbol:Z,"%SyntaxError%":X,"%ThrowTypeError%":N,"%TypedArray%":V0,"%TypeError%":B,"%Uint8Array%":typeof Uint8Array==="undefined"?Z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?Z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array==="undefined"?Z:Uint16Array,"%Uint32Array%":typeof Uint32Array==="undefined"?Z:Uint32Array,"%URIError%":V,"%WeakMap%":typeof WeakMap==="undefined"?Z:WeakMap,"%WeakRef%":typeof WeakRef==="undefined"?Z:WeakRef,"%WeakSet%":typeof WeakSet==="undefined"?Z:WeakSet,"%Function.prototype.call%":$0,"%Function.prototype.apply%":m,"%Object.defineProperty%":i,"%Object.getPrototypeOf%":h,"%Math.abs%":H,"%Math.floor%":O,"%Math.max%":T,"%Math.min%":q,"%Math.pow%":E,"%Math.round%":x,"%Math.sign%":_,"%Reflect.getPrototypeOf%":r};if(I)try{null.error}catch(G){A0=I(I(G)),B0["%Error.prototype%"]=A0}var A0,U0=function G(M){var y;if(M==="%AsyncFunction%")y=v("async function () {}");else if(M==="%GeneratorFunction%")y=v("function* () {}");else if(M==="%AsyncGeneratorFunction%")y=v("async function* () {}");else if(M==="%AsyncGenerator%"){var S=G("%AsyncGeneratorFunction%");if(S)y=S.prototype}else if(M==="%AsyncIteratorPrototype%"){var p=G("%AsyncGenerator%");if(p&&I)y=I(p.prototype)}return B0[M]=y,y},O0={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},G0=K1(),R=Z$(),U=G0.call($0,Array.prototype.concat),K=G0.call(m,Array.prototype.splice),L=G0.call($0,String.prototype.replace),P=G0.call($0,String.prototype.slice),d=G0.call($0,RegExp.prototype.exec),s=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,c=/\\(\\)?/g,D=function G(M){var y=P(M,0,1),S=P(M,-1);if(y==="%"&&S!=="%")throw new X("invalid intrinsic syntax, expected closing `%`");else if(S==="%"&&y!=="%")throw new X("invalid intrinsic syntax, expected opening `%`");var p=[];return L(M,s,function(t,Y0,W0,C){p[p.length]=W0?L(C,c,"$1"):Y0||t}),p},w=function G(M,y){var S=M,p;if(R(O0,S))p=O0[S],S="%"+p[0]+"%";if(R(B0,S)){var t=B0[S];if(t===n)t=U0(S);if(typeof t==="undefined"&&!y)throw new B("intrinsic "+M+" exists, but is not available. Please file an issue!");return{alias:p,name:S,value:t}}throw new X("intrinsic "+M+" does not exist!")};$.exports=function G(M,y){if(typeof M!=="string"||M.length===0)throw new B("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof y!=="boolean")throw new B('"allowMissing" argument must be a boolean');if(d(/^%?[^%]*%?$/,M)===null)throw new X("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var S=D(M),p=S.length>0?S[0]:"",t=w("%"+p+"%",y),Y0=t.name,W0=t.value,C=!1,L0=t.alias;if(L0)p=L0[0],K(S,U([0,1],L0));for(var b0=1,P0=!0;b0<S.length;b0+=1){var w0=S[b0],I0=P(w0,0,1),N0=P(w0,-1);if((I0==='"'||I0==="'"||I0==="`"||(N0==='"'||N0==="'"||N0==="`"))&&I0!==N0)throw new X("property names with quotes must have matching quotes");if(w0==="constructor"||!P0)C=!0;if(p+="."+w0,Y0="%"+p+"%",R(B0,Y0))W0=B0[Y0];else if(W0!=null){if(!(w0 in W0)){if(!y)throw new B("base intrinsic for "+M+" exists, but the property is not available.");return}if(b&&b0+1>=S.length){var _0=b(W0,w0);if(P0=!!_0,P0&&"get"in _0&&!("originalValue"in _0.get))W0=_0.get;else W0=W0[w0]}else P0=R(W0,w0),W0=W0[w0];if(P0&&!C)B0[Y0]=W0}}return W0}}),$1=u((f,$)=>{var Z=Ef(),J=Rf(),z=J([Z("%String.prototype.indexOf%")]);$.exports=function Q(Y,W){var X=Z(Y,!!W);if(typeof X==="function"&&z(Y,".prototype.")>-1)return J([X]);return X}}),c8=u((f,$)=>{var Z=y1()(),J=$1(),z=J("Object.prototype.toString"),Q=function X(B){if(Z&&B&&typeof B==="object"&&Symbol.toStringTag in B)return!1;return z(B)==="[object Arguments]"},Y=function X(B){if(Q(B))return!0;return B!==null&&typeof B==="object"&&"length"in B&&typeof B.length==="number"&&B.length>=0&&z(B)!=="[object Array]"&&"callee"in B&&z(B.callee)==="[object Function]"},W=function(){return Q(arguments)}();Q.isLegacyArguments=Y,$.exports=W?Q:Y}),h8=u((f,$)=>{var Z=$1(),J=y1()(),z=Z$(),Q=f1(),Y;if(J){if(W=Z("RegExp.prototype.exec"),X={},B=function(){throw X},V={toString:B,valueOf:B},typeof Symbol.toPrimitive==="symbol")V[Symbol.toPrimitive]=B;Y=function T(q){if(!q||typeof q!=="object")return!1;var E=Q(q,"lastIndex"),x=E&&z(E,"value");if(!x)return!1;try{W(q,V)}catch(_){return _===X}}}else H=Z("Object.prototype.toString"),O="[object RegExp]",Y=function T(q){if(!q||typeof q!=="object"&&typeof q!=="function")return!1;return H(q)===O};var W,X,B,V,H,O;$.exports=Y}),m8=u((f,$)=>{var Z=$1(),J=h8(),z=Z("RegExp.prototype.exec"),Q=F1();$.exports=function Y(W){if(!J(W))throw new Q("`regex` must be a RegExp");return function X(B){return z(W,B)!==null}}}),d8=u((f,$)=>{var Z=$1(),J=m8(),z=J(/^\s*(?:function)?\*/),Q=y1()(),Y=Sf(),W=Z("Object.prototype.toString"),X=Z("Function.prototype.toString"),B=function(){if(!Q)return!1;try{return Function("return function*() {}")()}catch(H){}},V;$.exports=function H(O){if(typeof O!=="function")return!1;if(z(X(O)))return!0;if(!Q){var T=W(O);return T==="[object GeneratorFunction]"}if(!Y)return!1;if(typeof V==="undefined"){var q=B();V=q?Y(q):!1}return Y(O)===V}}),i8=u((f,$)=>{var Z=Function.prototype.toString,J=typeof Reflect==="object"&&Reflect!==null&&Reflect.apply,z,Q;if(typeof J==="function"&&typeof Object.defineProperty==="function")try{z=Object.defineProperty({},"length",{get:function(){throw Q}}),Q={},J(function(){throw 42},null,z)}catch(b){if(b!==Q)J=null}else J=null;var Y=/^\s*class\b/,W=function b(i){try{var a=Z.call(i);return Y.test(a)}catch(N){return!1}},X=function b(i){try{if(W(i))return!1;return Z.call(i),!0}catch(a){return!1}},B=Object.prototype.toString,V="[object Object]",H="[object Function]",O="[object GeneratorFunction]",T="[object HTMLAllCollection]",q="[object HTML document.all class]",E="[object HTMLCollection]",x=typeof Symbol==="function"&&!!Symbol.toStringTag,_=!(0 in[,]),g=function b(){return!1};if(typeof document==="object"){if(v=document.all,B.call(v)===B.call(document.all))g=function b(i){if((_||!i)&&(typeof i==="undefined"||typeof i==="object"))try{var a=B.call(i);return(a===T||a===q||a===E||a===V)&&i("")==null}catch(N){}return!1}}var v;$.exports=J?function b(i){if(g(i))return!0;if(!i)return!1;if(typeof i!=="function"&&typeof i!=="object")return!1;try{J(i,null,z)}catch(a){if(a!==Q)return!1}return!W(i)&&X(i)}:function b(i){if(g(i))return!0;if(!i)return!1;if(typeof i!=="function"&&typeof i!=="object")return!1;if(x)return X(i);if(W(i))return!1;var a=B.call(i);if(a!==H&&a!==O&&!/^\[object HTML/.test(a))return!1;return X(i)}}),n8=u((f,$)=>{var Z=i8(),J=Object.prototype.toString,z=Object.prototype.hasOwnProperty,Q=function B(V,H,O){for(var T=0,q=V.length;T<q;T++)if(z.call(V,T))if(O==null)H(V[T],T,V);else H.call(O,V[T],T,V)},Y=function B(V,H,O){for(var T=0,q=V.length;T<q;T++)if(O==null)H(V.charAt(T),T,V);else H.call(O,V.charAt(T),T,V)},W=function B(V,H,O){for(var T in V)if(z.call(V,T))if(O==null)H(V[T],T,V);else H.call(O,V[T],T,V)};function X(B){return J.call(B)==="[object Array]"}$.exports=function B(V,H,O){if(!Z(H))throw new TypeError("iterator must be a function");var T;if(arguments.length>=3)T=O;if(X(V))Q(V,H,T);else if(typeof V==="string")Y(V,H,T);else W(V,H,T)}}),l8=u((f,$)=>{$.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]}),p8=u((f,$)=>{var Z=l8(),J=typeof globalThis==="undefined"?global:globalThis;$.exports=function z(){var Q=[];for(var Y=0;Y<Z.length;Y++)if(typeof J[Z[Y]]==="function")Q[Q.length]=Z[Y];return Q}}),J$=u((f,$)=>{var Z=u1(),J=t4(),z=F1(),Q=f1();$.exports=function Y(W,X,B){if(!W||typeof W!=="object"&&typeof W!=="function")throw new z("`obj` must be an object or a function`");if(typeof X!=="string"&&typeof X!=="symbol")throw new z("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!=="boolean"&&arguments[3]!==null)throw new z("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!=="boolean"&&arguments[4]!==null)throw new z("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!=="boolean"&&arguments[5]!==null)throw new z("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!=="boolean")throw new z("`loose`, if provided, must be a boolean");var V=arguments.length>3?arguments[3]:null,H=arguments.length>4?arguments[4]:null,O=arguments.length>5?arguments[5]:null,T=arguments.length>6?arguments[6]:!1,q=!!Q&&Q(W,X);if(Z)Z(W,X,{configurable:O===null&&q?q.configurable:!O,enumerable:V===null&&q?q.enumerable:!V,value:B,writable:H===null&&q?q.writable:!H});else if(T||!V&&!H&&!O)W[X]=B;else throw new J("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}),z$=u((f,$)=>{var Z=u1(),J=function z(){return!!Z};J.hasArrayLengthDefineBug=function z(){if(!Z)return null;try{return Z([],"length",{value:1}).length!==1}catch(Q){return!0}},$.exports=J}),o8=u((f,$)=>{var Z=Ef(),J=J$(),z=z$()(),Q=f1(),Y=F1(),W=Z("%Math.floor%");$.exports=function X(B,V){if(typeof B!=="function")throw new Y("`fn` is not a function");if(typeof V!=="number"||V<0||V>4294967295||W(V)!==V)throw new Y("`length` must be a positive 32-bit integer");var H=arguments.length>2&&!!arguments[2],O=!0,T=!0;if("length"in B&&Q){var q=Q(B,"length");if(q&&!q.configurable)O=!1;if(q&&!q.writable)T=!1}if(O||T||!H)if(z)J(B,"length",V,!0,!0);else J(B,"length",V);return B}}),r8=u((f,$)=>{var Z=K1(),J=If(),z=$$();$.exports=function Q(){return z(Z,J,arguments)}}),c1=u((f,$)=>{var Z=o8(),J=u1(),z=Rf(),Q=r8();if($.exports=function Y(W){var X=z(arguments),B=W.length-(arguments.length-1);return Z(X,1+(B>0?B:0),!0)},J)J($.exports,"apply",{value:Q});else $.exports.apply=Q}),Q$=u((f,$)=>{var Z=n8(),J=p8(),z=c1(),Q=$1(),Y=f1(),W=Sf(),X=Q("Object.prototype.toString"),B=y1()(),V=typeof globalThis==="undefined"?global:globalThis,H=J(),O=Q("String.prototype.slice"),T=Q("Array.prototype.indexOf",!0)||function _(g,v){for(var b=0;b<g.length;b+=1)if(g[b]===v)return b;return-1},q={__proto__:null};if(B&&Y&&W)Z(H,function(_){var g=new V[_];if(Symbol.toStringTag in g&&W){var v=W(g),b=Y(v,Symbol.toStringTag);if(!b&&v){var i=W(v);b=Y(i,Symbol.toStringTag)}q["$"+_]=z(b.get)}});else Z(H,function(_){var g=new V[_],v=g.slice||g.set;if(v)q["$"+_]=z(v)});var E=function _(g){var v=!1;return Z(q,function(b,i){if(!v)try{if("$"+b(g)===i)v=O(i,1)}catch(a){}}),v},x=function _(g){var v=!1;return Z(q,function(b,i){if(!v)try{b(g),v=O(i,1)}catch(a){}}),v};$.exports=function _(g){if(!g||typeof g!=="object")return!1;if(!B){var v=O(X(g),8,-1);if(T(H,v)>-1)return v;if(v!=="Object")return!1;return x(g)}if(!Y)return null;return E(g)}}),s8=u((f,$)=>{var Z=Q$();$.exports=function J(z){return!!Z(z)}}),a8=u((f)=>{var $=c8(),Z=d8(),J=Q$(),z=s8();function Q(C){return C.call.bind(C)}var Y=typeof BigInt!=="undefined",W=typeof Symbol!=="undefined",X=Q(Object.prototype.toString),B=Q(Number.prototype.valueOf),V=Q(String.prototype.valueOf),H=Q(Boolean.prototype.valueOf);if(Y)O=Q(BigInt.prototype.valueOf);var O;if(W)T=Q(Symbol.prototype.valueOf);var T;function q(C,L0){if(typeof C!=="object")return!1;try{return L0(C),!0}catch(b0){return!1}}f.isArgumentsObject=$,f.isGeneratorFunction=Z,f.isTypedArray=z;function E(C){return typeof Promise!=="undefined"&&C instanceof Promise||C!==null&&typeof C==="object"&&typeof C.then==="function"&&typeof C.catch==="function"}f.isPromise=E;function x(C){if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView)return ArrayBuffer.isView(C);return z(C)||K(C)}f.isArrayBufferView=x;function _(C){return J(C)==="Uint8Array"}f.isUint8Array=_;function g(C){return J(C)==="Uint8ClampedArray"}f.isUint8ClampedArray=g;function v(C){return J(C)==="Uint16Array"}f.isUint16Array=v;function b(C){return J(C)==="Uint32Array"}f.isUint32Array=b;function i(C){return J(C)==="Int8Array"}f.isInt8Array=i;function a(C){return J(C)==="Int16Array"}f.isInt16Array=a;function N(C){return J(C)==="Int32Array"}f.isInt32Array=N;function j(C){return J(C)==="Float32Array"}f.isFloat32Array=j;function I(C){return J(C)==="Float64Array"}f.isFloat64Array=I;function h(C){return J(C)==="BigInt64Array"}f.isBigInt64Array=h;function r(C){return J(C)==="BigUint64Array"}f.isBigUint64Array=r;function m(C){return X(C)==="[object Map]"}m.working=typeof Map!=="undefined"&&m(new Map);function $0(C){if(typeof Map==="undefined")return!1;return m.working?m(C):C instanceof Map}f.isMap=$0;function n(C){return X(C)==="[object Set]"}n.working=typeof Set!=="undefined"&&n(new Set);function V0(C){if(typeof Set==="undefined")return!1;return n.working?n(C):C instanceof Set}f.isSet=V0;function B0(C){return X(C)==="[object WeakMap]"}B0.working=typeof WeakMap!=="undefined"&&B0(new WeakMap);function A0(C){if(typeof WeakMap==="undefined")return!1;return B0.working?B0(C):C instanceof WeakMap}f.isWeakMap=A0;function U0(C){return X(C)==="[object WeakSet]"}U0.working=typeof WeakSet!=="undefined"&&U0(new WeakSet);function O0(C){return U0(C)}f.isWeakSet=O0;function G0(C){return X(C)==="[object ArrayBuffer]"}G0.working=typeof ArrayBuffer!=="undefined"&&G0(new ArrayBuffer);function R(C){if(typeof ArrayBuffer==="undefined")return!1;return G0.working?G0(C):C instanceof ArrayBuffer}f.isArrayBuffer=R;function U(C){return X(C)==="[object DataView]"}U.working=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"&&U(new DataView(new ArrayBuffer(1),0,1));function K(C){if(typeof DataView==="undefined")return!1;return U.working?U(C):C instanceof DataView}f.isDataView=K;var L=typeof SharedArrayBuffer!=="undefined"?SharedArrayBuffer:void 0;function P(C){return X(C)==="[object SharedArrayBuffer]"}function d(C){if(typeof L==="undefined")return!1;if(typeof P.working==="undefined")P.working=P(new L);return P.working?P(C):C instanceof L}f.isSharedArrayBuffer=d;function s(C){return X(C)==="[object AsyncFunction]"}f.isAsyncFunction=s;function c(C){return X(C)==="[object Map Iterator]"}f.isMapIterator=c;function D(C){return X(C)==="[object Set Iterator]"}f.isSetIterator=D;function w(C){return X(C)==="[object Generator]"}f.isGeneratorObject=w;function G(C){return X(C)==="[object WebAssembly.Module]"}f.isWebAssemblyCompiledModule=G;function M(C){return q(C,B)}f.isNumberObject=M;function y(C){return q(C,V)}f.isStringObject=y;function S(C){return q(C,H)}f.isBooleanObject=S;function p(C){return Y&&q(C,O)}f.isBigIntObject=p;function t(C){return W&&q(C,T)}f.isSymbolObject=t;function Y0(C){return M(C)||y(C)||S(C)||p(C)||t(C)}f.isBoxedPrimitive=Y0;function W0(C){return typeof Uint8Array!=="undefined"&&(R(C)||d(C))}f.isAnyArrayBuffer=W0,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(C){Object.defineProperty(f,C,{enumerable:!1,value:function(){throw new Error(C+" is not supported in userland")}})})}),t8=u((f,$)=>{$.exports=function Z(J){return J instanceof Buffer}}),e8=u((f,$)=>{if(typeof Object.create==="function")$.exports=function Z(J,z){if(z)J.super_=z,J.prototype=Object.create(z.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}})};else $.exports=function Z(J,z){if(z){J.super_=z;var Q=function(){};Q.prototype=z.prototype,J.prototype=new Q,J.prototype.constructor=J}}}),fJ=u((f,$)=>{try{if(Z=(s4(),r0(r4)),typeof Z.inherits!=="function")throw"";$.exports=Z.inherits}catch(J){$.exports=e8()}var Z}),G1=u((f)=>{var $=Object.getOwnPropertyDescriptors||function U(K){var L=Object.keys(K),P={};for(var d=0;d<L.length;d++)P[L[d]]=Object.getOwnPropertyDescriptor(K,L[d]);return P},Z=/%[sdj%]/g;f.format=function(U){if(!i(U)){var K=[];for(var L=0;L<arguments.length;L++)K.push(Y(arguments[L]));return K.join(" ")}var L=1,P=arguments,d=P.length,s=String(U).replace(Z,function(D){if(D==="%%")return"%";if(L>=d)return D;switch(D){case"%s":return String(P[L++]);case"%d":return Number(P[L++]);case"%j":try{return JSON.stringify(P[L++])}catch(w){return"[Circular]"}default:return D}});for(var c=P[L];L<d;c=P[++L])if(g(c)||!I(c))s+=" "+c;else s+=" "+Y(c);return s},f.deprecate=function(U,K){if(typeof process!=="undefined"&&process.noDeprecation===!0)return U;if(typeof process==="undefined")return function(){return f.deprecate(U,K).apply(this,arguments)};var L=!1;function P(){if(!L){if(process.throwDeprecation)throw new Error(K);else if(process.traceDeprecation)console.trace(K);else console.error(K);L=!0}return U.apply(this,arguments)}return P};var J={},z=/^$/;if(process.env.NODE_DEBUG)Q=process.env.NODE_DEBUG,Q=Q.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),z=new RegExp("^"+Q+"$","i");var Q;f.debuglog=function(U){if(U=U.toUpperCase(),!J[U])if(z.test(U)){var K=process.pid;J[U]=function(){var L=f.format.apply(f,arguments);console.error("%s %d: %s",U,K,L)}}else J[U]=function(){};return J[U]};function Y(U,K){var L={seen:[],stylize:X};if(arguments.length>=3)L.depth=arguments[2];if(arguments.length>=4)L.colors=arguments[3];if(_(K))L.showHidden=K;else if(K)f._extend(L,K);if(N(L.showHidden))L.showHidden=!1;if(N(L.depth))L.depth=2;if(N(L.colors))L.colors=!1;if(N(L.customInspect))L.customInspect=!0;if(L.colors)L.stylize=W;return V(L,U,L.depth)}f.inspect=Y,Y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function W(U,K){var L=Y.styles[K];if(L)return"\x1B["+Y.colors[L][0]+"m"+U+"\x1B["+Y.colors[L][1]+"m";else return U}function X(U,K){return U}function B(U){var K={};return U.forEach(function(L,P){K[L]=!0}),K}function V(U,K,L){if(U.customInspect&&K&&m(K.inspect)&&K.inspect!==f.inspect&&!(K.constructor&&K.constructor.prototype===K)){var P=K.inspect(L,U);if(!i(P))P=V(U,P,L);return P}var d=H(U,K);if(d)return d;var s=Object.keys(K),c=B(s);if(U.showHidden)s=Object.getOwnPropertyNames(K);if(r(K)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return O(K);if(s.length===0){if(m(K)){var D=K.name?": "+K.name:"";return U.stylize("[Function"+D+"]","special")}if(j(K))return U.stylize(RegExp.prototype.toString.call(K),"regexp");if(h(K))return U.stylize(Date.prototype.toString.call(K),"date");if(r(K))return O(K)}var w="",G=!1,M=["{","}"];if(x(K))G=!0,M=["[","]"];if(m(K)){var y=K.name?": "+K.name:"";w=" [Function"+y+"]"}if(j(K))w=" "+RegExp.prototype.toString.call(K);if(h(K))w=" "+Date.prototype.toUTCString.call(K);if(r(K))w=" "+O(K);if(s.length===0&&(!G||K.length==0))return M[0]+w+M[1];if(L<0)if(j(K))return U.stylize(RegExp.prototype.toString.call(K),"regexp");else return U.stylize("[Object]","special");U.seen.push(K);var S;if(G)S=T(U,K,L,c,s);else S=s.map(function(p){return q(U,K,L,c,p,G)});return U.seen.pop(),E(S,w,M)}function H(U,K){if(N(K))return U.stylize("undefined","undefined");if(i(K)){var L="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return U.stylize(L,"string")}if(b(K))return U.stylize(""+K,"number");if(_(K))return U.stylize(""+K,"boolean");if(g(K))return U.stylize("null","null")}function O(U){return"["+Error.prototype.toString.call(U)+"]"}function T(U,K,L,P,d){var s=[];for(var c=0,D=K.length;c<D;++c)if(U0(K,String(c)))s.push(q(U,K,L,P,String(c),!0));else s.push("");return d.forEach(function(w){if(!w.match(/^\d+$/))s.push(q(U,K,L,P,w,!0))}),s}function q(U,K,L,P,d,s){var c,D,w;if(w=Object.getOwnPropertyDescriptor(K,d)||{value:K[d]},w.get)if(w.set)D=U.stylize("[Getter/Setter]","special");else D=U.stylize("[Getter]","special");else if(w.set)D=U.stylize("[Setter]","special");if(!U0(P,d))c="["+d+"]";if(!D)if(U.seen.indexOf(w.value)<0){if(g(L))D=V(U,w.value,null);else D=V(U,w.value,L-1);if(D.indexOf(`
`)>-1)if(s)D=D.split(`
`).map(function(G){return"  "+G}).join(`
`).slice(2);else D=`
`+D.split(`
`).map(function(G){return"   "+G}).join(`
`)}else D=U.stylize("[Circular]","special");if(N(c)){if(s&&d.match(/^\d+$/))return D;if(c=JSON.stringify(""+d),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/))c=c.slice(1,-1),c=U.stylize(c,"name");else c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=U.stylize(c,"string")}return c+": "+D}function E(U,K,L){var P=0,d=U.reduce(function(s,c){if(P++,c.indexOf(`
`)>=0)P++;return s+c.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(d>60)return L[0]+(K===""?"":K+`
 `)+" "+U.join(`,
  `)+" "+L[1];return L[0]+K+" "+U.join(", ")+" "+L[1]}f.types=a8();function x(U){return Array.isArray(U)}f.isArray=x;function _(U){return typeof U==="boolean"}f.isBoolean=_;function g(U){return U===null}f.isNull=g;function v(U){return U==null}f.isNullOrUndefined=v;function b(U){return typeof U==="number"}f.isNumber=b;function i(U){return typeof U==="string"}f.isString=i;function a(U){return typeof U==="symbol"}f.isSymbol=a;function N(U){return U===void 0}f.isUndefined=N;function j(U){return I(U)&&n(U)==="[object RegExp]"}f.isRegExp=j,f.types.isRegExp=j;function I(U){return typeof U==="object"&&U!==null}f.isObject=I;function h(U){return I(U)&&n(U)==="[object Date]"}f.isDate=h,f.types.isDate=h;function r(U){return I(U)&&(n(U)==="[object Error]"||U instanceof Error)}f.isError=r,f.types.isNativeError=r;function m(U){return typeof U==="function"}f.isFunction=m;function $0(U){return U===null||typeof U==="boolean"||typeof U==="number"||typeof U==="string"||typeof U==="symbol"||typeof U==="undefined"}f.isPrimitive=$0,f.isBuffer=t8();function n(U){return Object.prototype.toString.call(U)}function V0(U){return U<10?"0"+U.toString(10):U.toString(10)}var B0=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A0(){var U=new Date,K=[V0(U.getHours()),V0(U.getMinutes()),V0(U.getSeconds())].join(":");return[U.getDate(),B0[U.getMonth()],K].join(" ")}f.log=function(){console.log("%s - %s",A0(),f.format.apply(f,arguments))},f.inherits=fJ(),f._extend=function(U,K){if(!K||!I(K))return U;var L=Object.keys(K),P=L.length;while(P--)U[L[P]]=K[L[P]];return U};function U0(U,K){return Object.prototype.hasOwnProperty.call(U,K)}var O0=typeof Symbol!=="undefined"?Symbol("util.promisify.custom"):void 0;f.promisify=function U(K){if(typeof K!=="function")throw new TypeError('The "original" argument must be of type Function');if(O0&&K[O0]){var L=K[O0];if(typeof L!=="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(L,O0,{value:L,enumerable:!1,writable:!1,configurable:!0}),L}function L(){var P,d,s=new Promise(function(w,G){P=w,d=G}),c=[];for(var D=0;D<arguments.length;D++)c.push(arguments[D]);c.push(function(w,G){if(w)d(w);else P(G)});try{K.apply(this,c)}catch(w){d(w)}return s}if(Object.setPrototypeOf(L,Object.getPrototypeOf(K)),O0)Object.defineProperty(L,O0,{value:L,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(L,$(K))},f.promisify.custom=O0;function G0(U,K){if(!U){var L=new Error("Promise was rejected with a falsy value");L.reason=U,U=L}return K(U)}function R(U){if(typeof U!=="function")throw new TypeError('The "original" argument must be of type Function');function K(){var L=[];for(var P=0;P<arguments.length;P++)L.push(arguments[P]);var d=L.pop();if(typeof d!=="function")throw new TypeError("The last argument must be of type Function");var s=this,c=function(){return d.apply(s,arguments)};U.apply(this,L).then(function(D){process.nextTick(c.bind(null,null,D))},function(D){process.nextTick(G0.bind(null,D,c))})}return Object.setPrototypeOf(K,Object.getPrototypeOf(U)),Object.defineProperties(K,$(U)),K}f.callbackify=R}),Y$=u((f,$)=>{function Z(N){return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Z(N)}function J(N,j){for(var I=0;I<j.length;I++){var h=j[I];if(h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h)h.writable=!0;Object.defineProperty(N,Q(h.key),h)}}function z(N,j,I){if(j)J(N.prototype,j);if(I)J(N,I);return Object.defineProperty(N,"prototype",{writable:!1}),N}function Q(N){var j=Y(N,"string");return Z(j)==="symbol"?j:String(j)}function Y(N,j){if(Z(N)!=="object"||N===null)return N;var I=N[Symbol.toPrimitive];if(I!==void 0){var h=I.call(N,j||"default");if(Z(h)!=="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(N)}function W(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function X(N,j){if(typeof j!=="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");if(N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),j)B(N,j)}function B(N,j){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function I(h,r){return h.__proto__=r,h},B(N,j)}function V(N){var j=T();return function I(){var h=q(N),r;if(j){var m=q(this).constructor;r=Reflect.construct(h,arguments,m)}else r=h.apply(this,arguments);return H(this,r)}}function H(N,j){if(j&&(Z(j)==="object"||typeof j==="function"))return j;else if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(N)}function O(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function T(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(N){return!1}}function q(N){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function j(I){return I.__proto__||Object.getPrototypeOf(I)},q(N)}var E={},x,_;function g(N,j,I){if(!I)I=Error;function h(m,$0,n){if(typeof j==="string")return j;else return j(m,$0,n)}var r=function(m){X(n,m);var $0=V(n);function n(V0,B0,A0){var U0;return W(this,n),U0=$0.call(this,h(V0,B0,A0)),U0.code=N,U0}return z(n)}(I);E[N]=r}function v(N,j){if(Array.isArray(N)){var I=N.length;if(N=N.map(function(h){return String(h)}),I>2)return"one of ".concat(j," ").concat(N.slice(0,I-1).join(", "),", or ")+N[I-1];else if(I===2)return"one of ".concat(j," ").concat(N[0]," or ").concat(N[1]);else return"of ".concat(j," ").concat(N[0])}else return"of ".concat(j," ").concat(String(N))}function b(N,j,I){return N.substr(!I||I<0?0:+I,j.length)===j}function i(N,j,I){if(I===void 0||I>N.length)I=N.length;return N.substring(I-j.length,I)===j}function a(N,j,I){if(typeof I!=="number")I=0;if(I+j.length>N.length)return!1;else return N.indexOf(j,I)!==-1}g("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),g("ERR_INVALID_ARG_TYPE",function(N,j,I){if(x===void 0)x=Tf();x(typeof N==="string","'name' must be a string");var h;if(typeof j==="string"&&b(j,"not "))h="must not be",j=j.replace(/^not /,"");else h="must be";var r;if(i(N," argument"))r="The ".concat(N," ").concat(h," ").concat(v(j,"type"));else{var m=a(N,".")?"property":"argument";r='The "'.concat(N,'" ').concat(m," ").concat(h," ").concat(v(j,"type"))}return r+=". Received type ".concat(Z(I)),r},TypeError),g("ERR_INVALID_ARG_VALUE",function(N,j){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";if(_===void 0)_=G1();var h=_.inspect(j);if(h.length>128)h="".concat(h.slice(0,128),"...");return"The argument '".concat(N,"' ").concat(I,". Received ").concat(h)},TypeError,RangeError),g("ERR_INVALID_RETURN_VALUE",function(N,j,I){var h;if(I&&I.constructor&&I.constructor.name)h="instance of ".concat(I.constructor.name);else h="type ".concat(Z(I));return"Expected ".concat(N,' to be returned from the "').concat(j,'"')+" function but got ".concat(h,".")},TypeError),g("ERR_MISSING_ARGS",function(){for(var N=arguments.length,j=new Array(N),I=0;I<N;I++)j[I]=arguments[I];if(x===void 0)x=Tf();x(j.length>0,"At least one arg needs to be specified");var h="The ",r=j.length;switch(j=j.map(function(m){return'"'.concat(m,'"')}),r){case 1:h+="".concat(j[0]," argument");break;case 2:h+="".concat(j[0]," and ").concat(j[1]," arguments");break;default:h+=j.slice(0,r-1).join(", "),h+=", and ".concat(j[r-1]," arguments");break}return"".concat(h," must be specified")},TypeError),f.codes=E}),$J=u((f,$)=>{function Z(R,U){var K=Object.keys(R);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(R);U&&(L=L.filter(function(P){return Object.getOwnPropertyDescriptor(R,P).enumerable})),K.push.apply(K,L)}return K}function J(R){for(var U=1;U<arguments.length;U++){var K=arguments[U]!=null?arguments[U]:{};U%2?Z(Object(K),!0).forEach(function(L){z(R,L,K[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(K)):Z(Object(K)).forEach(function(L){Object.defineProperty(R,L,Object.getOwnPropertyDescriptor(K,L))})}return R}function z(R,U,K){if(U=X(U),U in R)Object.defineProperty(R,U,{value:K,enumerable:!0,configurable:!0,writable:!0});else R[U]=K;return R}function Q(R,U){if(!(R instanceof U))throw new TypeError("Cannot call a class as a function")}function Y(R,U){for(var K=0;K<U.length;K++){var L=U[K];if(L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L)L.writable=!0;Object.defineProperty(R,X(L.key),L)}}function W(R,U,K){if(U)Y(R.prototype,U);if(K)Y(R,K);return Object.defineProperty(R,"prototype",{writable:!1}),R}function X(R){var U=B(R,"string");return b(U)==="symbol"?U:String(U)}function B(R,U){if(b(R)!=="object"||R===null)return R;var K=R[Symbol.toPrimitive];if(K!==void 0){var L=K.call(R,U||"default");if(b(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(R)}function V(R,U){if(typeof U!=="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");if(R.prototype=Object.create(U&&U.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),U)g(R,U)}function H(R){var U=x();return function K(){var L=v(R),P;if(U){var d=v(this).constructor;P=Reflect.construct(L,arguments,d)}else P=L.apply(this,arguments);return O(this,P)}}function O(R,U){if(U&&(b(U)==="object"||typeof U==="function"))return U;else if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(R)}function T(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function q(R){var U=typeof Map==="function"?new Map:void 0;return q=function K(L){if(L===null||!_(L))return L;if(typeof L!=="function")throw new TypeError("Super expression must either be null or a function");if(typeof U!=="undefined"){if(U.has(L))return U.get(L);U.set(L,P)}function P(){return E(L,arguments,v(this).constructor)}return P.prototype=Object.create(L.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),g(P,L)},q(R)}function E(R,U,K){if(x())E=Reflect.construct.bind();else E=function L(P,d,s){var c=[null];c.push.apply(c,d);var D=Function.bind.apply(P,c),w=new D;if(s)g(w,s.prototype);return w};return E.apply(null,arguments)}function x(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(R){return!1}}function _(R){return Function.toString.call(R).indexOf("[native code]")!==-1}function g(R,U){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function K(L,P){return L.__proto__=P,L},g(R,U)}function v(R){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function U(K){return K.__proto__||Object.getPrototypeOf(K)},v(R)}function b(R){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},b(R)}var i=G1(),a=i.inspect,N=Y$(),j=N.codes.ERR_INVALID_ARG_TYPE;function I(R,U,K){if(K===void 0||K>R.length)K=R.length;return R.substring(K-U.length,K)===U}function h(R,U){if(U=Math.floor(U),R.length==0||U==0)return"";var K=R.length*U;U=Math.floor(Math.log(U)/Math.log(2));while(U)R+=R,U--;return R+=R.substring(0,K-R.length),R}var r="",m="",$0="",n="",V0={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},B0=10;function A0(R){var U=Object.keys(R),K=Object.create(Object.getPrototypeOf(R));return U.forEach(function(L){K[L]=R[L]}),Object.defineProperty(K,"message",{value:R.message}),K}function U0(R){return a(R,{compact:!1,customInspect:!1,depth:1000,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function O0(R,U,K){var L="",P="",d=0,s="",c=!1,D=U0(R),w=D.split(`
`),G=U0(U).split(`
`),M=0,y="";if(K==="strictEqual"&&b(R)==="object"&&b(U)==="object"&&R!==null&&U!==null)K="strictEqualObject";if(w.length===1&&G.length===1&&w[0]!==G[0]){var S=w[0].length+G[0].length;if(S<=B0){if((b(R)!=="object"||R===null)&&(b(U)!=="object"||U===null)&&(R!==0||U!==0))return"".concat(V0[K],`

`)+"".concat(w[0]," !== ").concat(G[0],`
`)}else if(K!=="strictEqualObject"){var p=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(S<p){while(w[0][M]===G[0][M])M++;if(M>2)y=`
  `.concat(h(" ",M),"^"),M=0}}}var t=w[w.length-1],Y0=G[G.length-1];while(t===Y0){if(M++<2)s=`
  `.concat(t).concat(s);else L=t;if(w.pop(),G.pop(),w.length===0||G.length===0)break;t=w[w.length-1],Y0=G[G.length-1]}var W0=Math.max(w.length,G.length);if(W0===0){var C=D.split(`
`);if(C.length>30){C[26]="".concat(r,"...").concat(n);while(C.length>27)C.pop()}return"".concat(V0.notIdentical,`

`).concat(C.join(`
`),`
`)}if(M>3)s=`
`.concat(r,"...").concat(n).concat(s),c=!0;if(L!=="")s=`
  `.concat(L).concat(s),L="";var L0=0,b0=V0[K]+`
`.concat(m,"+ actual").concat(n," ").concat($0,"- expected").concat(n),P0=" ".concat(r,"...").concat(n," Lines skipped");for(M=0;M<W0;M++){var w0=M-d;if(w.length<M+1){if(w0>1&&M>2){if(w0>4)P+=`
`.concat(r,"...").concat(n),c=!0;else if(w0>3)P+=`
  `.concat(G[M-2]),L0++;P+=`
  `.concat(G[M-1]),L0++}d=M,L+=`
`.concat($0,"-").concat(n," ").concat(G[M]),L0++}else if(G.length<M+1){if(w0>1&&M>2){if(w0>4)P+=`
`.concat(r,"...").concat(n),c=!0;else if(w0>3)P+=`
  `.concat(w[M-2]),L0++;P+=`
  `.concat(w[M-1]),L0++}d=M,P+=`
`.concat(m,"+").concat(n," ").concat(w[M]),L0++}else{var I0=G[M],N0=w[M],_0=N0!==I0&&(!I(N0,",")||N0.slice(0,-1)!==I0);if(_0&&I(I0,",")&&I0.slice(0,-1)===N0)_0=!1,N0+=",";if(_0){if(w0>1&&M>2){if(w0>4)P+=`
`.concat(r,"...").concat(n),c=!0;else if(w0>3)P+=`
  `.concat(w[M-2]),L0++;P+=`
  `.concat(w[M-1]),L0++}d=M,P+=`
`.concat(m,"+").concat(n," ").concat(N0),L+=`
`.concat($0,"-").concat(n," ").concat(I0),L0+=2}else if(P+=L,L="",w0===1||M===0)P+=`
  `.concat(N0),L0++}if(L0>20&&M<W0-2)return"".concat(b0).concat(P0,`
`).concat(P,`
`).concat(r,"...").concat(n).concat(L,`
`)+"".concat(r,"...").concat(n)}return"".concat(b0).concat(c?P0:"",`
`).concat(P).concat(L).concat(s).concat(y)}var G0=function(R,U){V(L,R);var K=H(L);function L(P){var d;if(Q(this,L),b(P)!=="object"||P===null)throw new j("options","Object",P);var{message:s,operator:c,stackStartFn:D,actual:w,expected:G}=P,M=Error.stackTraceLimit;if(Error.stackTraceLimit=0,s!=null)d=K.call(this,String(s));else{if(process.stderr&&process.stderr.isTTY)if(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1)r="\x1B[34m",m="\x1B[32m",n="\x1B[39m",$0="\x1B[31m";else r="",m="",n="",$0="";if(b(w)==="object"&&w!==null&&b(G)==="object"&&G!==null&&"stack"in w&&w instanceof Error&&"stack"in G&&G instanceof Error)w=A0(w),G=A0(G);if(c==="deepStrictEqual"||c==="strictEqual")d=K.call(this,O0(w,G,c));else if(c==="notDeepStrictEqual"||c==="notStrictEqual"){var y=V0[c],S=U0(w).split(`
`);if(c==="notStrictEqual"&&b(w)==="object"&&w!==null)y=V0.notStrictEqualObject;if(S.length>30){S[26]="".concat(r,"...").concat(n);while(S.length>27)S.pop()}if(S.length===1)d=K.call(this,"".concat(y," ").concat(S[0]));else d=K.call(this,"".concat(y,`

`).concat(S.join(`
`),`
`))}else{var p=U0(w),t="",Y0=V0[c];if(c==="notDeepEqual"||c==="notEqual"){if(p="".concat(V0[c],`

`).concat(p),p.length>1024)p="".concat(p.slice(0,1021),"...")}else{if(t="".concat(U0(G)),p.length>512)p="".concat(p.slice(0,509),"...");if(t.length>512)t="".concat(t.slice(0,509),"...");if(c==="deepEqual"||c==="equal")p="".concat(Y0,`

`).concat(p,`

should equal

`);else t=" ".concat(c," ").concat(t)}d=K.call(this,"".concat(p).concat(t))}}if(Error.stackTraceLimit=M,d.generatedMessage=!s,Object.defineProperty(T(d),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),d.code="ERR_ASSERTION",d.actual=w,d.expected=G,d.operator=c,Error.captureStackTrace)Error.captureStackTrace(T(d),D);return d.stack,d.name="AssertionError",O(d)}return W(L,[{key:"toString",value:function P(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:U,value:function P(d,s){return a(this,J(J({},s),{},{customInspect:!1,depth:0}))}}]),L}(q(Error),a.custom);$.exports=G0}),W$=u((f,$)=>{var Z=Object.prototype.toString;$.exports=function J(z){var Q=Z.call(z),Y=Q==="[object Arguments]";if(!Y)Y=Q!=="[object Array]"&&z!==null&&typeof z==="object"&&typeof z.length==="number"&&z.length>=0&&Z.call(z.callee)==="[object Function]";return Y}}),ZJ=u((f,$)=>{var Z;if(!Object.keys)J=Object.prototype.hasOwnProperty,z=Object.prototype.toString,Q=W$(),Y=Object.prototype.propertyIsEnumerable,W=!Y.call({toString:null},"toString"),X=Y.call(function(){},"prototype"),B=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],V=function(q){var E=q.constructor;return E&&E.prototype===q},H={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},O=function(){if(typeof window==="undefined")return!1;for(var q in window)try{if(!H["$"+q]&&J.call(window,q)&&window[q]!==null&&typeof window[q]==="object")try{V(window[q])}catch(E){return!0}}catch(E){return!0}return!1}(),T=function(q){if(typeof window==="undefined"||!O)return V(q);try{return V(q)}catch(E){return!1}},Z=function q(E){var x=E!==null&&typeof E==="object",_=z.call(E)==="[object Function]",g=Q(E),v=x&&z.call(E)==="[object String]",b=[];if(!x&&!_&&!g)throw new TypeError("Object.keys called on a non-object");var i=X&&_;if(v&&E.length>0&&!J.call(E,0))for(var a=0;a<E.length;++a)b.push(String(a));if(g&&E.length>0)for(var N=0;N<E.length;++N)b.push(String(N));else for(var j in E)if(!(i&&j==="prototype")&&J.call(E,j))b.push(String(j));if(W){var I=T(E);for(var h=0;h<B.length;++h)if(!(I&&B[h]==="constructor")&&J.call(E,B[h]))b.push(B[h])}return b};var J,z,Q,Y,W,X,B,V,H,O,T;$.exports=Z}),X$=u((f,$)=>{var Z=Array.prototype.slice,J=W$(),z=Object.keys,Q=z?function W(X){return z(X)}:ZJ(),Y=Object.keys;Q.shim=function W(){if(Object.keys){var X=function(){var B=Object.keys(arguments);return B&&B.length===arguments.length}(1,2);if(!X)Object.keys=function B(V){if(J(V))return Y(Z.call(V));return Y(V)}}else Object.keys=Q;return Object.keys||Q},$.exports=Q}),JJ=u((f,$)=>{var Z=X$(),J=jf()(),z=$1(),Q=Cf(),Y=z("Array.prototype.push"),W=z("Object.prototype.propertyIsEnumerable"),X=J?Q.getOwnPropertySymbols:null;$.exports=function B(V,H){if(V==null)throw new TypeError("target must be an object");var O=Q(V);if(arguments.length===1)return O;for(var T=1;T<arguments.length;++T){var q=Q(arguments[T]),E=Z(q),x=J&&(Q.getOwnPropertySymbols||X);if(x){var _=x(q);for(var g=0;g<_.length;++g){var v=_[g];if(W(q,v))Y(E,v)}}for(var b=0;b<E.length;++b){var i=E[b];if(W(q,i)){var a=q[i];O[i]=a}}}return O}}),zJ=u((f,$)=>{var Z=JJ(),J=function(){if(!Object.assign)return!1;var Q="abcdefghijklmnopqrst",Y=Q.split(""),W={};for(var X=0;X<Y.length;++X)W[Y[X]]=Y[X];var B=Object.assign({},W),V="";for(var H in B)V+=H;return Q!==V},z=function(){if(!Object.assign||!Object.preventExtensions)return!1;var Q=Object.preventExtensions({1:2});try{Object.assign(Q,"xy")}catch(Y){return Q[1]==="y"}return!1};$.exports=function Q(){if(!Object.assign)return Z;if(J())return Z;if(z())return Z;return Object.assign}}),V$=u((f,$)=>{var Z=function(J){return J!==J};$.exports=function J(z,Q){if(z===0&&Q===0)return 1/z===1/Q;if(z===Q)return!0;if(Z(z)&&Z(Q))return!0;return!1}}),Pf=u((f,$)=>{var Z=V$();$.exports=function J(){return typeof Object.is==="function"?Object.is:Z}}),QJ=u((f,$)=>{var Z=Ef(),J=c1(),z=J(Z("String.prototype.indexOf"));$.exports=function Q(Y,W){var X=Z(Y,!!W);if(typeof X==="function"&&z(Y,".prototype.")>-1)return J(X);return X}}),h1=u((f,$)=>{var Z=X$(),J=typeof Symbol==="function"&&typeof Symbol("foo")==="symbol",z=Object.prototype.toString,Q=Array.prototype.concat,Y=J$(),W=function(H){return typeof H==="function"&&z.call(H)==="[object Function]"},X=z$()(),B=function(H,O,T,q){if(O in H){if(q===!0){if(H[O]===T)return}else if(!W(q)||!q())return}if(X)Y(H,O,T,!0);else Y(H,O,T)},V=function(H,O){var T=arguments.length>2?arguments[2]:{},q=Z(O);if(J)q=Q.call(q,Object.getOwnPropertySymbols(O));for(var E=0;E<q.length;E+=1)B(H,q[E],O[q[E]],T[q[E]])};V.supportsDescriptors=!!X,$.exports=V}),YJ=u((f,$)=>{var Z=Pf(),J=h1();$.exports=function z(){var Q=Z();return J(Object,{is:Q},{is:function Y(){return Object.is!==Q}}),Q}}),WJ=u((f,$)=>{var Z=h1(),J=c1(),z=V$(),Q=Pf(),Y=YJ(),W=J(Q(),Object);Z(W,{getPolyfill:Q,implementation:z,shim:Y}),$.exports=W}),B$=u((f,$)=>{$.exports=function Z(J){return J!==J}}),U$=u((f,$)=>{var Z=B$();$.exports=function J(){if(Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a"))return Number.isNaN;return Z}}),XJ=u((f,$)=>{var Z=h1(),J=U$();$.exports=function z(){var Q=J();return Z(Number,{isNaN:Q},{isNaN:function Y(){return Number.isNaN!==Q}}),Q}}),VJ=u((f,$)=>{var Z=c1(),J=h1(),z=B$(),Q=U$(),Y=XJ(),W=Z(Q(),Number);J(W,{getPolyfill:Q,implementation:z,shim:Y}),$.exports=W}),BJ=u((f,$)=>{function Z(F,A){return W(F)||Y(F,A)||z(F,A)||J()}function J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(F,A){if(!F)return;if(typeof F==="string")return Q(F,A);var k=Object.prototype.toString.call(F).slice(8,-1);if(k==="Object"&&F.constructor)k=F.constructor.name;if(k==="Map"||k==="Set")return Array.from(F);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return Q(F,A)}function Q(F,A){if(A==null||A>F.length)A=F.length;for(var k=0,l=new Array(A);k<A;k++)l[k]=F[k];return l}function Y(F,A){var k=F==null?null:typeof Symbol!="undefined"&&F[Symbol.iterator]||F["@@iterator"];if(k!=null){var l,o,f0,e,J0=[],z0=!0,q0=!1;try{if(f0=(k=k.call(F)).next,A===0){if(Object(k)!==k)return;z0=!1}else for(;!(z0=(l=f0.call(k)).done)&&(J0.push(l.value),J0.length!==A);z0=!0);}catch(C0){q0=!0,o=C0}finally{try{if(!z0&&k.return!=null&&(e=k.return(),Object(e)!==e))return}finally{if(q0)throw o}}return J0}}function W(F){if(Array.isArray(F))return F}function X(F){return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},X(F)}var B=/a/g.flags!==void 0,V=function F(A){var k=[];return A.forEach(function(l){return k.push(l)}),k},H=function F(A){var k=[];return A.forEach(function(l,o){return k.push([o,l])}),k},O=Object.is?Object.is:WJ(),T=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},q=Number.isNaN?Number.isNaN:VJ();function E(F){return F.call.bind(F)}var x=E(Object.prototype.hasOwnProperty),_=E(Object.prototype.propertyIsEnumerable),g=E(Object.prototype.toString),v=G1().types,b=v.isAnyArrayBuffer,i=v.isArrayBufferView,a=v.isDate,N=v.isMap,j=v.isRegExp,I=v.isSet,h=v.isNativeError,r=v.isBoxedPrimitive,m=v.isNumberObject,$0=v.isStringObject,n=v.isBooleanObject,V0=v.isBigIntObject,B0=v.isSymbolObject,A0=v.isFloat32Array,U0=v.isFloat64Array;function O0(F){if(F.length===0||F.length>10)return!0;for(var A=0;A<F.length;A++){var k=F.charCodeAt(A);if(k<48||k>57)return!0}return F.length===10&&F>=Math.pow(2,32)}function G0(F){return Object.keys(F).filter(O0).concat(T(F).filter(Object.prototype.propertyIsEnumerable.bind(F)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function R(F,A){if(F===A)return 0;var k=F.length,l=A.length;for(var o=0,f0=Math.min(k,l);o<f0;++o)if(F[o]!==A[o]){k=F[o],l=A[o];break}if(k<l)return-1;if(l<k)return 1;return 0}var U=void 0,K=!0,L=!1,P=0,d=1,s=2,c=3;function D(F,A){return B?F.source===A.source&&F.flags===A.flags:RegExp.prototype.toString.call(F)===RegExp.prototype.toString.call(A)}function w(F,A){if(F.byteLength!==A.byteLength)return!1;for(var k=0;k<F.byteLength;k++)if(F[k]!==A[k])return!1;return!0}function G(F,A){if(F.byteLength!==A.byteLength)return!1;return R(new Uint8Array(F.buffer,F.byteOffset,F.byteLength),new Uint8Array(A.buffer,A.byteOffset,A.byteLength))===0}function M(F,A){return F.byteLength===A.byteLength&&R(new Uint8Array(F),new Uint8Array(A))===0}function y(F,A){if(m(F))return m(A)&&O(Number.prototype.valueOf.call(F),Number.prototype.valueOf.call(A));if($0(F))return $0(A)&&String.prototype.valueOf.call(F)===String.prototype.valueOf.call(A);if(n(F))return n(A)&&Boolean.prototype.valueOf.call(F)===Boolean.prototype.valueOf.call(A);if(V0(F))return V0(A)&&BigInt.prototype.valueOf.call(F)===BigInt.prototype.valueOf.call(A);return B0(A)&&Symbol.prototype.valueOf.call(F)===Symbol.prototype.valueOf.call(A)}function S(F,A,k,l){if(F===A){if(F!==0)return!0;return k?O(F,A):!0}if(k){if(X(F)!=="object")return typeof F==="number"&&q(F)&&q(A);if(X(A)!=="object"||F===null||A===null)return!1;if(Object.getPrototypeOf(F)!==Object.getPrototypeOf(A))return!1}else{if(F===null||X(F)!=="object"){if(A===null||X(A)!=="object")return F==A;return!1}if(A===null||X(A)!=="object")return!1}var o=g(F),f0=g(A);if(o!==f0)return!1;if(Array.isArray(F)){if(F.length!==A.length)return!1;var e=G0(F,U),J0=G0(A,U);if(e.length!==J0.length)return!1;return t(F,A,k,l,d,e)}if(o==="[object Object]"){if(!N(F)&&N(A)||!I(F)&&I(A))return!1}if(a(F)){if(!a(A)||Date.prototype.getTime.call(F)!==Date.prototype.getTime.call(A))return!1}else if(j(F)){if(!j(A)||!D(F,A))return!1}else if(h(F)||F instanceof Error){if(F.message!==A.message||F.name!==A.name)return!1}else if(i(F)){if(!k&&(A0(F)||U0(F))){if(!w(F,A))return!1}else if(!G(F,A))return!1;var z0=G0(F,U),q0=G0(A,U);if(z0.length!==q0.length)return!1;return t(F,A,k,l,P,z0)}else if(I(F)){if(!I(A)||F.size!==A.size)return!1;return t(F,A,k,l,s)}else if(N(F)){if(!N(A)||F.size!==A.size)return!1;return t(F,A,k,l,c)}else if(b(F)){if(!M(F,A))return!1}else if(r(F)&&!y(F,A))return!1;return t(F,A,k,l,P)}function p(F,A){return A.filter(function(k){return _(F,k)})}function t(F,A,k,l,o,f0){if(arguments.length===5){f0=Object.keys(F);var e=Object.keys(A);if(f0.length!==e.length)return!1}var J0=0;for(;J0<f0.length;J0++)if(!x(A,f0[J0]))return!1;if(k&&arguments.length===5){var z0=T(F);if(z0.length!==0){var q0=0;for(J0=0;J0<z0.length;J0++){var C0=z0[J0];if(_(F,C0)){if(!_(A,C0))return!1;f0.push(C0),q0++}else if(_(A,C0))return!1}var W1=T(A);if(z0.length!==W1.length&&p(A,W1).length!==q0)return!1}else{var o0=T(A);if(o0.length!==0&&p(A,o0).length!==0)return!1}}if(f0.length===0&&(o===P||o===d&&F.length===0||F.size===0))return!0;if(l===void 0)l={val1:new Map,val2:new Map,position:0};else{var X1=l.val1.get(F);if(X1!==void 0){var k0=l.val2.get(A);if(k0!==void 0)return X1===k0}l.position++}l.val1.set(F,l.position),l.val2.set(A,l.position);var V1=I0(F,A,k,f0,l,o);return l.val1.delete(F),l.val2.delete(A),V1}function Y0(F,A,k,l){var o=V(F);for(var f0=0;f0<o.length;f0++){var e=o[f0];if(S(A,e,k,l))return F.delete(e),!0}return!1}function W0(F){switch(X(F)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":F=+F;case"number":if(q(F))return!1}return!0}function C(F,A,k){var l=W0(k);if(l!=null)return l;return A.has(l)&&!F.has(l)}function L0(F,A,k,l,o){var f0=W0(k);if(f0!=null)return f0;var e=A.get(f0);if(e===void 0&&!A.has(f0)||!S(l,e,!1,o))return!1;return!F.has(f0)&&S(l,e,!1,o)}function b0(F,A,k,l){var o=null,f0=V(F);for(var e=0;e<f0.length;e++){var J0=f0[e];if(X(J0)==="object"&&J0!==null){if(o===null)o=new Set;o.add(J0)}else if(!A.has(J0)){if(k)return!1;if(!C(F,A,J0))return!1;if(o===null)o=new Set;o.add(J0)}}if(o!==null){var z0=V(A);for(var q0=0;q0<z0.length;q0++){var C0=z0[q0];if(X(C0)==="object"&&C0!==null){if(!Y0(o,C0,k,l))return!1}else if(!k&&!F.has(C0)&&!Y0(o,C0,k,l))return!1}return o.size===0}return!0}function P0(F,A,k,l,o,f0){var e=V(F);for(var J0=0;J0<e.length;J0++){var z0=e[J0];if(S(k,z0,o,f0)&&S(l,A.get(z0),o,f0))return F.delete(z0),!0}return!1}function w0(F,A,k,l){var o=null,f0=H(F);for(var e=0;e<f0.length;e++){var J0=Z(f0[e],2),z0=J0[0],q0=J0[1];if(X(z0)==="object"&&z0!==null){if(o===null)o=new Set;o.add(z0)}else{var C0=A.get(z0);if(C0===void 0&&!A.has(z0)||!S(q0,C0,k,l)){if(k)return!1;if(!L0(F,A,z0,q0,l))return!1;if(o===null)o=new Set;o.add(z0)}}}if(o!==null){var W1=H(A);for(var o0=0;o0<W1.length;o0++){var X1=Z(W1[o0],2),k0=X1[0],V1=X1[1];if(X(k0)==="object"&&k0!==null){if(!P0(o,F,k0,V1,k,l))return!1}else if(!k&&(!F.has(k0)||!S(F.get(k0),V1,!1,l))&&!P0(o,F,k0,V1,!1,l))return!1}return o.size===0}return!0}function I0(F,A,k,l,o,f0){var e=0;if(f0===s){if(!b0(F,A,k,o))return!1}else if(f0===c){if(!w0(F,A,k,o))return!1}else if(f0===d)for(;e<F.length;e++)if(x(F,e)){if(!x(A,e)||!S(F[e],A[e],k,o))return!1}else if(x(A,e))return!1;else{var J0=Object.keys(F);for(;e<J0.length;e++){var z0=J0[e];if(!x(A,z0)||!S(F[z0],A[z0],k,o))return!1}if(J0.length!==Object.keys(A).length)return!1;return!0}for(e=0;e<l.length;e++){var q0=l[e];if(!S(F[q0],A[q0],k,o))return!1}return!0}function N0(F,A){return S(F,A,L)}function _0(F,A){return S(F,A,K)}$.exports={isDeepEqual:N0,isDeepStrictEqual:_0}}),Tf=u((f,$)=>{function Z(D){return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},Z(D)}function J(D,w){for(var G=0;G<w.length;G++){var M=w[G];if(M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M)M.writable=!0;Object.defineProperty(D,Q(M.key),M)}}function z(D,w,G){if(w)J(D.prototype,w);if(G)J(D,G);return Object.defineProperty(D,"prototype",{writable:!1}),D}function Q(D){var w=Y(D,"string");return Z(w)==="symbol"?w:String(w)}function Y(D,w){if(Z(D)!=="object"||D===null)return D;var G=D[Symbol.toPrimitive];if(G!==void 0){var M=G.call(D,w||"default");if(Z(M)!=="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(D)}function W(D,w){if(!(D instanceof w))throw new TypeError("Cannot call a class as a function")}var X=Y$(),B=X.codes,V=B.ERR_AMBIGUOUS_ARGUMENT,H=B.ERR_INVALID_ARG_TYPE,O=B.ERR_INVALID_ARG_VALUE,T=B.ERR_INVALID_RETURN_VALUE,q=B.ERR_MISSING_ARGS,E=$J(),x=G1(),_=x.inspect,g=G1().types,v=g.isPromise,b=g.isRegExp,i=zJ()(),a=Pf()(),N=QJ()("RegExp.prototype.test"),j,I;function h(){var D=BJ();j=D.isDeepEqual,I=D.isDeepStrictEqual}var r=!1,m=$.exports=A0,$0={};function n(D){if(D.message instanceof Error)throw D.message;throw new E(D)}function V0(D,w,G,M,y){var S=arguments.length,p;if(S===0)p="Failed";else if(S===1)G=D,D=void 0;else{if(r===!1){r=!0;var t=process.emitWarning?process.emitWarning:console.warn.bind(console);t("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}if(S===2)M="!="}if(G instanceof Error)throw G;var Y0={actual:D,expected:w,operator:M===void 0?"fail":M,stackStartFn:y||V0};if(G!==void 0)Y0.message=G;var W0=new E(Y0);if(p)W0.message=p,W0.generatedMessage=!0;throw W0}m.fail=V0,m.AssertionError=E;function B0(D,w,G,M){if(!G){var y=!1;if(w===0)y=!0,M="No value argument passed to `assert.ok()`";else if(M instanceof Error)throw M;var S=new E({actual:G,expected:!0,message:M,operator:"==",stackStartFn:D});throw S.generatedMessage=y,S}}function A0(){for(var D=arguments.length,w=new Array(D),G=0;G<D;G++)w[G]=arguments[G];B0.apply(void 0,[A0,w.length].concat(w))}m.ok=A0,m.equal=function D(w,G,M){if(arguments.length<2)throw new q("actual","expected");if(w!=G)n({actual:w,expected:G,message:M,operator:"==",stackStartFn:D})},m.notEqual=function D(w,G,M){if(arguments.length<2)throw new q("actual","expected");if(w==G)n({actual:w,expected:G,message:M,operator:"!=",stackStartFn:D})},m.deepEqual=function D(w,G,M){if(arguments.length<2)throw new q("actual","expected");if(j===void 0)h();if(!j(w,G))n({actual:w,expected:G,message:M,operator:"deepEqual",stackStartFn:D})},m.notDeepEqual=function D(w,G,M){if(arguments.length<2)throw new q("actual","expected");if(j===void 0)h();if(j(w,G))n({actual:w,expected:G,message:M,operator:"notDeepEqual",stackStartFn:D})},m.deepStrictEqual=function D(w,G,M){if(arguments.length<2)throw new q("actual","expected");if(j===void 0)h();if(!I(w,G))n({actual:w,expected:G,message:M,operator:"deepStrictEqual",stackStartFn:D})},m.notDeepStrictEqual=U0;function U0(D,w,G){if(arguments.length<2)throw new q("actual","expected");if(j===void 0)h();if(I(D,w))n({actual:D,expected:w,message:G,operator:"notDeepStrictEqual",stackStartFn:U0})}m.strictEqual=function D(w,G,M){if(arguments.length<2)throw new q("actual","expected");if(!a(w,G))n({actual:w,expected:G,message:M,operator:"strictEqual",stackStartFn:D})},m.notStrictEqual=function D(w,G,M){if(arguments.length<2)throw new q("actual","expected");if(a(w,G))n({actual:w,expected:G,message:M,operator:"notStrictEqual",stackStartFn:D})};var O0=z(function D(w,G,M){var y=this;W(this,D),G.forEach(function(S){if(S in w)if(M!==void 0&&typeof M[S]==="string"&&b(w[S])&&N(w[S],M[S]))y[S]=M[S];else y[S]=w[S]})});function G0(D,w,G,M,y,S){if(!(G in D)||!I(D[G],w[G])){if(!M){var p=new O0(D,y),t=new O0(w,y,D),Y0=new E({actual:p,expected:t,operator:"deepStrictEqual",stackStartFn:S});throw Y0.actual=D,Y0.expected=w,Y0.operator=S.name,Y0}n({actual:D,expected:w,message:M,operator:S.name,stackStartFn:S})}}function R(D,w,G,M){if(typeof w!=="function"){if(b(w))return N(w,D);if(arguments.length===2)throw new H("expected",["Function","RegExp"],w);if(Z(D)!=="object"||D===null){var y=new E({actual:D,expected:w,message:G,operator:"deepStrictEqual",stackStartFn:M});throw y.operator=M.name,y}var S=Object.keys(w);if(w instanceof Error)S.push("name","message");else if(S.length===0)throw new O("error",w,"may not be an empty object");if(j===void 0)h();return S.forEach(function(p){if(typeof D[p]==="string"&&b(w[p])&&N(w[p],D[p]))return;G0(D,w,p,G,S,M)}),!0}if(w.prototype!==void 0&&D instanceof w)return!0;if(Error.isPrototypeOf(w))return!1;return w.call({},D)===!0}function U(D){if(typeof D!=="function")throw new H("fn","Function",D);try{D()}catch(w){return w}return $0}function K(D){return v(D)||D!==null&&Z(D)==="object"&&typeof D.then==="function"&&typeof D.catch==="function"}function L(D){return Promise.resolve().then(function(){var w;if(typeof D==="function"){if(w=D(),!K(w))throw new T("instance of Promise","promiseFn",w)}else if(K(D))w=D;else throw new H("promiseFn",["Function","Promise"],D);return Promise.resolve().then(function(){return w}).then(function(){return $0}).catch(function(G){return G})})}function P(D,w,G,M){if(typeof G==="string"){if(arguments.length===4)throw new H("error",["Object","Error","Function","RegExp"],G);if(Z(w)==="object"&&w!==null){if(w.message===G)throw new V("error/message",'The error message "'.concat(w.message,'" is identical to the message.'))}else if(w===G)throw new V("error/message",'The error "'.concat(w,'" is identical to the message.'));M=G,G=void 0}else if(G!=null&&Z(G)!=="object"&&typeof G!=="function")throw new H("error",["Object","Error","Function","RegExp"],G);if(w===$0){var y="";if(G&&G.name)y+=" (".concat(G.name,")");y+=M?": ".concat(M):".";var S=D.name==="rejects"?"rejection":"exception";n({actual:void 0,expected:G,operator:D.name,message:"Missing expected ".concat(S).concat(y),stackStartFn:D})}if(G&&!R(w,G,M,D))throw w}function d(D,w,G,M){if(w===$0)return;if(typeof G==="string")M=G,G=void 0;if(!G||R(w,G)){var y=M?": ".concat(M):".",S=D.name==="doesNotReject"?"rejection":"exception";n({actual:w,expected:G,operator:D.name,message:"Got unwanted ".concat(S).concat(y,`
`)+'Actual message: "'.concat(w&&w.message,'"'),stackStartFn:D})}throw w}m.throws=function D(w){for(var G=arguments.length,M=new Array(G>1?G-1:0),y=1;y<G;y++)M[y-1]=arguments[y];P.apply(void 0,[D,U(w)].concat(M))},m.rejects=function D(w){for(var G=arguments.length,M=new Array(G>1?G-1:0),y=1;y<G;y++)M[y-1]=arguments[y];return L(w).then(function(S){return P.apply(void 0,[D,S].concat(M))})},m.doesNotThrow=function D(w){for(var G=arguments.length,M=new Array(G>1?G-1:0),y=1;y<G;y++)M[y-1]=arguments[y];d.apply(void 0,[D,U(w)].concat(M))},m.doesNotReject=function D(w){for(var G=arguments.length,M=new Array(G>1?G-1:0),y=1;y<G;y++)M[y-1]=arguments[y];return L(w).then(function(S){return d.apply(void 0,[D,S].concat(M))})},m.ifError=function D(w){if(w!==null&&w!==void 0){var G="ifError got unwanted exception: ";if(Z(w)==="object"&&typeof w.message==="string")if(w.message.length===0&&w.constructor)G+=w.constructor.name;else G+=w.message;else G+=_(w);var M=new E({actual:w,expected:null,operator:"ifError",message:G,stackStartFn:D}),y=w.stack;if(typeof y==="string"){var S=y.split(`
`);S.shift();var p=M.stack.split(`
`);for(var t=0;t<S.length;t++){var Y0=p.indexOf(S[t]);if(Y0!==-1){p=p.slice(0,Y0);break}}M.stack="".concat(p.join(`
`),`
`).concat(S.join(`
`))}throw M}};function s(D,w,G,M,y){if(!b(w))throw new H("regexp","RegExp",w);var S=y==="match";if(typeof D!=="string"||N(w,D)!==S){if(G instanceof Error)throw G;var p=!G;G=G||(typeof D!=="string"?'The "string" argument must be of type string. Received type '+"".concat(Z(D)," (").concat(_(D),")"):(S?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(_(w),`. Input:

`).concat(_(D),`
`));var t=new E({actual:D,expected:w,message:G,operator:y,stackStartFn:M});throw t.generatedMessage=p,t}}m.match=function D(w,G,M){s(w,G,M,D,"match")},m.doesNotMatch=function D(w,G,M){s(w,G,M,D,"doesNotMatch")};function c(){for(var D=arguments.length,w=new Array(D),G=0;G<D;G++)w[G]=arguments[G];B0.apply(void 0,[c,w.length].concat(w))}m.strict=i(c,m,{equal:m.strictEqual,deepEqual:m.deepStrictEqual,notEqual:m.notStrictEqual,notDeepEqual:m.notDeepStrictEqual}),m.strict.strict=m.strict}),w$=A8(Tf(),1),{AssertionError:UJ,CallTracker:wJ,deepEqual:HJ,deepStrictEqual:GJ,doesNotMatch:FJ,doesNotReject:KJ,doesNotThrow:DJ,equal:OJ,fail:LJ,ifError:MJ,match:AJ,notDeepEqual:qJ,notDeepStrictEqual:TJ,notEqual:jJ,notStrictEqual:CJ,ok:NJ,rejects:IJ,strict:RJ,strictEqual:SJ,throws:EJ}=w$,PJ=w$});var K$=Z0((O6,F$)=>{var H$=12,bJ=0,bf=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function _J(f){var $=f.indexOf("%");if($===-1)return f;var Z=f.length,J="",z=0,Q=0,Y=$,W=H$;while($>-1&&$<Z){var X=G$(f[$+1],4),B=G$(f[$+2],0),V=X|B,H=bf[V];if(W=bf[256+W+H],Q=Q<<6|V&bf[364+H],W===H$)J+=f.slice(z,Y),J+=Q<=65535?String.fromCharCode(Q):String.fromCharCode(55232+(Q>>10),56320+(Q&1023)),Q=0,z=$+3,$=Y=f.indexOf("%",z);else if(W===bJ)return null;else{if($+=3,$<Z&&f.charCodeAt($)===37)continue;return null}}return J+f.slice(z)}var vJ={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function G$(f,$){var Z=vJ[f];return Z===void 0?255:Z<<$}F$.exports=_J});var A$=Z0((L6,M$)=>{var D$=K$(),O$=/\+/g,L$=function(){};L$.prototype=Object.create(null);function gJ(f){let $=new L$;if(typeof f!=="string")return $;let Z=f.length,J="",z="",Q=-1,Y=-1,W=!1,X=!1,B=!1,V=!1,H=!1,O=0;for(let T=0;T<Z+1;T++)if(O=T!==Z?f.charCodeAt(T):38,O===38){if(H=Y>Q,!H)Y=T;if(J=f.slice(Q+1,Y),H||J.length>0){if(B)J=J.replace(O$," ");if(W)J=D$(J)||J;if(H){if(z=f.slice(Y+1,T),V)z=z.replace(O$," ");if(X)z=D$(z)||z}let q=$[J];if(q===void 0)$[J]=z;else if(q.pop)q.push(z);else $[J]=[q,z]}z="",Q=T,Y=T,W=!1,X=!1,B=!1,V=!1}else if(O===61)if(Y<=Q)Y=T;else X=!0;else if(O===43)if(Y>Q)V=!0;else B=!0;else if(O===37)if(Y>Q)X=!0;else W=!0;return $}M$.exports=gJ});var T$=Z0((M6,q$)=>{var g0=Array.from({length:256},(f,$)=>"%"+(($<16?"0":"")+$.toString(16)).toUpperCase()),xJ=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function kJ(f){let $=f.length;if($===0)return"";let Z="",J=0,z=0;f:for(;z<$;z++){let Q=f.charCodeAt(z);while(Q<128){if(xJ[Q]!==1){if(J<z)Z+=f.slice(J,z);J=z+1,Z+=g0[Q]}if(++z===$)break f;Q=f.charCodeAt(z)}if(J<z)Z+=f.slice(J,z);if(Q<2048){J=z+1,Z+=g0[192|Q>>6]+g0[128|Q&63];continue}if(Q<55296||Q>=57344){J=z+1,Z+=g0[224|Q>>12]+g0[128|Q>>6&63]+g0[128|Q&63];continue}if(++z,z>=$)throw new Error("URI malformed");let Y=f.charCodeAt(z)&1023;J=z+1,Q=65536+((Q&1023)<<10|Y),Z+=g0[240|Q>>18]+g0[128|Q>>12&63]+g0[128|Q>>6&63]+g0[128|Q&63]}if(J===0)return f;if(J<$)return Z+f.slice(J);return Z}q$.exports={encodeString:kJ}});var N$=Z0((A6,C$)=>{var{encodeString:_f}=T$();function j$(f){let $=typeof f;if($==="string")return _f(f);else if($==="bigint")return f.toString();else if($==="boolean")return f?"true":"false";else if($==="number"&&Number.isFinite(f))return f<1000000000000000000000?""+f:_f(""+f);return""}function yJ(f){let $="";if(f===null||typeof f!=="object")return $;let Z="&",J=Object.keys(f),z=J.length,Q=0;for(let Y=0;Y<z;Y++){let W=J[Y],X=f[W],B=_f(W)+"=";if(Y)$+=Z;if(Array.isArray(X)){Q=X.length;for(let V=0;V<Q;V++){if(V)$+=Z;$+=B,$+=j$(X[V])}}else $+=B,$+=j$(X)}return $}C$.exports=yJ});var E$=Z0((q6,L1)=>{var I$=A$(),R$=N$(),S$={parse:I$,stringify:R$};L1.exports=S$;L1.exports.default=S$;L1.exports.parse=I$;L1.exports.stringify=R$});var b$=Z0((P$)=>{Object.defineProperty(P$,"__esModule",{value:!0})});var v$=Z0((_$)=>{Object.defineProperty(_$,"__esModule",{value:!0});_$.types=void 0;var uJ;(function(f){f[f.ROOT=0]="ROOT",f[f.GROUP=1]="GROUP",f[f.POSITION=2]="POSITION",f[f.SET=3]="SET",f[f.RANGE=4]="RANGE",f[f.REPETITION=5]="REPETITION",f[f.REFERENCE=6]="REFERENCE",f[f.CHAR=7]="CHAR"})(uJ=_$.types||(_$.types={}))});var x$=Z0((g$)=>{Object.defineProperty(g$,"__esModule",{value:!0})});var u0=Z0((y0)=>{var cJ=y0&&y0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),gf=y0&&y0.__exportStar||function(f,$){for(var Z in f)if(Z!=="default"&&!Object.prototype.hasOwnProperty.call($,Z))cJ($,f,Z)};Object.defineProperty(y0,"__esModule",{value:!0});gf(b$(),y0);gf(v$(),y0);gf(x$(),y0)});var m1=Z0((c$)=>{Object.defineProperty(c$,"__esModule",{value:!0});c$.anyChar=c$.notWhitespace=c$.whitespace=c$.notInts=c$.ints=c$.notWords=c$.words=void 0;var Q0=u0(),k$=()=>[{type:Q0.types.RANGE,from:48,to:57}],y$=()=>[{type:Q0.types.CHAR,value:95},{type:Q0.types.RANGE,from:97,to:122},{type:Q0.types.RANGE,from:65,to:90},{type:Q0.types.RANGE,from:48,to:57}],u$=()=>[{type:Q0.types.CHAR,value:9},{type:Q0.types.CHAR,value:10},{type:Q0.types.CHAR,value:11},{type:Q0.types.CHAR,value:12},{type:Q0.types.CHAR,value:13},{type:Q0.types.CHAR,value:32},{type:Q0.types.CHAR,value:160},{type:Q0.types.CHAR,value:5760},{type:Q0.types.RANGE,from:8192,to:8202},{type:Q0.types.CHAR,value:8232},{type:Q0.types.CHAR,value:8233},{type:Q0.types.CHAR,value:8239},{type:Q0.types.CHAR,value:8287},{type:Q0.types.CHAR,value:12288},{type:Q0.types.CHAR,value:65279}],hJ=()=>[{type:Q0.types.CHAR,value:10},{type:Q0.types.CHAR,value:13},{type:Q0.types.CHAR,value:8232},{type:Q0.types.CHAR,value:8233}];c$.words=()=>({type:Q0.types.SET,set:y$(),not:!1});c$.notWords=()=>({type:Q0.types.SET,set:y$(),not:!0});c$.ints=()=>({type:Q0.types.SET,set:k$(),not:!1});c$.notInts=()=>({type:Q0.types.SET,set:k$(),not:!0});c$.whitespace=()=>({type:Q0.types.SET,set:u$(),not:!1});c$.notWhitespace=()=>({type:Q0.types.SET,set:u$(),not:!0});c$.anyChar=()=>({type:Q0.types.SET,set:hJ(),not:!0})});var d$=Z0((R0)=>{var oJ=R0&&R0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),rJ=R0&&R0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),sJ=R0&&R0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))oJ($,f,Z)}return rJ($,f),$};Object.defineProperty(R0,"__esModule",{value:!0});R0.tokenizeClass=R0.strToChars=void 0;var m$=u0(),Z1=sJ(m1()),aJ="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";R0.strToChars=(f)=>{let $=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return f.replace($,(Z,J,z,Q,Y,W,X)=>{if(z)return Z;let B=J?8:Q?parseInt(Q,16):Y?parseInt(Y,16):W?aJ.indexOf(W):{0:0,t:9,n:10,v:11,f:12,r:13}[X],V=String.fromCharCode(B);return/[[\]{}^$.|?*+()]/.test(V)?`\\${V}`:V})};R0.tokenizeClass=(f,$)=>{var Z,J,z,Q,Y,W,X;let B=[],V,H,O=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(((?:\\)])|(((?:\\)?([^\]])))))|(\])|(?:\\)?([^])/g;while((V=O.exec(f))!==null){let T=(X=(W=(Y=(Q=(z=(J=(Z=V[1]&&Z1.words())!==null&&Z!==void 0?Z:V[2]&&Z1.ints())!==null&&J!==void 0?J:V[3]&&Z1.whitespace())!==null&&z!==void 0?z:V[4]&&Z1.notWords())!==null&&Q!==void 0?Q:V[5]&&Z1.notInts())!==null&&Y!==void 0?Y:V[6]&&Z1.notWhitespace())!==null&&W!==void 0?W:V[7]&&{type:m$.types.RANGE,from:(V[8]||V[9]).charCodeAt(0),to:(H=V[10]).charCodeAt(H.length-1)})!==null&&X!==void 0?X:(H=V[16])&&{type:m$.types.CHAR,value:H.charCodeAt(0)};if(T)B.push(T);else return[B,O.lastIndex]}throw new SyntaxError(`Invalid regular expression: /${$}/: Unterminated character class`)}});var xf=Z0((x0)=>{var tJ=x0&&x0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),eJ=x0&&x0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),l$=x0&&x0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))tJ($,f,Z)}return eJ($,f),$};Object.defineProperty(x0,"__esModule",{value:!0});x0.tokenizer=void 0;var i$=l$(d$()),T0=u0(),i0=l$(m1()),f9=/^[a-zA-Z_$]$/i,$9=/^[a-zA-Z0-9_$]$/i,n$=/\d/;x0.tokenizer=(f)=>{let $=0,Z,J={type:T0.types.ROOT,stack:[]},z=J,Q=J.stack,Y=[],W=[],X=0,B=(H)=>{throw new SyntaxError(`Invalid regular expression: /${f}/: Nothing to repeat at column ${H-1}`)},V=i$.strToChars(f);while($<V.length)switch(Z=V[$++]){case"\\":if($===V.length)throw new SyntaxError(`Invalid regular expression: /${f}/: \\ at end of pattern`);switch(Z=V[$++]){case"b":Q.push({type:T0.types.POSITION,value:"b"});break;case"B":Q.push({type:T0.types.POSITION,value:"B"});break;case"w":Q.push(i0.words());break;case"W":Q.push(i0.notWords());break;case"d":Q.push(i0.ints());break;case"D":Q.push(i0.notInts());break;case"s":Q.push(i0.whitespace());break;case"S":Q.push(i0.notWhitespace());break;default:if(n$.test(Z)){let H=Z;while($<V.length&&n$.test(V[$]))H+=V[$++];let O=parseInt(H,10),T={type:T0.types.REFERENCE,value:O};Q.push(T),W.push({reference:T,stack:Q,index:Q.length-1})}else Q.push({type:T0.types.CHAR,value:Z.charCodeAt(0)})}break;case"^":Q.push({type:T0.types.POSITION,value:"^"});break;case"$":Q.push({type:T0.types.POSITION,value:"$"});break;case"[":{let H;if(V[$]==="^")H=!0,$++;else H=!1;let O=i$.tokenizeClass(V.slice($),f);$+=O[1],Q.push({type:T0.types.SET,set:O[0],not:H});break}case".":Q.push(i0.anyChar());break;case"(":{let H={type:T0.types.GROUP,stack:[],remember:!0};if(V[$]==="?")if(Z=V[$+1],$+=2,Z==="=")H.followedBy=!0,H.remember=!1;else if(Z==="!")H.notFollowedBy=!0,H.remember=!1;else if(Z==="<"){let O="";if(f9.test(V[$]))O+=V[$],$++;else throw new SyntaxError(`Invalid regular expression: /${f}/: Invalid capture group name, character '${V[$]}' after '<' at column ${$+1}`);while($<V.length&&$9.test(V[$]))O+=V[$],$++;if(!O)throw new SyntaxError(`Invalid regular expression: /${f}/: Invalid capture group name, character '${V[$]}' after '<' at column ${$+1}`);if(V[$]!==">")throw new SyntaxError(`Invalid regular expression: /${f}/: Unclosed capture group name, expected '>', found '${V[$]}' at column ${$+1}`);H.name=O,$++}else if(Z===":")H.remember=!1;else throw new SyntaxError(`Invalid regular expression: /${f}/: Invalid group, character '${Z}' after '?' at column ${$-1}`);else X+=1;Q.push(H),Y.push(z),z=H,Q=H.stack;break}case")":if(Y.length===0)throw new SyntaxError(`Invalid regular expression: /${f}/: Unmatched ) at column ${$-1}`);z=Y.pop(),Q=z.options?z.options[z.options.length-1]:z.stack;break;case"|":{if(!z.options)z.options=[z.stack],delete z.stack;let H=[];z.options.push(H),Q=H;break}case"{":{let H=/^(\d+)(,(\d+)?)?\}/.exec(V.slice($)),O,T;if(H!==null){if(Q.length===0)B($);O=parseInt(H[1],10),T=H[2]?H[3]?parseInt(H[3],10):1/0:O,$+=H[0].length,Q.push({type:T0.types.REPETITION,min:O,max:T,value:Q.pop()})}else Q.push({type:T0.types.CHAR,value:123});break}case"?":if(Q.length===0)B($);Q.push({type:T0.types.REPETITION,min:0,max:1,value:Q.pop()});break;case"+":if(Q.length===0)B($);Q.push({type:T0.types.REPETITION,min:1,max:1/0,value:Q.pop()});break;case"*":if(Q.length===0)B($);Q.push({type:T0.types.REPETITION,min:0,max:1/0,value:Q.pop()});break;default:Q.push({type:T0.types.CHAR,value:Z.charCodeAt(0)})}if(Y.length!==0)throw new SyntaxError(`Invalid regular expression: /${f}/: Unterminated group`);return Z9(W,X),J};function Z9(f,$){for(let Z of f.reverse())if($<Z.reference.value){Z.reference.type=T0.types.CHAR;let J=Z.reference.value.toString();if(Z.reference.value=parseInt(J,8),!/^[0-7]+$/.test(J)){let z=0;while(J[z]!=="8"&&J[z]!=="9")z+=1;if(z===0)Z.reference.value=J.charCodeAt(0),z+=1;else Z.reference.value=parseInt(J.slice(0,z),8);if(J.length>z){let Q=Z.stack.splice(Z.index+1);for(let Y of J.slice(z))Z.stack.push({type:T0.types.CHAR,value:Y.charCodeAt(0)});Z.stack.push(...Q)}}}}});var o$=Z0((j0)=>{var J9=j0&&j0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),z9=j0&&j0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),Q9=j0&&j0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))J9($,f,Z)}return z9($,f),$};Object.defineProperty(j0,"__esModule",{value:!0});j0.NOTANYCHAR=j0.WHITESPACE=j0.WORDS=j0.INTS=void 0;var d1=Q9(m1()),p$=u0();function i1(f){let $={},Z=0;for(let J of f){if(J.type===p$.types.CHAR)$[J.value]=!0;if(J.type===p$.types.RANGE)$[`${J.from}-${J.to}`]=!0;Z+=1}return{lookup:()=>Object.assign({},$),len:Z}}j0.INTS=i1(d1.ints().set);j0.WORDS=i1(d1.words().set);j0.WHITESPACE=i1(d1.whitespace().set);j0.NOTANYCHAR=i1(d1.anyChar().set)});var s$=Z0((S0)=>{var Y9=S0&&S0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),W9=S0&&S0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),X9=S0&&S0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))Y9($,f,Z)}return W9($,f),$};Object.defineProperty(S0,"__esModule",{value:!0});S0.writeSetTokens=S0.setChar=void 0;var o1=u0(),n1=X9(o$());function p1(f){return f===94?"\\^":f===92?"\\\\":f===93?"\\]":f===45?"\\-":String.fromCharCode(f)}S0.setChar=p1;function l1(f,{lookup:$,len:Z}){if(Z!==f.length)return!1;let J=$();for(let z of f){if(z.type===o1.types.SET)return!1;let Q=z.type===o1.types.CHAR?z.value:`${z.from}-${z.to}`;if(J[Q])J[Q]=!1;else return!1}return!0}function r$(f,$=!1){if(l1(f.set,n1.INTS))return f.not?"\\D":"\\d";if(l1(f.set,n1.WORDS))return f.not?"\\W":"\\w";if(f.not&&l1(f.set,n1.NOTANYCHAR))return".";if(l1(f.set,n1.WHITESPACE))return f.not?"\\S":"\\s";let Z="";for(let z=0;z<f.set.length;z++){let Q=f.set[z];Z+=V9(Q)}let J=`${f.not?"^":""}${Z}`;return $?J:`[${J}]`}S0.writeSetTokens=r$;function V9(f){if(f.type===o1.types.CHAR)return p1(f.value);else if(f.type===o1.types.RANGE)return`${p1(f.from)}-${p1(f.to)}`;return r$(f,!0)}});var yf=Z0((e$)=>{Object.defineProperty(e$,"__esModule",{value:!0});e$.reconstruct=void 0;var h0=u0(),kf=s$(),a$=(f)=>f.map(e$.reconstruct).join(""),t$=(f)=>{if("options"in f)return f.options.map(a$).join("|");else if("stack"in f)return a$(f.stack);else throw new Error("options or stack must be Root or Group token")};e$.reconstruct=(f)=>{switch(f.type){case h0.types.ROOT:return t$(f);case h0.types.CHAR:{let $=String.fromCharCode(f.value);return(/[[\\{}$^.|?*+()]/.test($)?"\\":"")+$}case h0.types.POSITION:if(f.value==="^"||f.value==="$")return f.value;else return`\\${f.value}`;case h0.types.REFERENCE:return`\\${f.value}`;case h0.types.SET:return kf.writeSetTokens(f);case h0.types.GROUP:return`(${f.name?`?<${f.name}>`:f.remember?"":f.followedBy?"?=":f.notFollowedBy?"?!":"?:"}${t$(f)})`;case h0.types.REPETITION:{let{min:$,max:Z}=f,J;if($===0&&Z===1)J="?";else if($===1&&Z===1/0)J="+";else if($===0&&Z===1/0)J="*";else if(Z===1/0)J=`{${$},}`;else if($===Z)J=`{${$}}`;else J=`{${$},${Z}}`;return`${e$.reconstruct(f.value)}${J}`}case h0.types.RANGE:return`${kf.setChar(f.from)}-${kf.setChar(f.to)}`;default:throw new Error(`Invalid token type ${f}`)}}});var Z7=Z0((E0,s1)=>{var B9=E0&&E0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),uf=E0&&E0.__exportStar||function(f,$){for(var Z in f)if(Z!=="default"&&!Object.prototype.hasOwnProperty.call($,Z))B9($,f,Z)};Object.defineProperty(E0,"__esModule",{value:!0});E0.types=void 0;var f7=u0();Object.defineProperty(E0,"types",{enumerable:!0,get:function(){return f7.types}});uf(xf(),E0);uf(yf(),E0);var $7=xf(),U9=yf();uf(u0(),E0);E0.default=$7.tokenizer;s1.exports=$7.tokenizer;s1.exports.types=f7.types;s1.exports.reconstruct=U9.reconstruct});var z7=Z0((_6,a1)=>{var J7=Z7(),w9=J7.types;function cf(f,$){if(!$)$={};let Z=$.limit===void 0?25:$.limit;if(H9(f))f=f.source;else if(typeof f!=="string")f=String(f);try{f=J7(f)}catch{return!1}let J=0;return function z(Q,Y){let W,X,B;if(Q.type===w9.REPETITION){if(Y++,J++,Y>1)return!1;if(J>Z)return!1}if(Q.options){for(W=0,B=Q.options.length;W<B;W++)if(X=z({stack:Q.options[W]},Y),!X)return!1}let V=Q.stack||Q.value?.stack;if(!V)return!0;for(W=0;W<V.length;W++)if(X=z(V[W],Y),!X)return!1;return!0}(f,0)}function H9(f){return{}.toString.call(f)==="[object RegExp]"}a1.exports=cf;a1.exports.default=cf;a1.exports.safeRegex=cf});var hf=Z0((v6,Q7)=>{Q7.exports=function f($,Z){if($===Z)return!0;if($&&Z&&typeof $=="object"&&typeof Z=="object"){if($.constructor!==Z.constructor)return!1;var J,z,Q;if(Array.isArray($)){if(J=$.length,J!=Z.length)return!1;for(z=J;z--!==0;)if(!f($[z],Z[z]))return!1;return!0}if($.constructor===RegExp)return $.source===Z.source&&$.flags===Z.flags;if($.valueOf!==Object.prototype.valueOf)return $.valueOf()===Z.valueOf();if($.toString!==Object.prototype.toString)return $.toString()===Z.toString();if(Q=Object.keys($),J=Q.length,J!==Object.keys(Z).length)return!1;for(z=J;z--!==0;)if(!Object.prototype.hasOwnProperty.call(Z,Q[z]))return!1;for(z=J;z--!==0;){var Y=Q[z];if(!f($[Y],Z[Y]))return!1}return!0}return $!==$&&Z!==Z}});var t1=Z0((g6,Y7)=>{Y7.exports={name:"__fmw_internal_strategy_merged_tree_http_method__",storage:function(){let f=new Map;return{get:($)=>{return f.get($)||null},set:($,Z)=>{f.set($,Z)}}},deriveConstraint:(f)=>f.method,mustMatchWhenDerived:!0}});var H7=Z0((x6,w7)=>{var W7=hf(),X7=t1(),V7=Symbol("treeData");function B7(f,$=""){let Z="",J=Object.keys(f);for(let z=0;z<J.length;z++){let Q=J[z],Y=f[Q],W=z===J.length-1,X=W?"└── ":"├── ",B=W?"    ":"│   ",H=(Y[V7]||"").replaceAll(`
`,`
`+$+B);Z+=$+X+Q+H+`
`,Z+=B7(Y,$+B)}return Z}function G9(f){let $=f.name||"";return $=$.replace("bound","").trim(),$=($||"anonymous")+"()",$}function U7(f){if(Array.isArray(f))return f.map(($)=>U7($));if(typeof f==="symbol")return f.toString();if(typeof f==="function")return G9(f);return f}function F9(f,$){if(!$.includeMeta)return{};let Z=$.buildPrettyMeta(f),J={},z=$.includeMeta;if(!Array.isArray(z))z=Reflect.ownKeys(Z);for(let Q of z){if(!Object.prototype.hasOwnProperty.call(Z,Q))continue;let Y=Q.toString(),W=Z[Q];if(W!==void 0&&W!==null){let X=JSON.stringify(U7(W));J[Y]=X}}return J}function K9(f){let $="";for(let[Z,J]of Object.entries(f))$+=`
• (${Z}) ${J}`;return $}function D9(f){let $={...f.opts.constraints},Z=$[X7.name];return delete $[X7.name],{...f,method:Z,opts:{constraints:$}}}function O9(f){let $=` (${f.method})`,Z=f.opts.constraints||{};if(Object.keys(Z).length!==0)$+=" "+JSON.stringify(Z);return $+=K9(f.metaData),$}function L9(f){return f.reduce(($,Z)=>{for(let J of $)if(W7(Z.opts.constraints,J.opts.constraints)&&W7(Z.metaData,J.metaData))return J.method+=", "+Z.method,$;return $.push(Z),$},[])}function M9(f,$,Z){let J=f.routes;if(Z.method===void 0)J=J.map(D9);if(J=J.map((z)=>{return z.metaData=F9(z,Z),z}),Z.method===void 0)J=L9(J);return J.map(O9).join(`
${$}`)}function e1(f,$,Z,J){if(f.isLeafNode||J.commonPrefix!==!1){if(Z=Z||"(empty root node)",$=$[Z]={},f.isLeafNode)$[V7]=M9(f,Z,J);Z=""}if(f.staticChildren)for(let z of Object.values(f.staticChildren))e1(z,$,Z+z.prefix,J);if(f.parametricChildren)for(let z of Object.values(f.parametricChildren)){let Q=Array.from(z.nodePaths).join("|");e1(z,$,Z+Q,J)}if(f.wildcardChild)e1(f.wildcardChild,$,"*",J)}function A9(f,$){let Z={};return e1(f,Z,f.prefix,$),B7(Z)}w7.exports={prettyPrintTree:A9}});var K7=Z0((k6,F7)=>{var G7=function(){};G7.prototype=Object.create(null);F7.exports={NullObject:G7}});var L7=Z0((y6,O7)=>{var{NullObject:q9}=K7(),T9=t1();class D7{constructor(){this.unconstrainedHandler=null,this.constraints=[],this.handlers=[],this.constrainedHandlerStores=null}getMatchingHandler(f){if(f===void 0)return this.unconstrainedHandler;return this._getHandlerMatchingConstraints(f)}addHandler(f,$){let Z=$.params,J=$.opts.constraints||{},z={params:Z,constraints:J,handler:$.handler,store:$.store||null,_createParamsObject:this._compileCreateParamsObject(Z)},Q=Object.keys(J);if(Q.length===0)this.unconstrainedHandler=z;for(let W of Q)if(!this.constraints.includes(W))if(W==="version")this.constraints.unshift(W);else this.constraints.push(W);let Y=Q.includes(T9.name);if(!Y&&this.handlers.length>=31)throw new Error("find-my-way supports a maximum of 31 route handlers per node when there are constraints, limit reached");if(this.handlers.push(z),this.handlers.sort((W,X)=>Object.keys(W.constraints).length-Object.keys(X.constraints).length),!Y)this._compileGetHandlerMatchingConstraints(f,J)}_compileCreateParamsObject(f){let $=[];$.push("const fn = function _createParamsObject (paramsArray) {"),$.push("const params = new NullObject()");for(let Z=0;Z<f.length;Z++)$.push(`params['${f[Z]}'] = paramsArray[${Z}]`);return $.push("return params"),$.push("}"),$.push("return fn"),new Function("NullObject",$.join(`
`))(q9)}_getHandlerMatchingConstraints(){return null}_buildConstraintStore(f,$){for(let Z=0;Z<this.handlers.length;Z++){let z=this.handlers[Z].constraints[$];if(z!==void 0){let Q=f.get(z)||0;Q|=1<<Z,f.set(z,Q)}}}_constrainedIndexBitmask(f){let $=0;for(let Z=0;Z<this.handlers.length;Z++)if(this.handlers[Z].constraints[f]!==void 0)$|=1<<Z;return~$}_compileGetHandlerMatchingConstraints(f){this.constrainedHandlerStores={};for(let Z of this.constraints){let J=f.newStoreForConstraint(Z);this.constrainedHandlerStores[Z]=J,this._buildConstraintStore(J,Z)}let $=[];$.push(`
    let candidates = ${(1<<this.handlers.length)-1}
    let mask, matches
    `);for(let Z of this.constraints){$.push(`
      mask = ${this._constrainedIndexBitmask(Z)}
      value = derivedConstraints.${Z}
      `);let z=f.strategies[Z].mustMatchWhenDerived?"matches":"(matches | mask)";$.push(`
      if (value === undefined) {
        candidates &= mask
      } else {
        matches = this.constrainedHandlerStores.${Z}.get(value) || 0
        candidates &= ${z}
      }
      if (candidates === 0) return null;
      `)}for(let Z in f.strategies)if(f.strategies[Z].mustMatchWhenDerived&&!this.constraints.includes(Z))$.push(`if (derivedConstraints.${Z} !== undefined) return null`);$.push("return this.handlers[Math.floor(Math.log2(candidates))]"),this._getHandlerMatchingConstraints=new Function("derivedConstraints",$.join(`
`))}}O7.exports=D7});var A7=Z0((u6,M7)=>{var j9=L7(),ff={STATIC:0,PARAMETRIC:1,WILDCARD:2};class mf{constructor(){this.isLeafNode=!1,this.routes=null,this.handlerStorage=null}addRoute(f,$){if(this.routes===null)this.routes=[];if(this.handlerStorage===null)this.handlerStorage=new j9;this.isLeafNode=!0,this.routes.push(f),this.handlerStorage.addHandler($,f)}}class df extends mf{constructor(){super();this.staticChildren={}}findStaticMatchingChild(f,$){let Z=this.staticChildren[f.charAt($)];if(Z===void 0||!Z.matchPrefix(f,$))return null;return Z}getStaticChild(f,$=0){if(f.length===$)return this;let Z=this.findStaticMatchingChild(f,$);if(Z)return Z.getStaticChild(f,$+Z.prefix.length);return null}createStaticChild(f){if(f.length===0)return this;let $=this.staticChildren[f.charAt(0)];if($){let J=1;for(;J<$.prefix.length;J++)if(f.charCodeAt(J)!==$.prefix.charCodeAt(J)){$=$.split(this,J);break}return $.createStaticChild(f.slice(J))}let Z=f.charAt(0);return this.staticChildren[Z]=new $f(f),this.staticChildren[Z]}}class $f extends df{constructor(f){super();this.prefix=f,this.wildcardChild=null,this.parametricChildren=[],this.kind=ff.STATIC,this._compilePrefixMatch()}getParametricChild(f){let $=f&&f.source,Z=this.parametricChildren.find((J)=>{return(J.regex&&J.regex.source)===$});if(Z)return Z;return null}createParametricChild(f,$,Z){let J=this.getParametricChild(f);if(J)return J.nodePaths.add(Z),J;return J=new nf(f,$,Z),this.parametricChildren.push(J),this.parametricChildren.sort((z,Q)=>{if(!z.isRegex)return 1;if(!Q.isRegex)return-1;if(z.staticSuffix===null)return 1;if(Q.staticSuffix===null)return-1;if(Q.staticSuffix.endsWith(z.staticSuffix))return 1;if(z.staticSuffix.endsWith(Q.staticSuffix))return-1;return 0}),J}getWildcardChild(){return this.wildcardChild}createWildcardChild(){return this.wildcardChild=this.getWildcardChild()||new lf,this.wildcardChild}split(f,$){let Z=this.prefix.slice(0,$),J=this.prefix.slice($);this.prefix=J,this._compilePrefixMatch();let z=new $f(Z);return z.staticChildren[J.charAt(0)]=this,f.staticChildren[Z.charAt(0)]=z,z}getNextNode(f,$,Z,J){let z=this.findStaticMatchingChild(f,$),Q=0;if(z===null){if(this.parametricChildren.length===0)return this.wildcardChild;z=this.parametricChildren[0],Q=1}if(this.wildcardChild!==null)Z.push({paramsCount:J,brotherPathIndex:$,brotherNode:this.wildcardChild});for(let Y=this.parametricChildren.length-1;Y>=Q;Y--)Z.push({paramsCount:J,brotherPathIndex:$,brotherNode:this.parametricChildren[Y]});return z}_compilePrefixMatch(){if(this.prefix.length===1){this.matchPrefix=()=>!0;return}let f=[];for(let $=1;$<this.prefix.length;$++){let Z=this.prefix.charCodeAt($);f.push(`path.charCodeAt(i + ${$}) === ${Z}`)}this.matchPrefix=new Function("path","i",`return ${f.join(" && ")}`)}}class nf extends df{constructor(f,$,Z){super();this.isRegex=!!f,this.regex=f||null,this.staticSuffix=$||null,this.kind=ff.PARAMETRIC,this.nodePaths=new Set([Z])}getNextNode(f,$){return this.findStaticMatchingChild(f,$)}}class lf extends mf{constructor(){super();this.kind=ff.WILDCARD}getNextNode(){return null}}M7.exports={StaticNode:$f,ParametricNode:nf,WildcardNode:lf,NODE_TYPES:ff}});var T7=Z0((c6,q7)=>{var C9=(O1(),r0(D1));function M1(){if(!(this instanceof M1))return new M1;this.store=new Map,this.maxMajor=0,this.maxMinors={},this.maxPatches={}}M1.prototype.set=function(f,$){if(typeof f!=="string")throw new TypeError("Version should be a string");let[Z,J,z]=f.split(".",3);if(isNaN(Z))throw new TypeError("Major version must be a numeric value");if(Z=Number(Z),J=Number(J)||0,z=Number(z)||0,Z>=this.maxMajor)this.maxMajor=Z,this.store.set("x",$),this.store.set("*",$),this.store.set("x.x",$),this.store.set("x.x.x",$);if(J>=(this.maxMinors[Z]||0))this.maxMinors[Z]=J,this.store.set(`${Z}.x`,$),this.store.set(`${Z}.x.x`,$);if(z>=(this.maxPatches[`${Z}.${J}`]||0))this.maxPatches[`${Z}.${J}`]=z,this.store.set(`${Z}.${J}.x`,$);return this.store.set(`${Z}.${J}.${z}`,$),this};M1.prototype.get=function(f){return this.store.get(f)};q7.exports={name:"version",mustMatchWhenDerived:!0,storage:M1,validate(f){C9(typeof f==="string","Version should be a string")}}});var C7=Z0((h6,j7)=>{var N9=(O1(),r0(D1));function I9(){let f=new Map,$=[];return{get:(Z)=>{let J=f.get(Z);if(J)return J;for(let z of $)if(z.host.test(Z))return z.value},set:(Z,J)=>{if(Z instanceof RegExp)$.push({host:Z,value:J});else f.set(Z,J)}}}j7.exports={name:"host",mustMatchWhenDerived:!1,storage:I9,validate(f){N9(typeof f==="string"||Object.prototype.toString.call(f)==="[object RegExp]","Host should be a string or a RegExp")}}});var R7=Z0((m6,I7)=>{var R9=T7(),S9=C7(),pf=(O1(),r0(D1));class N7{constructor(f){if(this.strategies={version:R9,host:S9},this.strategiesInUse=new Set,this.asyncStrategiesInUse=new Set,f)for(let $ of Object.values(f))this.addConstraintStrategy($)}isStrategyUsed(f){return this.strategiesInUse.has(f)||this.asyncStrategiesInUse.has(f)}hasConstraintStrategy(f){let $=this.strategies[f];if($!==void 0)return $.isCustom||this.isStrategyUsed(f);return!1}addConstraintStrategy(f){if(pf(typeof f.name==="string"&&f.name!=="","strategy.name is required."),pf(f.storage&&typeof f.storage==="function","strategy.storage function is required."),pf(f.deriveConstraint&&typeof f.deriveConstraint==="function","strategy.deriveConstraint function is required."),this.strategies[f.name]&&this.strategies[f.name].isCustom)throw new Error(`There already exists a custom constraint with the name ${f.name}.`);if(this.isStrategyUsed(f.name))throw new Error(`There already exists a route with ${f.name} constraint.`);if(f.isCustom=!0,f.isAsync=f.deriveConstraint.length===3,this.strategies[f.name]=f,f.mustMatchWhenDerived)this.noteUsage({[f.name]:f})}deriveConstraints(f,$,Z){let J=this.deriveSyncConstraints(f,$);if(Z===void 0)return J;this.deriveAsyncConstraints(J,f,$,Z)}deriveSyncConstraints(f,$){return}noteUsage(f){if(f){let $=this.strategiesInUse.size;for(let Z in f)if(this.strategies[Z].isAsync)this.asyncStrategiesInUse.add(Z);else this.strategiesInUse.add(Z);if($!==this.strategiesInUse.size)this._buildDeriveConstraints()}}newStoreForConstraint(f){if(!this.strategies[f])throw new Error(`No strategy registered for constraint key ${f}`);return this.strategies[f].storage()}validateConstraints(f){for(let $ in f){let Z=f[$];if(typeof Z==="undefined")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let J=this.strategies[$];if(!J)throw new Error(`No strategy registered for constraint key ${$}`);if(J.validate)J.validate(Z)}}deriveAsyncConstraints(f,$,Z,J){let z=this.asyncStrategiesInUse.size;if(z===0){J(null,f);return}f=f||{};for(let Q of this.asyncStrategiesInUse)this.strategies[Q].deriveConstraint($,Z,(W,X)=>{if(W!==null){J(W);return}if(f[Q]=X,--z===0)J(null,f)})}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let f=["return {"];for(let $ of this.strategiesInUse){let Z=this.strategies[$];if(!Z.isCustom)if($==="version")f.push("   version: req.headers['accept-version'],");else f.push("   host: req.headers.host || req.headers[':authority'],");else f.push(`  ${Z.name}: this.strategies.${$}.deriveConstraint(req, ctx),`)}f.push("}"),this.deriveSyncConstraints=new Function("req","ctx",f.join(`
`)).bind(this)}}I7.exports=N7});var E7=Z0((d6,S7)=>{var E9=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","QUERY","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];S7.exports=E9});var _7=Z0((i6,b7)=>{function P7(f,$){if(f===50){if($===53)return"%";if($===51)return"#";if($===52)return"$";if($===54)return"&";if($===66)return"+";if($===98)return"+";if($===67)return",";if($===99)return",";if($===70)return"/";if($===102)return"/";return null}if(f===51){if($===65)return":";if($===97)return":";if($===66)return";";if($===98)return";";if($===68)return"=";if($===100)return"=";if($===70)return"?";if($===102)return"?";return null}if(f===52&&$===48)return"@";return null}function P9(f,$){let Z=!1,J=!1,z="";for(let Y=1;Y<f.length;Y++){let W=f.charCodeAt(Y);if(W===37){let X=f.charCodeAt(Y+1),B=f.charCodeAt(Y+2);if(P7(X,B)===null)Z=!0;else{if(J=!0,X===50&&B===53)Z=!0,f=f.slice(0,Y+1)+"25"+f.slice(Y+1),Y+=2;Y+=2}}else if(W===63||W===35||W===59&&$){z=f.slice(Y+1),f=f.slice(0,Y);break}}return{path:Z?decodeURI(f):f,querystring:z,shouldDecodeParam:J}}function b9(f){let $=f.indexOf("%");if($===-1)return f;let Z="",J=$;for(let z=$;z<f.length;z++)if(f.charCodeAt(z)===37){let Q=f.charCodeAt(z+1),Y=f.charCodeAt(z+2),W=P7(Q,Y);Z+=f.slice(J,z)+W,J=z+3}return f.slice(0,$)+Z+f.slice(J)}b7.exports={safeDecodeURI:P9,safeDecodeURIComponent:b9}});var i7=Z0((n6,d7)=>{var K0=(O1(),r0(D1)),_9=E$(),z1=z7(),rf=hf(),{prettyPrintTree:v9}=H7(),{StaticNode:v7,NODE_TYPES:g7}=A7(),g9=R7(),J1=E7(),of=t1(),{safeDecodeURI:x9,safeDecodeURIComponent:x7}=_7(),k7=/^https?:\/\/.*?\//,n0=/(\/:[^/()]*?)\?(\/?)/,y7=/[.*+?^${}()|[\]\\]/g,u7=/\/\/+/g;if(!z1(k7))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!z1(n0))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");if(!z1(y7))throw new Error("the ESCAPE_REGEXP is not safe, update this module");if(!z1(u7))throw new Error("the REMOVE_DUPLICATE_SLASHES_REGEXP is not safe, update this module");function H0(f){if(!(this instanceof H0))return new H0(f);if(f=f||{},this._opts=f,f.defaultRoute)K0(typeof f.defaultRoute==="function","The default route must be a function"),this.defaultRoute=f.defaultRoute;else this.defaultRoute=null;if(f.onBadUrl)K0(typeof f.onBadUrl==="function","The bad url handler must be a function"),this.onBadUrl=f.onBadUrl;else this.onBadUrl=null;if(f.buildPrettyMeta)K0(typeof f.buildPrettyMeta==="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=f.buildPrettyMeta;else this.buildPrettyMeta=k9;if(f.querystringParser)K0(typeof f.querystringParser==="function","querystringParser must be a function"),this.querystringParser=f.querystringParser;else this.querystringParser=($)=>$.length===0?{}:_9.parse($);this.caseSensitive=f.caseSensitive===void 0?!0:f.caseSensitive,this.ignoreTrailingSlash=f.ignoreTrailingSlash||!1,this.ignoreDuplicateSlashes=f.ignoreDuplicateSlashes||!1,this.maxParamLength=f.maxParamLength||100,this.allowUnsafeRegex=f.allowUnsafeRegex||!1,this.constrainer=new g9(f.constraints),this.useSemicolonDelimiter=f.useSemicolonDelimiter||!1,this.routes=[],this.trees={}}H0.prototype.on=function f($,Z,J,z,Q){if(typeof J==="function"){if(z!==void 0)Q=z;z=J,J={}}K0(typeof Z==="string","Path should be a string"),K0(Z.length>0,"The path could not be empty"),K0(Z[0]==="/"||Z[0]==="*","The first character of a path should be `/` or `*`"),K0(typeof z==="function","Handler should be a function");let Y=Z.match(n0);if(Y){K0(Z.length===Y.index+Y[0].length,"Optional Parameter needs to be the last parameter of the path");let B=Z.replace(n0,"$1$2"),V=Z.replace(n0,"$2")||"/";this.on($,B,J,z,Q),this.on($,V,J,z,Q);return}let W=Z;if(this.ignoreDuplicateSlashes)Z=sf(Z);if(this.ignoreTrailingSlash)Z=af(Z);let X=Array.isArray($)?$:[$];for(let B of X)K0(typeof B==="string","Method should be a string"),K0(J1.includes(B),`Method '${B}' is not an http method.`),this._on(B,Z,J,z,Q,W)};H0.prototype._on=function f($,Z,J,z,Q){let Y={};if(J.constraints!==void 0){if(K0(typeof J.constraints==="object"&&J.constraints!==null,"Constraints should be an object"),Object.keys(J.constraints).length!==0)Y=J.constraints}if(this.constrainer.validateConstraints(Y),this.constrainer.noteUsage(Y),this.trees[$]===void 0)this.trees[$]=new v7("/");let W=Z;if(W==="*"&&this.trees[$].prefix.length!==0){let O=this.trees[$];this.trees[$]=new v7(""),this.trees[$].staticChildren["/"]=O}let X=this.trees[$],B=X.prefix.length,V=[];for(let O=0;O<=W.length;O++){if(W.charCodeAt(O)===58&&W.charCodeAt(O+1)===58){O++;continue}let T=W.charCodeAt(O)===58&&W.charCodeAt(O+1)!==58,q=W.charCodeAt(O)===42;if(T||q||O===W.length&&O!==B){let E=W.slice(B,O);if(!this.caseSensitive)E=E.toLowerCase();E=E.replaceAll("::",":"),E=E.replaceAll("%","%25"),X=X.createStaticChild(E)}if(T){let E=!1,x=!0,_="",g=[],v=O+1;for(let b=v;;b++){let i=W.charCodeAt(b),a=i===40,N=i===45||i===46,j=i===47||b===W.length;if(a||N||j){let I=W.slice(v,b);if(V.push(I),E=E||a||N,a){let m=m7(W,b),$0=W.slice(b,m+1);if(!this.allowUnsafeRegex)K0(z1(new RegExp($0)),`The regex '${$0}' is not safe!`);g.push(h7($0)),b=m+1,x=!0}else g.push(x?"(.*?)":`(${_}|(?:(?!${_}).)*)`),x=!1;let h=b;for(;b<W.length;b++){let m=W.charCodeAt(b);if(m===47)break;if(m===58)if(W.charCodeAt(b+1)===58)b++;else break}let r=W.slice(h,b);if(r)r=r.replaceAll("::",":"),r=r.replaceAll("%","%25"),g.push(_=c7(r));if(v=b+1,j||W.charCodeAt(b)===47||b===W.length){let m=E?"()"+r:r,$0=W.slice(O,b);W=W.slice(0,O+1)+m+W.slice(b),O+=m.length;let n=E?new RegExp("^"+g.join("")+"$"):null;X=X.createParametricChild(n,r||null,$0),B=O+1;break}}}}else if(q){if(V.push("*"),X=X.createWildcardChild(),B=O+1,O!==W.length-1)throw new Error("Wildcard must be the last character in the route")}}if(!this.caseSensitive)W=W.toLowerCase();if(W==="*")W="/*";for(let O of this.routes){let T=O.opts.constraints||{};if(O.method===$&&O.pattern===W&&rf(T,Y))throw new Error(`Method '${$}' already declared for route '${W}' with constraints '${JSON.stringify(Y)}'`)}let H={method:$,path:Z,pattern:W,params:V,opts:J,handler:z,store:Q};this.routes.push(H),X.addRoute(H,this.constrainer)};H0.prototype.hasRoute=function f($,Z,J){return this.findRoute($,Z,J)!==null};H0.prototype.findRoute=function f($,Z,J={}){if(this.trees[$]===void 0)return null;let z=Z,Q=this.trees[$],Y=Q.prefix.length,W=[];for(let X=0;X<=z.length;X++){if(z.charCodeAt(X)===58&&z.charCodeAt(X+1)===58){X++;continue}let B=z.charCodeAt(X)===58&&z.charCodeAt(X+1)!==58,V=z.charCodeAt(X)===42;if(B||V||X===z.length&&X!==Y){let H=z.slice(Y,X);if(!this.caseSensitive)H=H.toLowerCase();if(H=H.replaceAll("::",":"),H=H.replaceAll("%","%25"),Q=Q.getStaticChild(H),Q===null)return null}if(B){let H=!1,O=!0,T="",q=[],E=X+1;for(let x=E;;x++){let _=z.charCodeAt(x),g=_===40,v=_===45||_===46,b=_===47||x===z.length;if(g||v||b){let i=z.slice(E,x);if(W.push(i),H=H||g||v,g){let j=m7(z,x),I=z.slice(x,j+1);if(!this.allowUnsafeRegex)K0(z1(new RegExp(I)),`The regex '${I}' is not safe!`);q.push(h7(I)),x=j+1,O=!1}else q.push(O?"(.*?)":`(${T}|(?:(?!${T}).)*)`),O=!1;let a=x;for(;x<z.length;x++){let j=z.charCodeAt(x);if(j===47)break;if(j===58)if(z.charCodeAt(x+1)===58)x++;else break}let N=z.slice(a,x);if(N)N=N.replaceAll("::",":"),N=N.replaceAll("%","%25"),q.push(T=c7(N));if(E=x+1,b||z.charCodeAt(x)===47||x===z.length){let j=H?"()"+N:N,I=z.slice(X,x);z=z.slice(0,X+1)+j+z.slice(x),X+=j.length;let h=H?new RegExp("^"+q.join("")+"$"):null;if(Q=Q.getParametricChild(h,N||null,I),Q===null)return null;Y=X+1;break}}}}else if(V){if(W.push("*"),Q=Q.getWildcardChild(),Y=X+1,X!==z.length-1)throw new Error("Wildcard must be the last character in the route")}}if(!this.caseSensitive)z=z.toLowerCase();for(let X of this.routes){let B=X.opts.constraints||{};if(X.method===$&&X.pattern===z&&rf(B,J))return{handler:X.handler,store:X.store,params:X.params}}return null};H0.prototype.hasConstraintStrategy=function(f){return this.constrainer.hasConstraintStrategy(f)};H0.prototype.addConstraintStrategy=function(f){this.constrainer.addConstraintStrategy(f),this._rebuild(this.routes)};H0.prototype.reset=function f(){this.trees={},this.routes=[]};H0.prototype.off=function f($,Z,J){K0(typeof Z==="string","Path should be a string"),K0(Z.length>0,"The path could not be empty"),K0(Z[0]==="/"||Z[0]==="*","The first character of a path should be `/` or `*`"),K0(typeof J==="undefined"||typeof J==="object"&&!Array.isArray(J)&&J!==null,"Constraints should be an object or undefined.");let z=Z.match(n0);if(z){K0(Z.length===z.index+z[0].length,"Optional Parameter needs to be the last parameter of the path");let Y=Z.replace(n0,"$1$2"),W=Z.replace(n0,"$2");this.off($,Y,J),this.off($,W,J);return}if(this.ignoreDuplicateSlashes)Z=sf(Z);if(this.ignoreTrailingSlash)Z=af(Z);let Q=Array.isArray($)?$:[$];for(let Y of Q)this._off(Y,Z,J)};H0.prototype._off=function f($,Z,J){K0(typeof $==="string","Method should be a string"),K0(J1.includes($),`Method '${$}' is not an http method.`);function z(X){return $!==X.method||Z!==X.path}function Q(X){return z(X)||!rf(J,X.opts.constraints||{})}let Y=J?Q:z,W=this.routes.filter(Y);this._rebuild(W)};H0.prototype.lookup=function f($,Z,J,z){if(typeof J==="function")z=J,J=void 0;if(z===void 0){let Q=this.constrainer.deriveConstraints($,J),Y=this.find($.method,$.url,Q);return this.callHandler(Y,$,Z,J)}this.constrainer.deriveConstraints($,J,(Q,Y)=>{if(Q!==null){z(Q);return}try{let W=this.find($.method,$.url,Y),X=this.callHandler(W,$,Z,J);z(null,X)}catch(W){z(W)}})};H0.prototype.callHandler=function f($,Z,J,z){if($===null)return this._defaultRoute(Z,J,z);return z===void 0?$.handler(Z,J,$.params,$.store,$.searchParams):$.handler.call(z,Z,J,$.params,$.store,$.searchParams)};H0.prototype.find=function f($,Z,J){let z=this.trees[$];if(z===void 0)return null;if(Z.charCodeAt(0)!==47)Z=Z.replace(k7,"/");if(this.ignoreDuplicateSlashes)Z=sf(Z);let Q,Y,W;try{Q=x9(Z,this.useSemicolonDelimiter),Z=Q.path,Y=Q.querystring,W=Q.shouldDecodeParam}catch(q){return this._onBadUrl(Z)}if(this.ignoreTrailingSlash)Z=af(Z);let X=Z;if(this.caseSensitive===!1)Z=Z.toLowerCase();let B=this.maxParamLength,V=z.prefix.length,H=[],O=Z.length,T=[];while(!0){if(V===O&&z.isLeafNode){let _=z.handlerStorage.getMatchingHandler(J);if(_!==null)return{handler:_.handler,store:_.store,params:_._createParamsObject(H),searchParams:this.querystringParser(Y)}}let q=z.getNextNode(Z,V,T,H.length);if(q===null){if(T.length===0)return null;let _=T.pop();V=_.brotherPathIndex,H.splice(_.paramsCount),q=_.brotherNode}if(z=q,z.kind===g7.STATIC){V+=z.prefix.length;continue}if(z.kind===g7.WILDCARD){let _=X.slice(V);if(W)_=x7(_);H.push(_),V=O;continue}let E=X.indexOf("/",V);if(E===-1)E=O;let x=X.slice(V,E);if(W)x=x7(x);if(z.isRegex){let _=z.regex.exec(x);if(_===null)continue;for(let g=1;g<_.length;g++){let v=_[g];if(v.length>B)return null;H.push(v)}}else{if(x.length>B)return null;H.push(x)}V=E}};H0.prototype._rebuild=function(f){this.reset();for(let $ of f){let{method:Z,path:J,opts:z,handler:Q,store:Y}=$;this._on(Z,J,z,Q,Y)}};H0.prototype._defaultRoute=function(f,$,Z){if(this.defaultRoute!==null)return Z===void 0?this.defaultRoute(f,$):this.defaultRoute.call(Z,f,$);else $.statusCode=404,$.end()};H0.prototype._onBadUrl=function(f){if(this.onBadUrl===null)return null;let $=this.onBadUrl;return{handler:(Z,J,z)=>$(f,Z,J),params:{},store:null}};H0.prototype.prettyPrint=function(f={}){let $=f.method;f.buildPrettyMeta=this.buildPrettyMeta.bind(this);let Z=null;if($===void 0){let{version:J,host:z,...Q}=this.constrainer.strategies;Q[of.name]=of;let Y=new H0({...this._opts,constraints:Q}),W=this.routes.map((X)=>{let B={...X.opts.constraints,[of.name]:X.method};return{...X,method:"MERGED",opts:{constraints:B}}});Y._rebuild(W),Z=Y.trees.MERGED}else Z=this.trees[$];if(Z==null)return"(empty tree)";return v9(Z,f)};for(let f in J1){if(!J1.hasOwnProperty(f))continue;let $=J1[f],Z=$.toLowerCase();H0.prototype[Z]=function(J,z,Q){return this.on($,J,z,Q)}}H0.prototype.all=function(f,$,Z){this.on(J1,f,$,Z)};d7.exports=H0;function c7(f){return f.replace(y7,"\\$&")}function sf(f){return f.indexOf("//")!==-1?f.replace(u7,"/"):f}function af(f){if(f.length>1&&f.charCodeAt(f.length-1)===47)return f.slice(0,-1);return f}function h7(f){if(f.charCodeAt(1)===94)f=f.slice(0,1)+f.slice(2);if(f.charCodeAt(f.length-2)===36)f=f.slice(0,f.length-2)+f.slice(f.length-1);return f}function m7(f,$){let Z=1;while($<f.length){if($++,f.charCodeAt($)===92){$++;continue}if(f.charCodeAt($)===41)Z--;else if(f.charCodeAt($)===40)Z++;if(!Z)return $}throw new TypeError('Invalid regexp expression in "'+f+'"')}function k9(f){if(!f)return{};if(!f.store)return{};return Object.assign({},f.store)}});function T1(f){switch(f.split(".").pop()?.toLowerCase()){case"js":return"application/javascript";case"css":return"text/css";case"html":return"text/html";case"json":return"application/json";case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";case"svg":return"image/svg+xml";case"gif":return"image/gif";case"woff":return"font/woff";case"woff2":return"font/woff2";default:return"application/octet-stream"}}var Hf=null;async function hZ(){if(!Hf){let f=await Promise.resolve().then(() => X4(u4(),1));Hf=f.default||f}return Hf}class H1{req;server;path;routePattern;env;executionContext;headers=new Headers;parsedQuery=null;parsedParams=null;parsedCookies=null;parsedBody=null;contextData={};urlObject=null;constructor(f,$,Z,J,z,Q){this.req=f,this.server=$,this.path=Z,this.routePattern=J,this.executionContext=Q,this.env=z}setHeader(f,$){return this.headers.set(f,$),this}removeHeader(f){return this.headers.delete(f),this}set(f,$){return this.contextData[f]=$,this}get(f){return this.contextData[f]}get ip(){if(this.server)return this.server.requestIP(this.req)?.address??null;return this.req.headers.get("CF-Connecting-IP")||null}get url(){if(!this.urlObject)this.urlObject=new URL(this.req.url);return this.urlObject}get query(){if(!this.parsedQuery)this.parsedQuery=this.url.search?Object.fromEntries(this.url.searchParams):{};return this.parsedQuery}get params(){if(!this.parsedParams&&this.routePattern)try{this.parsedParams=dZ(this.routePattern,this.path)}catch(f){let $=f instanceof Error?f.message:String(f);throw new Error(`Failed to extract route parameters: ${$}`)}return this.parsedParams??{}}get body(){if(this.req.method==="GET")return Promise.resolve({});if(!this.parsedBody)this.parsedBody=(async()=>{try{let f=await iZ(this.req);if(f.error)throw new Error(f.error);return Object.keys(f).length===0?null:f}catch(f){throw new Error("Invalid request body format")}})();return this.parsedBody}text(f,$=200){return new Response(f,{status:$,headers:this.headers})}send(f,$=200){let Z;if(f instanceof Uint8Array)Z="Uint8Array";else if(f instanceof ArrayBuffer)Z="ArrayBuffer";else Z=typeof f;let J=Z==="object"&&f!==null?JSON.stringify(f):f;return new Response(J,{status:$,headers:this.headers})}json(f,$=200){return Response.json(f,{status:$,headers:this.headers})}file(f,$,Z=200){let J=Bun.file(f);if(!this.headers.has("Content-Type"))this.headers.set("Content-Type",$??T1(f));return new Response(J,{status:Z,headers:this.headers})}async ejs(f,$={},Z=200){let J=await hZ();try{let z=await Bun.file(f).text(),Q=J.render(z,$),Y=new Headers({"Content-Type":"text/html; charset=utf-8"});return new Response(Q,{status:Z,headers:Y})}catch(z){return console.error("EJS Rendering Error:",z),new Response("Error rendering template",{status:500})}}redirect(f,$=302){return this.headers.set("Location",f),new Response(null,{status:$,headers:this.headers})}setCookie(f,$,Z={}){let J=`${encodeURIComponent(f)}=${encodeURIComponent($)}`;if(Z.maxAge)J+=`; Max-Age=${Z.maxAge}`;if(Z.expires)J+=`; Expires=${Z.expires.toUTCString()}`;if(Z.path)J+=`; Path=${Z.path}`;if(Z.domain)J+=`; Domain=${Z.domain}`;if(Z.secure)J+="; Secure";if(Z.httpOnly)J+="; HttpOnly";if(Z.sameSite)J+=`; SameSite=${Z.sameSite}`;return this.headers.append("Set-Cookie",J),this}get cookies(){if(!this.parsedCookies){let f=this.req.headers.get("cookie");this.parsedCookies=f?mZ(f):{}}return this.parsedCookies}stream(f){let $=new Headers(this.headers),Z=new ReadableStream({async start(J){await f(J),J.close()}});return new Response(Z,{headers:$})}yieldStream(f){return new Response}}function mZ(f){return Object.fromEntries(f.split(";").map(($)=>{let[Z,...J]=$.trim().split("=");return[Z,decodeURIComponent(J.join("="))]}))}function dZ(f,$){let Z={},J=f.split("/"),[z]=$.split("?"),Q=z.split("/");if(J.length!==Q.length)return null;for(let Y=0;Y<J.length;Y++){let W=J[Y];if(W.charCodeAt(0)===58)Z[W.slice(1)]=Q[Y]}return Z}async function iZ(f){let $=f.headers.get("Content-Type")||"";if(!$)return{};if(f.headers.get("Content-Length")==="0"||!f.body)return{};if($.startsWith("application/json"))return await f.json();if($.startsWith("application/x-www-form-urlencoded")){let J=await f.text();return Object.fromEntries(new URLSearchParams(J))}if($.startsWith("multipart/form-data")){let J=await f.formData(),z={};for(let[Q,Y]of J.entries())z[Q]=Y;return z}return{error:"Unknown request body type"}}async function c0(f,$,Z){if(!$?.length)return;for(let J=0;J<$.length;J++){let z=$[J](...Z),Q=z instanceof Promise?await z:z;if(Q&&f!=="onRequest")return Q}}async function c4(f,$,Z){let J=f.globalMiddlewares;if(J.length)for(let Q of J){let Y=await Q(Z);if(Y)return Y}let z=f.middlewares.get($);if(z&&z.length)for(let Q of z){let Y=await Q(Z);if(Y)return Y}return null}async function h4(f,$,Z){for(let J of f){let z=await J($,Z);if(z)return z}}async function I1(f,$,Z){let J=await nZ(f,$,Z),z=J instanceof Promise?await J:J;if(z)return z}async function nZ(f,$,Z){if($.endsWith("/"))$=$.slice(0,-1);if(!f.filters.has($))if(f.filterFunction.length)for(let J of f.filterFunction){let z=await J(Z);if(z)return z}else return Response.json({error:"Protected route, authentication required"},{status:401})}async function R1(f,$,Z){if(f.staticPath){let z=!0;if(f.staticRequestPath)z=Z.startsWith(f.staticRequestPath);if(z){let Q=await lZ(f,Z,$);if(Q)return Q;let Y=f.router.find($.req.method,"*");if(Y?.handler)return await Y.handler($)}}let J=f.routeNotFoundFunc($);return J instanceof Promise?await J:J||a0(404,`404 Route not found for ${Z}`)}function a0(f,$){return new Response(JSON.stringify({error:$}),{status:f,headers:{"Content-Type":"application/json"}})}async function lZ(f,$,Z){if(!f.staticPath)return null;let J=`${f.staticPath}${$}`;if(await Bun.file(J).exists()){let Q=T1(J);return Z.file(J,Q,200)}return null}var S1=(f)=>f.constructor.name==="AsyncFunction",Gf=(f,$,Z,...J)=>{if($.length>5)f.push(`
      for (let i = 0; i < diesel.hooks.${Z}.length; i++) {
        const result = diesel.hooks.${Z}[i](${J});
        const finalResult = result instanceof Promise ? await result : result;
        if (finalResult && '${Z}' !== 'onRequest') return finalResult
    }
  `);else $?.forEach((z,Q)=>{if(S1(z))f.push(`
            const ${Z}${Q}Result = await diesel.hooks.${Z}[${Q}](${J})
            if (${Z}${Q}Result && '${Z}' !== 'onRequest') return ${Z}${Q}Result
            `);else f.push(`
            const ${Z}${Q}Result = diesel.hooks.${Z}[${Q}](${J})
             if (${Z}${Q}Result && '${Z}' !== 'onRequest') return ${Z}${Q}Result
            `)})},pZ=(f)=>{f.push(`
    let pathname;
    const start = req.url.indexOf('/', req.url.indexOf(':') + 4);
    let i = start;
    for (; i < req.url.length; i++) {
        const charCode = req.url.charCodeAt(i);
        if (charCode === 37) { // percent-encoded
            const queryIndex = req.url.indexOf('?', i);
            const path = req.url.slice(start, queryIndex === -1 ? undefined : queryIndex);
            pathname = tryDecodeURI(path.includes('%25') ? path.replace(/%25/g, '%2525') : path);
            break;
        } else if (charCode === 63) { // ?
            break;
        }
    }
    if (!pathname) {
      pathname = req.url.slice(start, i);
    }
  `)},oZ=(f,$)=>{if($.length<=5)for(let Z=0;Z<$.length;Z++)if(S1($[Z]))f.push(`
          const resultMiddleware${Z} = await globalMiddlewares[${Z}](ctx);
          if (resultMiddleware${Z}) return resultMiddleware${Z};
      `);else f.push(`
        const resultMiddleware${Z} = globalMiddlewares[${Z}](ctx);
        if (resultMiddleware${Z}) return resultMiddleware${Z};
    `);else f.push(`
    for (let i = 0; i < globalMiddlewares.length; i++) {
      const result = await globalMiddlewares[i](ctx);
      if (result) return result;
    }
  `)},m4=(f,$)=>{let Z=[],J=$.globalMiddlewares||[],z=f?.hasOnReqHook?$.hooks.onRequest:[],Q=f?.hasPreHandlerHook?$.hooks.preHandler:[],Y=f?.hasOnSendHook?$.hooks.onSend:[];if(pZ(Z),Z.push(`
      const routeHandler = diesel.trie.search(pathname, req.method);
    `),z&&z.length>0)Gf(Z,z,"onRequest","req","pathname","server");if(Z.push(`
          const ctx = new Context(req, server, pathname, routeHandler?.path)
    `),f?.hasMiddleware){if(J.length>0)oZ(Z,J);if($.middlewares.size>0)Z.push(`
      const local = diesel.middlewares.get(pathname)
      if (local && local.length) {
        for (const middleware of local) {
          const result = await middleware(ctx);
          if (result) return result;
        }
      }
        `)}if(f.hasFilterEnabled)Z.push(`
        const filterResponse = await runFilter(diesel, pathname, ctx);
        if (filterResponse) return filterResponse;
      `);if(Z.push(`
      if (!routeHandler) return await handleRouteNotFound(diesel, ctx, pathname);
    `),f.hasPreHandlerHook)Gf(Z,Q,"preHandler","ctx");if(Z.push(`
      const result = routeHandler.handler(ctx);
      const finalResult = result instanceof Promise ? await result : result;
    `),f.hasOnSendHook)Gf(Z,Y,"onSend","ctx","finalResult");Z.push(`
      if (finalResult instanceof Response) return finalResult;
      return generateErrorResponse(500, "No response returned from handler.");
    `);let W=`
      return async function pipeline(req, server, diesel) {
          ${Z.join(`
`)}
      }
    `;return new Function("runFilter","handleRouteNotFound","generateErrorResponse","globalMiddlewares","Context",W)(I1,R1,a0,J,H1)},d4=(f,$,Z,J,...z)=>{let Q=[],Y;if(typeof z[0]==="string"||typeof z[0]==="object")Y=z[0];let W=z,X=f?.hasMiddleware?$.globalMiddlewares:[],B=f?.hasMiddleware?$.middlewares.get(J)||[]:[],V=[...X,...B],H=f?.hasOnReqHook?$.hooks.onRequest:[],O=$.filters.has(J),T=$.filterFunction;if(H&&H?.length>0)Q.push(`
      const onRequestResult = await runHooks(
        "onRequest",
        onRequestHooks,
        [req, "${J}", server]
      );
      if (onRequestResult) return onRequestResult;
    `);if(V.length)Q.push(`
      const globalMiddlewareResponse = await executeBunMiddlewares(
        allMiddlewares,
        req,
        server
      );
      if (globalMiddlewareResponse) return globalMiddlewareResponse;
    `);if(f.hasFilterEnabled){if(!O)Q.push(`if (${T.length}) {
        for (const filterFunction of filterFunctions) {
          const filterResult = await filterFunction(req, server);
          if (filterResult) return filterResult;
        }
      } else {
        return Response.json({ error: "Protected route, authentication required" }, { status: 401 });
      }`)}if(Q.push(`
            if ("${Z}" !== req.method)
        return new Response("Method Not Allowed", { status: 405 });
      `),typeof Y!=="undefined")if(typeof Y==="string")Q.push(`
        return new Response(${JSON.stringify(Y)});
      `);else{let x=JSON.stringify(Y);Q.push(`
        return new Response(${JSON.stringify(x)}, {
          headers: { "content-type": "application/json; charset=utf-8" }
        });
      `)}else if(W.length===1){let x=W[0];if(S1(x))Q.push(`
        const response = await handlers[0](req, server);
        if (response instanceof Response) return response;
      `);else Q.push(`
        const response = handlers[0](req, server);
        if (response instanceof Response) return response;
      `)}else W.forEach((x,_)=>{if(S1(x))Q.push(`
            const response${_} = await handlers[${_}](req, server);
            if (response${_} instanceof Response) return response${_};
        `);else Q.push(`
            const response${_} = handlers[${_}](req, server);
            if (response${_} instanceof Response) return response${_};
        `)});let q=`
    return async function(req, server) {
      ${Q.join(`
`)}
    }
  `;return new Function("executeBunMiddlewares","handlers","runHooks","filterFunctions","onRequestHooks","allMiddlewares",q)(h4,W,c0,T,H,V)};class E1{children;isEndOfWord;handler;isDynamic;pattern;path;method;constructor(){this.children={},this.isEndOfWord=!1,this.handler=[],this.isDynamic=!1,this.pattern="",this.path="",this.method=[]}}class Ff{root;constructor(){this.root=new E1}pushMidl(f,...$){let Z=this.root,J=f.split("/").filter(Boolean);if(f==="/"){Z.handler.push(...$);return}for(let z of J){let Q=z;if(z.startsWith(":"))Q=":";if(!Z.children[Q])Z.children[Q]=new E1;Z=Z.children[Q]}Z.handler.push(...$)}insert(f,$){let Z=this.root,J=f.split("/").filter(Boolean);if(f==="/"){Z.isEndOfWord=!0,Z.handler.push($.handler),Z.path=f,Z.method.push($.method);return}for(let z of J){let Q=!1,Y=z;if(z.startsWith(":"))Q=!0,Y=":";if(z==="*")Y="*";if(!Z.children[Y])Z.children[Y]=new E1;Z=Z.children[Y],Z.isDynamic=Q,Z.pattern=z}Z.isEndOfWord=!0,Z.path=f,Z.method.push($.method),Z.handler.push($.handler)}search(f,$){let Z=this.root,J=f.split("/").filter(Boolean);for(let W=0;W<J.length;W++){let X=J[W];if(Z.children[X])Z=Z.children[X];else if(Z.children[":"])Z=Z.children[":"];else if(Z.children["*"]){Z=Z.children["*"];break}else return null}let z=Z.path.split("/").filter(Boolean);if(z[z.length-1]!=="*"&&J.length!==z.length)return null;if(Z.method.indexOf($)!==-1)return{path:Z.path,handler:Z.handler[0],pattern:Z.pattern};return null}}class P1{trie=new Ff;cache=new Map;add(f,$,Z){this.trie.insert($,{method:f,handler:Z})}find(f,$){return this.trie.search($,f)}}var n7=X4(i7(),1);class Q1{router=n7.default({});add(f,$,Z){this.router.on(f,$,Z)}find(f,$){let Z=this.router.find(f,$);if(Z)return{handler:Z.handler,params:Z.params};return null}}class tf{static create(f){switch(f){case"trie":return new P1;case"fastify":return new Q1;case"fs":return new Q1;case"find-my-way":return new Q1;case"findmyway":return new Q1;default:return new P1}}}Wf();var{default:z4}=(()=>({}));var D0={reset:"\x1B[0m",info:"\x1B[36m",warn:"\x1B[33m",error:"\x1B[31m",method:{GET:"\x1B[32m",POST:"\x1B[34m",PUT:"\x1B[35m",DELETE:"\x1B[31m",PATCH:"\x1B[36m"}},ef=(f,$,Z)=>{let J=D0[f]||D0.reset,z=Z?.method?D0.method[Z.method]||D0.reset:D0.reset,Q=Z?.status?Z.status>=500?D0.error:Z.status>=400?D0.warn:D0.info:D0.reset;console.log(`
${J}[${f.toUpperCase()}]${D0.reset} ${$} - ${z}${Z?.method||""}${D0.reset}`);let Y={timestamp:new Date().toISOString(),...Z,status:Z?.status?`${Q}${Z.status}${D0.reset}`:void 0,method:Z?.method?`${z>J}${Z.method}${D0.reset}`:void 0};console.log(JSON.stringify(Y,null,2)+`
`)},l7=(f)=>{let{app:$,logger:Z,logLevel:J="info",onRequest:z,onSend:Q,onError:Y}=f||{};$?.addHooks("onRequest",(W)=>{W.req.startTime=Date.now(),Z?.()??ef(J,"Incoming Request",{method:W.req.method,url:W.path,headers:{"user-agent":W.req.headers.get("user-agent"),"content-type":W.req.headers.get("content-type")}}),z?.(W)}),$?.addHooks("onSend",async(W,X)=>{let B=`${Date.now()-W.req.startTime}ms`;Z?.()??ef(J,"Response Sent",{method:W.req.method,url:W.url.toString(),status:X.status,duration:B,reqId:W.get?.("requestId"),headers:{"content-type":X.headers.get("content-type")}});let V=await Q?.(W);if(V instanceof Response)return V}),$?.addHooks("onError",async(W,X)=>{Z?.()??ef("error","Unhandled Error",{method:X.req.method,url:X.path,status:500,error:W.message});let B=await Y?.(W,X);if(B instanceof Response)return B})},f4=(f,$,Z,J=0,z,Q)=>{let Y=D0.method[$]||D0.reset,W=J>=500?D0.error:J>=400?D0.warn:D0.info,X=Q?`[${Q}] `:"",B=f==="<--"?`${f} ${Y}${$}${D0.reset} ${Z} ${X}`:`${f} ${Y}${$}${D0.reset} ${Z} ${W}${J}${D0.reset} ${z??""} ${X}`;console.log(B)},y9=(f)=>{let $=Date.now()-f;return $<1000?`${$}ms`:`${Math.round($/1000)}s`},p7=(f)=>{let{app:$,log:Z,onRequest:J,onSend:z,onError:Q}=f;$.addHooks("onRequest",(Y)=>{let{req:W,path:X}=Y;W.startTime=Date.now(),Z?.()??f4("<--",W.method,X),J?.(W,X)}),$.addHooks("onSend",async(Y,W)=>{let{method:X,url:B}=Y.req,V=new URL(B).pathname,H=Y.get?.("requestId");Z?.()??f4("-->",X,V,W.status,y9(Y.req.startTime),H);let O=await z?.(Y);if(O instanceof Response)return O}),$.addHooks("onError",async(Y,W)=>{let{req:X,path:B}=W;Z?.()??f4(Y.message,X.method,B,500);let V=await Q?.(Y,X,B);if(V instanceof Response)return V})};function o7(f,$){if(!f)throw new Error("JWT library is not defined, please provide jwt to authenticateJwt Function");return(Z)=>{try{let J=Z.cookies?.accessToken??Z.req?.headers?.get("Authorization");if(!J)return Z.json({message:"Unauthorized",error:"No token provided"},401);if(J.startsWith("Bearer "))J=J.slice(7);let z=f?.verify(J,$);if(!z)return Z.json({message:"Unauthorized",error:"Token could not be decoded"},401);Z.set("user",z)}catch(J){let z="Invalid token";if(J.name==="TokenExpiredError")z="Token expired";else if(J.name==="JsonWebTokenError")z="Malformed or tampered token";return Z.json({message:"Unauthorized",error:z},401)}}}function r7(f,$,Z){if(!f)throw new Error("JWT library is not defined, please provide jwt to authenticateJwtDB Function");if(!$)throw new Error("User model is not defined, please provide UserModel to authenticateJwtDB Function");return async(J)=>{try{let z=J.cookies?.accessToken??J.req?.headers?.get("Authorization");if(!z)return J.json({message:"Unauthorized",error:"No token provided"},401);if(z.startsWith("Bearer "))z=z.slice(7);let Q=f?.verify(z,Z);if(!Q)return J.json({message:"Unauthorized",error:"Token could not be decoded"},401);let Y=await $.findById(Q._id).select("-password -refreshToken");if(!Y)return J.json({message:"Unauthorized: User not found"},404);J.set("user",Y);return}catch(z){let Q="Invalid token";if(z.name==="TokenExpiredError")Q="Token expired";else if(z.name==="JsonWebTokenError")Q="Malformed or tampered token";return J.json({message:"Unauthorized",error:Q},401)}}}var u9=(f,$)=>{try{return $(f)}catch{return f.replace(/(?:%[0-9A-Fa-f]{2})+/g,(Z)=>{try{return $(Z)}catch{return Z}})}},c9=(f)=>u9(f,decodeURI),Zf=(f)=>{let $=f.indexOf("/",f.indexOf(":")+4),Z=$;for(;Z<f.length;Z++){let J=f.charCodeAt(Z);if(J===37){let z=f.indexOf("?",Z),Q=f.slice($,z===-1?void 0:z);return c9(Q.includes("%25")?Q.replace(/%25/g,"%2525"):Q)}else if(J===63)break}return f.slice($,Z)};var Z4=Symbol.for,l0=Symbol("kCapture"),e7=Z4("events.errorMonitor"),h9=Symbol("events.maxEventTargetListeners"),m9=Symbol("events.maxEventTargetListenersWarned"),s7=Z4("nodejs.rejection"),d9=Z4("nodejs.rejection"),a7=Array.prototype.slice,p0=10,m0=function f($){if(this._events===void 0||this._events===this.__proto__._events)this._events={__proto__:null},this._eventsCount=0;if(this._maxListeners??=void 0,this[l0]=$?.captureRejections?Boolean($?.captureRejections):X0[l0])this.emit=p9},X0=m0.prototype={};X0._events=void 0;X0._eventsCount=0;X0._maxListeners=void 0;X0.setMaxListeners=function f($){return J4($,"setMaxListeners",0),this._maxListeners=$,this};X0.constructor=m0;X0.getMaxListeners=function f(){return this?._maxListeners??p0};function fZ(f,$){var{_events:Z}=f;if($[0]??=new Error("Unhandled error."),!Z)throw $[0];var J=Z[e7];if(J)for(var z of a7.call(J))z.apply(f,$);var Q=Z.error;if(!Q)throw $[0];for(var z of a7.call(Q))z.apply(f,$);return!0}function i9(f,$,Z,J){$.then(void 0,function(z){queueMicrotask(()=>n9(f,z,Z,J))})}function n9(f,$,Z,J){if(typeof f[s7]==="function")f[s7]($,Z,...J);else try{f[l0]=!1,f.emit("error",$)}finally{f[l0]=!0}}var l9=function f($,...Z){if($==="error")return fZ(this,Z);var{_events:J}=this;if(J===void 0)return!1;var z=J[$];if(z===void 0)return!1;let Q=z.length>1?z.slice():z;for(let Y=0,{length:W}=Q;Y<W;Y++){let X=Q[Y];switch(Z.length){case 0:X.call(this);break;case 1:X.call(this,Z[0]);break;case 2:X.call(this,Z[0],Z[1]);break;case 3:X.call(this,Z[0],Z[1],Z[2]);break;default:X.apply(this,Z);break}}return!0},p9=function f($,...Z){if($==="error")return fZ(this,Z);var{_events:J}=this;if(J===void 0)return!1;var z=J[$];if(z===void 0)return!1;let Q=z.length>1?z.slice():z;for(let Y=0,{length:W}=Q;Y<W;Y++){let X=Q[Y],B;switch(Z.length){case 0:B=X.call(this);break;case 1:B=X.call(this,Z[0]);break;case 2:B=X.call(this,Z[0],Z[1]);break;case 3:B=X.call(this,Z[0],Z[1],Z[2]);break;default:B=X.apply(this,Z);break}if(B!==void 0&&typeof B?.then==="function"&&B.then===Promise.prototype.then)i9(this,B,$,Z)}return!0};X0.emit=l9;X0.addListener=function f($,Z){A1(Z);var J=this._events;if(!J)J=this._events={__proto__:null},this._eventsCount=0;else if(J.newListener)this.emit("newListener",$,Z.listener??Z);var z=J[$];if(!z)J[$]=[Z],this._eventsCount++;else{z.push(Z);var Q=this._maxListeners??p0;if(Q>0&&z.length>Q&&!z.warned)$Z(this,$,z)}return this};X0.on=X0.addListener;X0.prependListener=function f($,Z){A1(Z);var J=this._events;if(!J)J=this._events={__proto__:null},this._eventsCount=0;else if(J.newListener)this.emit("newListener",$,Z.listener??Z);var z=J[$];if(!z)J[$]=[Z],this._eventsCount++;else{z.unshift(Z);var Q=this._maxListeners??p0;if(Q>0&&z.length>Q&&!z.warned)$Z(this,$,z)}return this};function $Z(f,$,Z){Z.warned=!0;let J=new Error(`Possible EventEmitter memory leak detected. ${Z.length} ${String($)} listeners added to [${f.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);J.name="MaxListenersExceededWarning",J.emitter=f,J.type=$,J.count=Z.length,console.warn(J)}function ZZ(f,$,...Z){this.removeListener(f,$),$.apply(this,Z)}X0.once=function f($,Z){A1(Z);let J=ZZ.bind(this,$,Z);return J.listener=Z,this.addListener($,J),this};X0.prependOnceListener=function f($,Z){A1(Z);let J=ZZ.bind(this,$,Z);return J.listener=Z,this.prependListener($,J),this};X0.removeListener=function f($,Z){A1(Z);var{_events:J}=this;if(!J)return this;var z=J[$];if(!z)return this;var Q=z.length;let Y=-1;for(let W=Q-1;W>=0;W--)if(z[W]===Z||z[W].listener===Z){Y=W;break}if(Y<0)return this;if(Y===0)z.shift();else z.splice(Y,1);if(z.length===0)delete J[$],this._eventsCount--;return this};X0.off=X0.removeListener;X0.removeAllListeners=function f($){var{_events:Z}=this;if($&&Z){if(Z[$])delete Z[$],this._eventsCount--}else this._events={__proto__:null};return this};X0.listeners=function f($){var{_events:Z}=this;if(!Z)return[];var J=Z[$];if(!J)return[];return J.map((z)=>z.listener??z)};X0.rawListeners=function f($){var{_events:Z}=this;if(!Z)return[];var J=Z[$];if(!J)return[];return J.slice()};X0.listenerCount=function f($){var{_events:Z}=this;if(!Z)return 0;return Z[$]?.length??0};X0.eventNames=function f(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};X0[l0]=!1;function o9(f,$,Z){var J=Z?.signal;if(JZ(J,"options.signal"),J?.aborted)throw new $4(void 0,{cause:J?.reason});let{resolve:z,reject:Q,promise:Y}=$newPromiseCapability(Promise),W=(V)=>{if(f.removeListener($,X),J!=null)Jf(J,"abort",B);Q(V)},X=(...V)=>{if(typeof f.removeListener==="function")f.removeListener("error",W);if(J!=null)Jf(J,"abort",B);z(V)};if(t7(f,$,X,{once:!0}),$!=="error"&&typeof f.once==="function")f.once("error",W);function B(){Jf(f,$,X),Jf(f,"error",W),Q(new $4(void 0,{cause:J?.reason}))}if(J!=null)t7(J,"abort",B,{once:!0});return Y}function r9(f,$){return f.listeners($)}function s9(f,...$){J4(f,"setMaxListeners",0);var Z;if($&&(Z=$.length))for(let J=0;J<Z;J++)$[J].setMaxListeners(f);else p0=f}function a9(f,$){return f.listenerCount($)}function Jf(f,$,Z,J){if(typeof f.removeListener==="function")f.removeListener($,Z);else f.removeEventListener($,Z,J)}function t7(f,$,Z,J){if(typeof f.on==="function")if(J.once)f.once($,Z);else f.on($,Z);else f.addEventListener($,Z,J)}class $4 extends Error{constructor(f="The operation was aborted",$=void 0){if($!==void 0&&typeof $!=="object")throw Y1("options","Object",$);super(f,$);this.code="ABORT_ERR",this.name="AbortError"}}function Y1(f,$,Z){let J=new TypeError(`The "${f}" argument must be of type ${$}. Received ${Z}`);return J.code="ERR_INVALID_ARG_TYPE",J}function t9(f,$,Z){let J=new RangeError(`The "${f}" argument is out of range. It must be ${$}. Received ${Z}`);return J.code="ERR_OUT_OF_RANGE",J}function JZ(f,$){if(f!==void 0&&(f===null||typeof f!=="object"||!("aborted"in f)))throw Y1($,"AbortSignal",f)}function J4(f,$,Z,J){if(typeof f!=="number")throw Y1($,"number",f);if(Z!=null&&f<Z||J!=null&&f>J||(Z!=null||J!=null)&&Number.isNaN(f))throw t9($,`${Z!=null?`>= ${Z}`:""}${Z!=null&&J!=null?" && ":""}${J!=null?`<= ${J}`:""}`,f)}function A1(f){if(typeof f!=="function")throw new TypeError("The listener must be a function")}function e9(f,$){if(typeof f!=="boolean")throw Y1($,"boolean",f)}function f6(f){return f?._maxListeners??p0}function $6(f,$){if(f===void 0)throw Y1("signal","AbortSignal",f);if(JZ(f,"signal"),typeof $!=="function")throw Y1("listener","function",$);let Z;if(f.aborted)queueMicrotask(()=>$());else f.addEventListener("abort",$,{__proto__:null,once:!0}),Z=()=>{f.removeEventListener("abort",$)};return{__proto__:null,[Symbol.dispose](){Z?.()}}}Object.defineProperties(m0,{captureRejections:{get(){return X0[l0]},set(f){e9(f,"EventEmitter.captureRejections"),X0[l0]=f},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:()=>{return p0},set:(f)=>{J4(f,"defaultMaxListeners",0),p0=f}},kMaxEventTargetListeners:{value:h9,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:m9,enumerable:!1,configurable:!1,writable:!1}});Object.assign(m0,{once:o9,getEventListeners:r9,getMaxListeners:f6,setMaxListeners:s9,EventEmitter:m0,usingDomains:!1,captureRejectionSymbol:d9,errorMonitor:e7,addAbortListener:$6,init:m0,listenerCount:a9});class q1{static instance;routes;tempRoutes;globalMiddlewares;middlewares;router;hasOnReqHook;hasMiddleware;hasPreHandlerHook;hasPostHandlerHook;hasOnSendHook;hasOnError;hooks;corsConfig;FilterRoutes;filters;filterFunction;hasFilterEnabled;serverInstance;staticFiles;user_jwt_secret;baseApiUrl;enableFileRouter;idleTimeOut;routeNotFoundFunc;prefixApiUrl;compileConfig;#$=!1;emitter;errorFormat;platform="bun";staticPath;staticRequestPath=void 0;constructor({jwtSecret:f,baseApiUrl:$,enableFileRouting:Z,idleTimeOut:J,prefixApiUrl:z,onError:Q,logger:Y,pipelineArchitecture:W,errorFormat:X="json",platform:B="bun",router:V="trie"}={}){if(this.router=tf.create(V),this.errorFormat=X,this.platform=B,!q1.instance)q1.instance=this;if(W)this.#$=!0;if(this.errorFormat=X,this.emitter=new m0,this.prefixApiUrl=z??"",this.fetch=this.fetch.bind(this),this.routes={},this.idleTimeOut=J??10,this.enableFileRouter=Z??!1,this.baseApiUrl=$||"",this.user_jwt_secret=f||process.env.DIESEL_JWT_SECRET||"feault_diesel_secret_for_jwt",this.tempRoutes=new Map,this.globalMiddlewares=[],this.middlewares=new Map,this.corsConfig=null,this.hasMiddleware=!1,this.hasOnReqHook=!1,this.hasPreHandlerHook=!1,this.hasPostHandlerHook=!1,this.hasOnSendHook=!1,this.hasOnError=!1,this.hooks={onRequest:[],preHandler:[],postHandler:[],onSend:[],onError:[],onClose:[]},Q)this.addHooks("onError",(H,O)=>{console.log("Got an exception:",H),console.log("Request Path:",O.path)});if(Y)this.useLogger({app:this,onError(H){console.error("Got an exception:",H)}});this.FilterRoutes=[],this.filters=new Set,this.filterFunction=[],this.hasFilterEnabled=!1,this.serverInstance=null,this.staticPath=null,this.staticFiles={},this.routeNotFoundFunc=()=>{},this.compileConfig=null}static router(f){if(!this.instance)this.instance=new q1;return new Proxy(this.instance,{get($,Z,J){return(z,Q)=>{let Y=f+z;return $[Z](Y,Q)}}})}setupFilter(){return this.hasFilterEnabled=!0,{publicRoutes:(...f)=>{return this.FilterRoutes=f,this.setupFilter()},permitAll:()=>{for(let f of this?.FilterRoutes){if(f.endsWith("/"))f=f.slice(0,-1);this.filters.add(f)}return this.FilterRoutes=null,this.setupFilter()},authenticate:(f)=>{if(f?.length)for(let $ of f)this.filterFunction.push($)},authenticateJwt:(f)=>{this.filterFunction.push(o7(f,this.user_jwt_secret))},authenticateJwtDB:(f,$)=>{this.filterFunction.push(r7(f,$,this.user_jwt_secret))}}}redirect(f,$,Z){return this.any(f,(J)=>{let z=J.params,Q=$;if(z)for(let W in z)Q=Q.replace(`:${W}`,z[W]);let Y=J.url.search;if(Y)Q+=Y;return J.redirect(Q,Z)}),this}serveStatic(f,$){return this.staticPath=f,this.staticRequestPath=$,this}static(f,$){return this.staticPath=f,this.staticRequestPath=$,this}staticHtml(f){return this.staticFiles={...this.staticFiles,...f},this}addHooks(f,$){if(typeof f!=="string")throw new Error("hookName must be a string");if(typeof $!=="function")throw new Error("callback must be a instance of function");switch(f){case"onRequest":this.hooks.onRequest?.push($);break;case"preHandler":this.hooks.preHandler?.push($);break;case"postHandler":this.hooks.postHandler?.push($);break;case"onSend":this.hooks.onSend?.push($);break;case"onError":this.hooks.onError?.push($);break;case"onClose":this.hooks.onClose?.push($);break;default:throw new Error(`Unknown hook type: ${f}`)}return this}compile(){let f={hasMiddleware:!1,hasOnReqHook:!1,hasPreHandlerHook:!1,hasOnError:!1,hasPostHandlerHook:!1,hasOnSendHook:!1,hasFilterEnabled:!1};if(this.hasFilterEnabled)f.hasFilterEnabled=!0,this.hasFilterEnabled=!0;if(this?.globalMiddlewares?.length>0)f.hasMiddleware=!0,this.hasMiddleware=!0;for(let[$,Z]of this?.middlewares?.entries())if(Z.length>0){f.hasMiddleware=!0,this.hasMiddleware=!0;break}if(this?.enableFileRouter){let $=process.cwd(),Z=s0.join($,"src","routes");if(z4?.existsSync(Z))this.loadRoutes(Z,"")}if(this?.hooks?.onRequest&&this.hooks.onRequest.length>0)f.hasOnReqHook=!0,this.hasOnReqHook=!0;if(this?.hooks?.preHandler&&this.hooks.preHandler.length>0)f.hasPreHandlerHook=!0,this.hasPreHandlerHook=!0;if(this?.hooks?.postHandler&&this.hooks.postHandler?.length>0)f.hasPostHandlerHook=!0,this.hasPostHandlerHook=!0;if(this?.hooks?.onSend&&this.hooks.onSend?.length>0)f.hasOnSendHook=!0,this.hasOnSendHook=!0;if(this?.hooks?.onError&&this.hooks.onError?.length>0)f.hasOnError=!0,this.hasOnError=!0;return this.tempRoutes=null,this.compileConfig=f,f}async registerFileRoutes(f,$,Z){let J=await import(f),z;if(Z===".ts")z=s0.basename(f,".ts");else if(Z===".js")z=s0.basename(f,".js");let Q=$+"/"+z;if(Q.endsWith("/index"))Q=$;else if(Q.endsWith("/api"))Q=$;Q=Q.replace(/\[(.*?)\]/g,":$1");let Y=["GET","POST","PUT","PATCH","DELETE","ANY","HEAD","OPTIONS","PROPFIND"];for(let W of Y)if(J[W]){let X=W.toLowerCase(),B=J[W];this[X](`${this.baseApiUrl}${Q}`,B)}}async loadRoutes(f,$){let Z=await z4.promises.readdir(f);for(let J of Z){let z=s0.join(f,J);if((await z4.promises.stat(z)).isDirectory())await this.loadRoutes(z,$+"/"+J);else if(J.endsWith(".ts"))await this.registerFileRoutes(z,$,".ts");else if(J.endsWith(".js"))await this.registerFileRoutes(z,$,".js")}}useLogger(f){return p7(f),this}useAdvancedLogger(f){return l7(f),this}BunRoute(f,$,...Z){if(!$||typeof $!=="string")throw new Error("give a path in string format");if(!this.compileConfig)this.compile();let J;if(typeof Z[0]==="string"||typeof Z[0]==="object")J=Z[0];if(typeof J!=="undefined"){let Q=typeof J==="string"?J:JSON.stringify(J)}let z=d4(this.compileConfig,this,f.toUpperCase(),$,...Z);return this.routes[$]=z,this}listen(f,...$){if(typeof Bun==="undefined")throw new Error(".listen() is designed to run on Bun only...");let Z="0.0.0.0",J=void 0,z={};for(let Y of $)if(typeof Y==="string")Z=Y;else if(typeof Y==="function")J=Y;else if(typeof Y==="object"&&Y!==null)z=Y;let Q={port:f,hostname:Z,idleTimeOut:this.idleTimeOut,fetch:this.fetch(),static:this.staticFiles};if(this.routes&&Object.keys(this.routes).length>0)Q.routes=this.routes;if(z.cert&&z.key)Q.certFile=z.cert,Q.keyFile=z.key;if(this.serverInstance=Bun?.serve(Q),J)J();return this.serverInstance}close(f){if(this.serverInstance)this.serverInstance.stop(!0),this.serverInstance=null,f?f():console.log("Server has been stopped");else console.warn("Server is not running.")}cfFetch(){return this.compile(),(f,$,Z)=>{return this.#f(f,void 0,$,Z)}}fetch(){let f=this.compile();if(this.platform==="cf"||this.platform==="cloudflare")return($,Z,J)=>{return this.#f($,void 0,Z,J)};if(this.#$){let $=m4(f,this);return(Z,J)=>{return $(Z,J,this).catch(async(z)=>{return console.error("Unhandled handler error:",z),await c0("onError",this.hooks.onError,[z,Z,Zf(Z.url),J])||a0(500,"Internal Server Error")})}}return this.#f.bind(this)}async#f(f,$,Z,J){let z=Zf(f.url),Q=this.router.find(f.method,z),Y=new H1(f,$,z,Q?.path,Z,J);try{if(this.hasOnReqHook)await c0("onRequest",this.hooks.onRequest,[Y]);if(this.hasMiddleware){let B=await c4(this,z,Y);if(B)return B}if(this.hasFilterEnabled){let B=await I1(this,z,Y);if(B)return B}if(!Q)return await R1(this,Y,z);if(this.hasPreHandlerHook){let B=await c0("preHandler",this.hooks.preHandler,[Y]);if(B)return B}let W=Q.handler(Y),X=W instanceof Promise?await W:W;if(this.hasOnSendHook){let B=await c0("onSend",this.hooks.onSend,[Y,X]);if(B)return B}if(X instanceof Response)return X}catch(W){return this.handleError(W,Y)}return a0(500,"No response returned from handler.")}async handleError(f,$){let J=this.errorFormat,z=Zf($.req.url),Q=await c0("onError",this.hooks.onError,[f,$]);if(Q)return Q;if(f&&typeof f==="object"&&f.name==="HTTPException"){let X=f;if(X.res)return X.res;return J==="json"?Response.json({error:X.message},{status:X.status}):new Response(X.message,{status:X.status})}let Y=f instanceof Error?f.message:"Internal Server Error",W=f instanceof Error?f.stack:void 0;if(J==="json"){let X={error:Y,...!1,path:z};return Response.json(X,{status:500,headers:{"Content-Type":"application/json"}})}else{let X=`Error: ${Y}`;return new Response(X,{headers:{"Content-Type":"text/plain"},status:500})}}mount(f,$){let Z=f.endsWith("/*")?f.slice(0,-1):f,J=Z==="/"?0:Z.length;this.any(f,(z)=>{let Q=new URL(z.req.url);Q.pathname=Q.pathname.slice(J)||"/";let Y=new Request(Q.toString(),z.req);return $(Y,z.env,z.executionContext)})}route(f,$){f=f&&f.length>0?f:$?.prefixApiUrl;let Z=$?.tempRoutes??new Map;for(let[J,z]of Z.entries()){let Q=J.replace(/::\w+$/,""),Y=`${f}${Q}`;if(!this.middlewares.has(Y))this.middlewares.set(Y,[]);z.handlers.slice(0,-1).forEach((V)=>{let H=this.middlewares.get(Y);if(!H.includes(V))H.push(V)});let X=z.handlers[z.handlers.length-1],B=z.method;try{this.router.add(B,Y,X)}catch(V){console.error(`Error inserting ${Y}:`,V)}}return $=null,this}register(f,$){return this.route(f,$)}addRoute(f,$,Z){if(typeof $!=="string")throw new Error(`Error in ${Z[Z.length-1]}: Path must be a string. Received: ${typeof $}`);if(typeof f!=="string")throw new Error(`Error in addRoute: Method must be a string. Received: ${typeof f}`);this.tempRoutes?.set($+"::"+f,{method:f,handlers:Z});let J=Z.slice(0,-1),z=Z[Z.length-1];if(J.length>0){if(!this.middlewares.has($))this.middlewares.set($,[]);J.forEach((Q)=>{if($==="/")this.globalMiddlewares=[...new Set([...this.globalMiddlewares,...J])];else if(!this.middlewares.get($)?.includes(Q))this.middlewares.get($)?.push(Q)})}try{if(f==="ANY"){let Q=["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD","PROPFIND"];for(let Y of Q)try{this.router.add(Y,$,z)}catch(W){}}else this.router.add(f,$,z)}catch(Q){console.error(`Error inserting ${$}:`,Q)}}use(f,...$){if(Array.isArray(f))f.forEach((J)=>{if(typeof J==="function")this.globalMiddlewares.push(J)});if(typeof f==="function"){if(this.globalMiddlewares.push(f),Array.isArray($))$.forEach((J)=>{this.globalMiddlewares.push(J)});return this}let Z=Array.isArray(f)?f.filter((J)=>typeof J==="string"):[f].filter((J)=>typeof J==="string");return Z.forEach((J)=>{if(!this.middlewares.has(J))this.middlewares.set(J,[]);if($)(Array.isArray($)?$:[$]).forEach((Q)=>{this.middlewares.get(J)?.push(Q)})}),this;return Z.forEach((J)=>{}),this}get(f,...$){return this.addRoute("GET",f,$),this}post(f,...$){return this.addRoute("POST",f,$),this}put(f,...$){return this.addRoute("PUT",f,$),this}patch(f,...$){return this.addRoute("PATCH",f,$),this}delete(f,...$){return this.addRoute("DELETE",f,$),this}any(f,...$){return this.addRoute("ANY",f,$),this}head(f,...$){return this.addRoute("HEAD",f,$),this}options(f,...$){return this.addRoute("OPTIONS",f,$),this}propfind(f,...$){return this.addRoute("PROPFIND",f,$),this}routeNotFound(f){return this.routeNotFoundFunc=f,this}on(f,$){this.emitter.on(f,$)}emit(f,...$){this.emitter.emit(f,...$)}}export{q1 as default};
