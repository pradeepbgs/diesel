var XZ=Object.create;var{getPrototypeOf:WZ,defineProperty:W1,getOwnPropertyNames:Y4,getOwnPropertyDescriptor:wZ}=Object,X4=Object.prototype.hasOwnProperty;var W4=(f,$,Z)=>{Z=f!=null?XZ(WZ(f)):{};let J=$||!f||!f.__esModule?W1(Z,"default",{value:f,enumerable:!0}):Z;for(let z of Y4(f))if(!X4.call(J,z))W1(J,z,{get:()=>f[z],enumerable:!0});return J},Q4=new WeakMap,o0=(f)=>{var $=Q4.get(f),Z;if($)return $;if($=W1({},"__esModule",{value:!0}),f&&typeof f==="object"||typeof f==="function")Y4(f).map((J)=>!X4.call($,J)&&W1($,J,{get:()=>f[J],enumerable:!(Z=wZ(f,J))||Z.enumerable}));return Q4.set(f,$),$},Z0=(f,$)=>()=>($||f(($={exports:{}}).exports,$),$.exports);var zf=(f,$)=>{for(var Z in $)W1(f,Z,{get:$[Z],enumerable:!0,configurable:!0,set:(J)=>$[Z]=()=>J})};var Qf=(f,$)=>()=>(f&&($=f(f=0)),$);var HZ=((f)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(f,{get:($,Z)=>(typeof require!=="undefined"?require:$)[Z]}):f)(function(f){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+f+'" is not supported')});var q4={};zf(q4,{sep:()=>L4,resolve:()=>j1,relative:()=>U4,posix:()=>A4,parse:()=>O4,normalize:()=>Yf,join:()=>V4,isAbsolute:()=>H4,format:()=>D4,extname:()=>K4,dirname:()=>F4,delimiter:()=>M4,default:()=>UZ,basename:()=>G4,_makeLong:()=>B4});function v0(f){if(typeof f!=="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(f))}function w4(f,$){var Z="",J=0,z=-1,Q=0,Y;for(var X=0;X<=f.length;++X){if(X<f.length)Y=f.charCodeAt(X);else if(Y===47)break;else Y=47;if(Y===47){if(z===X-1||Q===1);else if(z!==X-1&&Q===2){if(Z.length<2||J!==2||Z.charCodeAt(Z.length-1)!==46||Z.charCodeAt(Z.length-2)!==46){if(Z.length>2){var W=Z.lastIndexOf("/");if(W!==Z.length-1){if(W===-1)Z="",J=0;else Z=Z.slice(0,W),J=Z.length-1-Z.lastIndexOf("/");z=X,Q=0;continue}}else if(Z.length===2||Z.length===1){Z="",J=0,z=X,Q=0;continue}}if($){if(Z.length>0)Z+="/..";else Z="..";J=2}}else{if(Z.length>0)Z+="/"+f.slice(z+1,X);else Z=f.slice(z+1,X);J=X-z-1}z=X,Q=0}else if(Y===46&&Q!==-1)++Q;else Q=-1}return Z}function VZ(f,$){var Z=$.dir||$.root,J=$.base||($.name||"")+($.ext||"");if(!Z)return J;if(Z===$.root)return Z+J;return Z+f+J}function j1(){var f="",$=!1,Z;for(var J=arguments.length-1;J>=-1&&!$;J--){var z;if(J>=0)z=arguments[J];else{if(Z===void 0)Z=process.cwd();z=Z}if(v0(z),z.length===0)continue;f=z+"/"+f,$=z.charCodeAt(0)===47}if(f=w4(f,!$),$)if(f.length>0)return"/"+f;else return"/";else if(f.length>0)return f;else return"."}function Yf(f){if(v0(f),f.length===0)return".";var $=f.charCodeAt(0)===47,Z=f.charCodeAt(f.length-1)===47;if(f=w4(f,!$),f.length===0&&!$)f=".";if(f.length>0&&Z)f+="/";if($)return"/"+f;return f}function H4(f){return v0(f),f.length>0&&f.charCodeAt(0)===47}function V4(){if(arguments.length===0)return".";var f;for(var $=0;$<arguments.length;++$){var Z=arguments[$];if(v0(Z),Z.length>0)if(f===void 0)f=Z;else f+="/"+Z}if(f===void 0)return".";return Yf(f)}function U4(f,$){if(v0(f),v0($),f===$)return"";if(f=j1(f),$=j1($),f===$)return"";var Z=1;for(;Z<f.length;++Z)if(f.charCodeAt(Z)!==47)break;var J=f.length,z=J-Z,Q=1;for(;Q<$.length;++Q)if($.charCodeAt(Q)!==47)break;var Y=$.length,X=Y-Q,W=z<X?z:X,H=-1,w=0;for(;w<=W;++w){if(w===W){if(X>W){if($.charCodeAt(Q+w)===47)return $.slice(Q+w+1);else if(w===0)return $.slice(Q+w)}else if(z>W){if(f.charCodeAt(Z+w)===47)H=w;else if(w===0)H=0}break}var K=f.charCodeAt(Z+w),O=$.charCodeAt(Q+w);if(K!==O)break;else if(K===47)H=w}var j="";for(w=Z+H+1;w<=J;++w)if(w===J||f.charCodeAt(w)===47)if(j.length===0)j+="..";else j+="/..";if(j.length>0)return j+$.slice(Q+H);else{if(Q+=H,$.charCodeAt(Q)===47)++Q;return $.slice(Q)}}function B4(f){return f}function F4(f){if(v0(f),f.length===0)return".";var $=f.charCodeAt(0),Z=$===47,J=-1,z=!0;for(var Q=f.length-1;Q>=1;--Q)if($=f.charCodeAt(Q),$===47){if(!z){J=Q;break}}else z=!1;if(J===-1)return Z?"/":".";if(Z&&J===1)return"//";return f.slice(0,J)}function G4(f,$){if($!==void 0&&typeof $!=="string")throw new TypeError('"ext" argument must be a string');v0(f);var Z=0,J=-1,z=!0,Q;if($!==void 0&&$.length>0&&$.length<=f.length){if($.length===f.length&&$===f)return"";var Y=$.length-1,X=-1;for(Q=f.length-1;Q>=0;--Q){var W=f.charCodeAt(Q);if(W===47){if(!z){Z=Q+1;break}}else{if(X===-1)z=!1,X=Q+1;if(Y>=0)if(W===$.charCodeAt(Y)){if(--Y===-1)J=Q}else Y=-1,J=X}}if(Z===J)J=X;else if(J===-1)J=f.length;return f.slice(Z,J)}else{for(Q=f.length-1;Q>=0;--Q)if(f.charCodeAt(Q)===47){if(!z){Z=Q+1;break}}else if(J===-1)z=!1,J=Q+1;if(J===-1)return"";return f.slice(Z,J)}}function K4(f){v0(f);var $=-1,Z=0,J=-1,z=!0,Q=0;for(var Y=f.length-1;Y>=0;--Y){var X=f.charCodeAt(Y);if(X===47){if(!z){Z=Y+1;break}continue}if(J===-1)z=!1,J=Y+1;if(X===46){if($===-1)$=Y;else if(Q!==1)Q=1}else if($!==-1)Q=-1}if($===-1||J===-1||Q===0||Q===1&&$===J-1&&$===Z+1)return"";return f.slice($,J)}function D4(f){if(f===null||typeof f!=="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return VZ("/",f)}function O4(f){v0(f);var $={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return $;var Z=f.charCodeAt(0),J=Z===47,z;if(J)$.root="/",z=1;else z=0;var Q=-1,Y=0,X=-1,W=!0,H=f.length-1,w=0;for(;H>=z;--H){if(Z=f.charCodeAt(H),Z===47){if(!W){Y=H+1;break}continue}if(X===-1)W=!1,X=H+1;if(Z===46){if(Q===-1)Q=H;else if(w!==1)w=1}else if(Q!==-1)w=-1}if(Q===-1||X===-1||w===0||w===1&&Q===X-1&&Q===Y+1){if(X!==-1)if(Y===0&&J)$.base=$.name=f.slice(1,X);else $.base=$.name=f.slice(Y,X)}else{if(Y===0&&J)$.name=f.slice(1,Q),$.base=f.slice(1,X);else $.name=f.slice(Y,Q),$.base=f.slice(Y,X);$.ext=f.slice(Q,X)}if(Y>0)$.dir=f.slice(0,Y-1);else if(J)$.dir="/";return $}var L4="/",M4=":",A4,UZ;var j4=Qf(()=>{A4=((f)=>(f.posix=f,f))({resolve:j1,normalize:Yf,isAbsolute:H4,join:V4,relative:U4,_makeLong:B4,dirname:F4,basename:G4,extname:K4,format:D4,parse:O4,sep:L4,delimiter:M4,win32:null,posix:null}),UZ=A4});var N4=Z0((LZ)=>{var BZ=/[|\\{}()[\]^$+*?.]/g,FZ=Object.prototype.hasOwnProperty,Wf=function(f,$){return FZ.apply(f,[$])};LZ.escapeRegExpChars=function(f){if(!f)return"";return String(f).replace(BZ,"\\$&")};var GZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},KZ=/[&<>'"]/g;function DZ(f){return GZ[f]||f}var OZ=`var _ENCODE_HTML_RULES = {
      "&": "&amp;"
    , "<": "&lt;"
    , ">": "&gt;"
    , '"': "&#34;"
    , "'": "&#39;"
    }
  , _MATCH_HTML = /[&<>'"]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
`;LZ.escapeXML=function(f){return f==null?"":String(f).replace(KZ,DZ)};function T4(){return Function.prototype.toString.call(this)+`;
`+OZ}try{if(typeof Object.defineProperty==="function")Object.defineProperty(LZ.escapeXML,"toString",{value:T4});else LZ.escapeXML.toString=T4}catch(f){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}LZ.shallowCopy=function(f,$){if($=$||{},f!==null&&f!==void 0)for(var Z in $){if(!Wf($,Z))continue;if(Z==="__proto__"||Z==="constructor")continue;f[Z]=$[Z]}return f};LZ.shallowCopyFromList=function(f,$,Z){if(Z=Z||[],$=$||{},f!==null&&f!==void 0)for(var J=0;J<Z.length;J++){var z=Z[J];if(typeof $[z]!="undefined"){if(!Wf($,z))continue;if(z==="__proto__"||z==="constructor")continue;f[z]=$[z]}}return f};LZ.cache={_data:{},set:function(f,$){this._data[f]=$},get:function(f){return this._data[f]},remove:function(f){delete this._data[f]},reset:function(){this._data={}}};LZ.hyphenToCamel=function(f){return f.replace(/-[a-z]/g,function($){return $[1].toUpperCase()})};LZ.createNullProtoObjWherePossible=function(){if(typeof Object.create=="function")return function(){return Object.create(null)};if(!({__proto__:null}instanceof Object))return function(){return{__proto__:null}};return function(){return{}}}();LZ.hasOwnOnlyObject=function(f){var $=LZ.createNullProtoObjWherePossible();for(var Z in f)if(Wf(f,Z))$[Z]=f[Z];return $}});var R4=Z0((w6,NZ)=>{NZ.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.10",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.8.5"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"npx jake test"}}});var c4=Z0((x4)=>{var Vf=(()=>({})),w1=(j4(),o0(q4)),G0=N4(),I4=!1,RZ=R4().version,IZ="<",SZ=">",PZ="%",v4="locals",EZ="ejs",bZ="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",g4=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],_Z=g4.concat("cache"),S4=/^\uFEFF/,wf=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;x4.cache=G0.cache;x4.fileLoader=Vf.readFileSync;x4.localsName=v4;x4.promiseImpl=new Function("return this;")().Promise;x4.resolveInclude=function(f,$,Z){var{dirname:J,extname:z,resolve:Q}=w1,Y=Q(Z?$:J($),f),X=z(f);if(!X)Y+=".ejs";return Y};function P4(f,$){var Z;if($.some(function(J){return Z=x4.resolveInclude(f,J,!0),Vf.existsSync(Z)}))return Z}function vZ(f,$){var Z,J,z=$.views,Q=/^[A-Za-z]+:\\|^\//.exec(f);if(Q&&Q.length)if(f=f.replace(/^\/*/,""),Array.isArray($.root))Z=P4(f,$.root);else Z=x4.resolveInclude(f,$.root||"/",!0);else{if($.filename){if(J=x4.resolveInclude(f,$.filename),Vf.existsSync(J))Z=J}if(!Z&&Array.isArray(z))Z=P4(f,z);if(!Z&&typeof $.includer!=="function")throw new Error('Could not find the include file "'+$.escapeFunction(f)+'"')}return Z}function H1(f,$){var Z,J=f.filename,z=arguments.length>1;if(f.cache){if(!J)throw new Error("cache option requires a filename");if(Z=x4.cache.get(J),Z)return Z;if(!z)$=E4(J).toString().replace(S4,"")}else if(!z){if(!J)throw new Error("Internal EJS error: no file name or template provided");$=E4(J).toString().replace(S4,"")}if(Z=x4.compile($,f),f.cache)x4.cache.set(J,Z);return Z}function gZ(f,$,Z){var J;if(!Z)if(typeof x4.promiseImpl=="function")return new x4.promiseImpl(function(z,Q){try{J=H1(f)($),z(J)}catch(Y){Q(Y)}});else throw new Error("Please provide a callback function");else{try{J=H1(f)($)}catch(z){return Z(z)}Z(null,J)}}function E4(f){return x4.fileLoader(f)}function xZ(f,$){var Z=G0.shallowCopy(G0.createNullProtoObjWherePossible(),$);if(Z.filename=vZ(f,Z),typeof $.includer==="function"){var J=$.includer(f,Z.filename);if(J){if(J.filename)Z.filename=J.filename;if(J.template)return H1(Z,J.template)}}return H1(Z)}function b4(f,$,Z,J,z){var Q=$.split(`
`),Y=Math.max(J-3,0),X=Math.min(Q.length,J+3),W=z(Z),H=Q.slice(Y,X).map(function(w,K){var O=K+Y+1;return(O==J?" >> ":"    ")+O+"| "+w}).join(`
`);throw f.path=W,f.message=(W||"ejs")+":"+J+`
`+H+`

`+f.message,f}function _4(f){return f.replace(/;(\s*$)/,"$1")}x4.compile=function f($,Z){var J;if(Z&&Z.scope){if(!I4)console.warn("`scope` option is deprecated and will be removed in EJS 3"),I4=!0;if(!Z.context)Z.context=Z.scope;delete Z.scope}return J=new M0($,Z),J.compile()};x4.render=function(f,$,Z){var J=$||G0.createNullProtoObjWherePossible(),z=Z||G0.createNullProtoObjWherePossible();if(arguments.length==2)G0.shallowCopyFromList(z,J,g4);return H1(z,f)(J)};x4.renderFile=function(){var f=Array.prototype.slice.call(arguments),$=f.shift(),Z,J={filename:$},z,Q;if(typeof arguments[arguments.length-1]=="function")Z=f.pop();if(f.length){if(z=f.shift(),f.length)G0.shallowCopy(J,f.pop());else{if(z.settings){if(z.settings.views)J.views=z.settings.views;if(z.settings["view cache"])J.cache=!0;if(Q=z.settings["view options"],Q)G0.shallowCopy(J,Q)}G0.shallowCopyFromList(J,z,_Z)}J.filename=$}else z=G0.createNullProtoObjWherePossible();return gZ(J,z,Z)};x4.Template=M0;x4.clearCache=function(){x4.cache.reset()};function M0(f,$){var Z=G0.hasOwnOnlyObject($),J=G0.createNullProtoObjWherePossible();if(this.templateText=f,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",J.client=Z.client||!1,J.escapeFunction=Z.escape||Z.escapeFunction||G0.escapeXML,J.compileDebug=Z.compileDebug!==!1,J.debug=!!Z.debug,J.filename=Z.filename,J.openDelimiter=Z.openDelimiter||x4.openDelimiter||IZ,J.closeDelimiter=Z.closeDelimiter||x4.closeDelimiter||SZ,J.delimiter=Z.delimiter||x4.delimiter||PZ,J.strict=Z.strict||!1,J.context=Z.context,J.cache=Z.cache||!1,J.rmWhitespace=Z.rmWhitespace,J.root=Z.root,J.includer=Z.includer,J.outputFunctionName=Z.outputFunctionName,J.localsName=Z.localsName||x4.localsName||v4,J.views=Z.views,J.async=Z.async,J.destructuredLocals=Z.destructuredLocals,J.legacyInclude=typeof Z.legacyInclude!="undefined"?!!Z.legacyInclude:!0,J.strict)J._with=!1;else J._with=typeof Z._with!="undefined"?Z._with:!0;this.opts=J,this.regex=this.createRegex()}M0.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"};M0.prototype={createRegex:function(){var f=bZ,$=G0.escapeRegExpChars(this.opts.delimiter),Z=G0.escapeRegExpChars(this.opts.openDelimiter),J=G0.escapeRegExpChars(this.opts.closeDelimiter);return f=f.replace(/%/g,$).replace(/</g,Z).replace(/>/g,J),new RegExp(f)},compile:function(){var f,$,Z=this.opts,J="",z="",Q=Z.escapeFunction,Y,X=Z.filename?JSON.stringify(Z.filename):"undefined";if(!this.source){if(this.generateSource(),J+=`  var __output = "";
  function __append(s) { if (s !== undefined && s !== null) __output += s }
`,Z.outputFunctionName){if(!wf.test(Z.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");J+="  var "+Z.outputFunctionName+` = __append;
`}if(Z.localsName&&!wf.test(Z.localsName))throw new Error("localsName is not a valid JS identifier.");if(Z.destructuredLocals&&Z.destructuredLocals.length){var W="  var __locals = ("+Z.localsName+` || {}),
`;for(var H=0;H<Z.destructuredLocals.length;H++){var w=Z.destructuredLocals[H];if(!wf.test(w))throw new Error("destructuredLocals["+H+"] is not a valid JS identifier.");if(H>0)W+=`,
  `;W+=w+" = __locals."+w}J+=W+`;
`}if(Z._with!==!1)J+="  with ("+Z.localsName+` || {}) {
`,z+=`  }
`;z+=`  return __output;
`,this.source=J+this.source+z}if(Z.compileDebug)f=`var __line = 1
  , __lines = `+JSON.stringify(this.templateText)+`
  , __filename = `+X+`;
try {
`+this.source+`} catch (e) {
  rethrow(e, __lines, __filename, __line, escapeFn);
}
`;else f=this.source;if(Z.client){if(f="escapeFn = escapeFn || "+Q.toString()+`;
`+f,Z.compileDebug)f="rethrow = rethrow || "+b4.toString()+`;
`+f}if(Z.strict)f=`"use strict";
`+f;if(Z.debug)console.log(f);if(Z.compileDebug&&Z.filename)f=f+`
//# sourceURL=`+X+`
`;try{if(Z.async)try{Y=new Function("return (async function(){}).constructor;")()}catch(M){if(M instanceof SyntaxError)throw new Error("This environment does not support async/await");else throw M}else Y=Function;$=new Y(Z.localsName+", escapeFn, include, rethrow",f)}catch(M){if(M instanceof SyntaxError){if(Z.filename)M.message+=" in "+Z.filename;if(M.message+=` while compiling ejs

`,M.message+=`If the above error is not helpful, you may want to try EJS-Lint:
`,M.message+="https://github.com/RyanZim/EJS-Lint",!Z.async)M.message+=`
`,M.message+="Or, if you meant to create an async function, pass `async: true` as an option."}throw M}var K=Z.client?$:function M(S){var v=function(g,x){var _=G0.shallowCopy(G0.createNullProtoObjWherePossible(),S);if(x)_=G0.shallowCopy(_,x);return xZ(g,Z)(_)};return $.apply(Z.context,[S||G0.createNullProtoObjWherePossible(),Q,v,b4])};if(Z.filename&&typeof Object.defineProperty==="function"){var O=Z.filename,j=w1.basename(O,w1.extname(O));try{Object.defineProperty(K,"name",{value:j,writable:!1,enumerable:!1,configurable:!0})}catch(M){}}return K},generateSource:function(){var f=this.opts;if(f.rmWhitespace)this.templateText=this.templateText.replace(/[\r\n]+/g,`
`).replace(/^\s+|\s+$/gm,"");this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var $=this,Z=this.parseTemplateText(),J=this.opts.delimiter,z=this.opts.openDelimiter,Q=this.opts.closeDelimiter;if(Z&&Z.length)Z.forEach(function(Y,X){var W;if(Y.indexOf(z+J)===0&&Y.indexOf(z+J+J)!==0){if(W=Z[X+2],!(W==J+Q||W=="-"+J+Q||W=="_"+J+Q))throw new Error('Could not find matching close tag for "'+Y+'".')}$.scanLine(Y)})},parseTemplateText:function(){var f=this.templateText,$=this.regex,Z=$.exec(f),J=[],z;while(Z){if(z=Z.index,z!==0)J.push(f.substring(0,z)),f=f.slice(z);J.push(Z[0]),f=f.slice(Z[0].length),Z=$.exec(f)}if(f)J.push(f);return J},_addOutput:function(f){if(this.truncate)f=f.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1;if(!f)return f;f=f.replace(/\\/g,"\\\\"),f=f.replace(/\n/g,"\\n"),f=f.replace(/\r/g,"\\r"),f=f.replace(/"/g,"\\\""),this.source+='    ; __append("'+f+`")
`},scanLine:function(f){var $=this,Z=this.opts.delimiter,J=this.opts.openDelimiter,z=this.opts.closeDelimiter,Q=0;switch(Q=f.split(`
`).length-1,f){case J+Z:case J+Z+"_":this.mode=M0.modes.EVAL;break;case J+Z+"=":this.mode=M0.modes.ESCAPED;break;case J+Z+"-":this.mode=M0.modes.RAW;break;case J+Z+"#":this.mode=M0.modes.COMMENT;break;case J+Z+Z:this.mode=M0.modes.LITERAL,this.source+='    ; __append("'+f.replace(J+Z+Z,J+Z)+`")
`;break;case Z+Z+z:this.mode=M0.modes.LITERAL,this.source+='    ; __append("'+f.replace(Z+Z+z,Z+z)+`")
`;break;case Z+z:case"-"+Z+z:case"_"+Z+z:if(this.mode==M0.modes.LITERAL)this._addOutput(f);this.mode=null,this.truncate=f.indexOf("-")===0||f.indexOf("_")===0;break;default:if(this.mode){switch(this.mode){case M0.modes.EVAL:case M0.modes.ESCAPED:case M0.modes.RAW:if(f.lastIndexOf("//")>f.lastIndexOf(`
`))f+=`
`}switch(this.mode){case M0.modes.EVAL:this.source+="    ; "+f+`
`;break;case M0.modes.ESCAPED:this.source+="    ; __append(escapeFn("+_4(f)+`))
`;break;case M0.modes.RAW:this.source+="    ; __append("+_4(f)+`)
`;break;case M0.modes.COMMENT:break;case M0.modes.LITERAL:this._addOutput(f);break}}else this._addOutput(f)}if($.opts.compileDebug&&Q)this.currentLine+=Q,this.source+="    ; __line = "+this.currentLine+`
`}};x4.escapeXML=G0.escapeXML;x4.__express=x4.renderFile;x4.VERSION=RZ;x4.name=EZ;if(typeof window!="undefined")window.ejs=x4});var s4={};zf(s4,{types:()=>W8,promisify:()=>D8,log:()=>G8,isUndefined:()=>s0,isSymbol:()=>H8,isString:()=>x1,isRegExp:()=>E1,isPrimitive:()=>V8,isObject:()=>a0,isNumber:()=>l4,isNullOrUndefined:()=>w8,isNull:()=>g1,isFunction:()=>_1,isError:()=>b1,isDate:()=>Lf,isBuffer:()=>U8,isBoolean:()=>Af,isArray:()=>n4,inspect:()=>m0,inherits:()=>K8,format:()=>Mf,deprecate:()=>f8,debuglog:()=>$8,callbackifyOnRejected:()=>r4,callbackify:()=>O8,_extend:()=>p4,TextEncoder:()=>L8,TextDecoder:()=>M8});function Mf(f,...$){if(!x1(f)){var Z=[f];for(var J=0;J<$.length;J++)Z.push(m0($[J]));return Z.join(" ")}var J=0,z=$.length,Q=String(f).replace(eZ,function(X){if(X==="%%")return"%";if(J>=z)return X;switch(X){case"%s":return String($[J++]);case"%d":return Number($[J++]);case"%j":try{return JSON.stringify($[J++])}catch(W){return"[Circular]"}default:return X}});for(var Y=$[J];J<z;Y=$[++J])if(g1(Y)||!a0(Y))Q+=" "+Y;else Q+=" "+m0(Y);return Q}function f8(f,$){if(typeof process==="undefined"||process?.noDeprecation===!0)return f;var Z=!1;function J(...z){if(!Z){if(process.throwDeprecation)throw new Error($);else if(process.traceDeprecation)console.trace($);else console.error($);Z=!0}return f.apply(this,...z)}return J}function Z8(f,$){var Z=m0.styles[$];if(Z)return"\x1B["+m0.colors[Z][0]+"m"+f+"\x1B["+m0.colors[Z][1]+"m";else return f}function J8(f,$){return f}function z8(f){var $={};return f.forEach(function(Z,J){$[Z]=!0}),$}function v1(f,$,Z){if(f.customInspect&&$&&_1($.inspect)&&$.inspect!==m0&&!($.constructor&&$.constructor.prototype===$)){var J=$.inspect(Z,f);if(!x1(J))J=v1(f,J,Z);return J}var z=Q8(f,$);if(z)return z;var Q=Object.keys($),Y=z8(Q);if(f.showHidden)Q=Object.getOwnPropertyNames($);if(b1($)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return Kf($);if(Q.length===0){if(_1($)){var X=$.name?": "+$.name:"";return f.stylize("[Function"+X+"]","special")}if(E1($))return f.stylize(RegExp.prototype.toString.call($),"regexp");if(Lf($))return f.stylize(Date.prototype.toString.call($),"date");if(b1($))return Kf($)}var W="",H=!1,w=["{","}"];if(n4($))H=!0,w=["[","]"];if(_1($)){var K=$.name?": "+$.name:"";W=" [Function"+K+"]"}if(E1($))W=" "+RegExp.prototype.toString.call($);if(Lf($))W=" "+Date.prototype.toUTCString.call($);if(b1($))W=" "+Kf($);if(Q.length===0&&(!H||$.length==0))return w[0]+W+w[1];if(Z<0)if(E1($))return f.stylize(RegExp.prototype.toString.call($),"regexp");else return f.stylize("[Object]","special");f.seen.push($);var O;if(H)O=Y8(f,$,Z,Y,Q);else O=Q.map(function(j){return Of(f,$,Z,Y,j,H)});return f.seen.pop(),X8(O,W,w)}function Q8(f,$){if(s0($))return f.stylize("undefined","undefined");if(x1($)){var Z="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f.stylize(Z,"string")}if(l4($))return f.stylize(""+$,"number");if(Af($))return f.stylize(""+$,"boolean");if(g1($))return f.stylize("null","null")}function Kf(f){return"["+Error.prototype.toString.call(f)+"]"}function Y8(f,$,Z,J,z){var Q=[];for(var Y=0,X=$.length;Y<X;++Y)if(o4($,String(Y)))Q.push(Of(f,$,Z,J,String(Y),!0));else Q.push("");return z.forEach(function(W){if(!W.match(/^\d+$/))Q.push(Of(f,$,Z,J,W,!0))}),Q}function Of(f,$,Z,J,z,Q){var Y,X,W;if(W=Object.getOwnPropertyDescriptor($,z)||{value:$[z]},W.get)if(W.set)X=f.stylize("[Getter/Setter]","special");else X=f.stylize("[Getter]","special");else if(W.set)X=f.stylize("[Setter]","special");if(!o4(J,z))Y="["+z+"]";if(!X)if(f.seen.indexOf(W.value)<0){if(g1(Z))X=v1(f,W.value,null);else X=v1(f,W.value,Z-1);if(X.indexOf(`
`)>-1)if(Q)X=X.split(`
`).map(function(H){return"  "+H}).join(`
`).slice(2);else X=`
`+X.split(`
`).map(function(H){return"   "+H}).join(`
`)}else X=f.stylize("[Circular]","special");if(s0(Y)){if(Q&&z.match(/^\d+$/))return X;if(Y=JSON.stringify(""+z),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/))Y=Y.slice(1,-1),Y=f.stylize(Y,"name");else Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=f.stylize(Y,"string")}return Y+": "+X}function X8(f,$,Z){var J=0,z=f.reduce(function(Q,Y){if(J++,Y.indexOf(`
`)>=0)J++;return Q+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(z>60)return Z[0]+($===""?"":$+`
 `)+" "+f.join(`,
  `)+" "+Z[1];return Z[0]+$+" "+f.join(", ")+" "+Z[1]}function n4(f){return Array.isArray(f)}function Af(f){return typeof f==="boolean"}function g1(f){return f===null}function w8(f){return f==null}function l4(f){return typeof f==="number"}function x1(f){return typeof f==="string"}function H8(f){return typeof f==="symbol"}function s0(f){return f===void 0}function E1(f){return a0(f)&&qf(f)==="[object RegExp]"}function a0(f){return typeof f==="object"&&f!==null}function Lf(f){return a0(f)&&qf(f)==="[object Date]"}function b1(f){return a0(f)&&(qf(f)==="[object Error]"||f instanceof Error)}function _1(f){return typeof f==="function"}function V8(f){return f===null||typeof f==="boolean"||typeof f==="number"||typeof f==="string"||typeof f==="symbol"||typeof f==="undefined"}function U8(f){return f instanceof Buffer}function qf(f){return Object.prototype.toString.call(f)}function Df(f){return f<10?"0"+f.toString(10):f.toString(10)}function F8(){var f=new Date,$=[Df(f.getHours()),Df(f.getMinutes()),Df(f.getSeconds())].join(":");return[f.getDate(),B8[f.getMonth()],$].join(" ")}function G8(...f){console.log("%s - %s",F8(),Mf.apply(null,f))}function K8(f,$){if($)f.super_=$,f.prototype=Object.create($.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}function p4(f,$){if(!$||!a0($))return f;var Z=Object.keys($),J=Z.length;while(J--)f[Z[J]]=$[Z[J]];return f}function o4(f,$){return Object.prototype.hasOwnProperty.call(f,$)}function r4(f,$){if(!f){var Z=new Error("Promise was rejected with a falsy value");Z.reason=f,f=Z}return $(f)}function O8(f){if(typeof f!=="function")throw new TypeError('The "original" argument must be of type Function');function $(...Z){var J=Z.pop();if(typeof J!=="function")throw new TypeError("The last argument must be of type Function");var z=this,Q=function(...Y){return J.apply(z,...Y)};f.apply(this,Z).then(function(Y){process.nextTick(Q.bind(null,null,Y))},function(Y){process.nextTick(r4.bind(null,Y,Q))})}return Object.setPrototypeOf($,Object.getPrototypeOf(f)),Object.defineProperties($,Object.getOwnPropertyDescriptors(f)),$}var eZ,$8,m0,W8=()=>{},B8,D8,L8,M8;var a4=Qf(()=>{eZ=/%[sdj%]/g;$8=((f={},$={},Z)=>((Z=typeof process!=="undefined"&&process.env.NODE_DEBUG)&&(Z=Z.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),$=new RegExp("^"+Z+"$","i"),(J)=>{if(J=J.toUpperCase(),!f[J])if($.test(J))f[J]=function(...z){console.error("%s: %s",J,pid,Mf.apply(null,...z))};else f[J]=function(){};return f[J]}))(),m0=((f)=>(f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},f.custom=Symbol.for("nodejs.util.inspect.custom"),f))(function f($,Z,...J){var z={seen:[],stylize:J8};if(J.length>=1)z.depth=J[0];if(J.length>=2)z.colors=J[1];if(Af(Z))z.showHidden=Z;else if(Z)p4(z,Z);if(s0(z.showHidden))z.showHidden=!1;if(s0(z.depth))z.depth=2;if(s0(z.colors))z.colors=!1;if(z.colors)z.stylize=Z8;return v1(z,$,z.depth)});B8=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];D8=((f)=>(f.custom=Symbol.for("nodejs.util.promisify.custom"),f))(function f($){if(typeof $!=="function")throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&$[kCustomPromisifiedSymbol]){var Z=$[kCustomPromisifiedSymbol];if(typeof Z!=="function")throw new TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(Z,kCustomPromisifiedSymbol,{value:Z,enumerable:!1,writable:!1,configurable:!0}),Z}function Z(...J){var z,Q,Y=new Promise(function(X,W){z=X,Q=W});J.push(function(X,W){if(X)Q(X);else z(W)});try{$.apply(this,J)}catch(X){Q(X)}return Y}if(Object.setPrototypeOf(Z,Object.getPrototypeOf($)),kCustomPromisifiedSymbol)Object.defineProperty(Z,kCustomPromisifiedSymbol,{value:Z,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(Z,Object.getOwnPropertyDescriptors($))});({TextEncoder:L8,TextDecoder:M8}=globalThis)});var K1={};zf(K1,{throws:()=>vJ,strictEqual:()=>_J,strict:()=>bJ,rejects:()=>EJ,ok:()=>PJ,notStrictEqual:()=>SJ,notEqual:()=>IJ,notDeepStrictEqual:()=>RJ,notDeepEqual:()=>NJ,match:()=>CJ,ifError:()=>TJ,fail:()=>jJ,equal:()=>qJ,doesNotThrow:()=>AJ,doesNotReject:()=>MJ,doesNotMatch:()=>LJ,default:()=>gJ,deepStrictEqual:()=>OJ,deepEqual:()=>DJ,CallTracker:()=>KJ,AssertionError:()=>GJ});var A8,q8,t4,j8,T8,C8=(f,$,Z)=>{Z=f!=null?A8(q8(f)):{};let J=$||!f||!f.__esModule?t4(Z,"default",{value:f,enumerable:!0}):Z;for(let z of j8(f))if(!T8.call(J,z))t4(J,z,{get:()=>f[z],enumerable:!0});return J},y=(f,$)=>()=>($||f(($={exports:{}}).exports,$),$.exports),Tf,k1,Cf,N8,R8,I8,S8,e4,F1,P8,E8,b8,_8,v8,g8,x8,k8,u8,y8,t0,u1,c8,f$,$$,h8,G1,Nf,Rf,m8,Z$,If,d8,Sf,J$,Pf,e0,i8,n8,l8,p8,o8,r8,s8,a8,z$,Q$,t8,e8,y1,Y$,fJ,$J,ZJ,JJ,zJ,B1,X$,QJ,W$,YJ,w$,XJ,WJ,H$,Ef,wJ,c1,HJ,VJ,V$,U$,UJ,BJ,FJ,jf,B$,GJ,KJ,DJ,OJ,LJ,MJ,AJ,qJ,jJ,TJ,CJ,NJ,RJ,IJ,SJ,PJ,EJ,bJ,_J,vJ,gJ;var D1=Qf(()=>{A8=Object.create,{getPrototypeOf:q8,defineProperty:t4,getOwnPropertyNames:j8}=Object,T8=Object.prototype.hasOwnProperty,Tf=y((f,$)=>{$.exports=function Z(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function")return!1;if(typeof Symbol.iterator==="symbol")return!0;var J={},z=Symbol("test"),Q=Object(z);if(typeof z==="string")return!1;if(Object.prototype.toString.call(z)!=="[object Symbol]")return!1;if(Object.prototype.toString.call(Q)!=="[object Symbol]")return!1;var Y=42;J[z]=Y;for(var X in J)return!1;if(typeof Object.keys==="function"&&Object.keys(J).length!==0)return!1;if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(J).length!==0)return!1;var W=Object.getOwnPropertySymbols(J);if(W.length!==1||W[0]!==z)return!1;if(!Object.prototype.propertyIsEnumerable.call(J,z))return!1;if(typeof Object.getOwnPropertyDescriptor==="function"){var H=Object.getOwnPropertyDescriptor(J,z);if(H.value!==Y||H.enumerable!==!0)return!1}return!0}}),k1=y((f,$)=>{var Z=Tf();$.exports=function J(){return Z()&&!!Symbol.toStringTag}}),Cf=y((f,$)=>{$.exports=Object}),N8=y((f,$)=>{$.exports=Error}),R8=y((f,$)=>{$.exports=EvalError}),I8=y((f,$)=>{$.exports=RangeError}),S8=y((f,$)=>{$.exports=ReferenceError}),e4=y((f,$)=>{$.exports=SyntaxError}),F1=y((f,$)=>{$.exports=TypeError}),P8=y((f,$)=>{$.exports=URIError}),E8=y((f,$)=>{$.exports=Math.abs}),b8=y((f,$)=>{$.exports=Math.floor}),_8=y((f,$)=>{$.exports=Math.max}),v8=y((f,$)=>{$.exports=Math.min}),g8=y((f,$)=>{$.exports=Math.pow}),x8=y((f,$)=>{$.exports=Math.round}),k8=y((f,$)=>{$.exports=Number.isNaN||function Z(J){return J!==J}}),u8=y((f,$)=>{var Z=k8();$.exports=function J(z){if(Z(z)||z===0)return z;return z<0?-1:1}}),y8=y((f,$)=>{$.exports=Object.getOwnPropertyDescriptor}),t0=y((f,$)=>{var Z=y8();if(Z)try{Z([],"length")}catch(J){Z=null}$.exports=Z}),u1=y((f,$)=>{var Z=Object.defineProperty||!1;if(Z)try{Z({},"a",{value:1})}catch(J){Z=!1}$.exports=Z}),c8=y((f,$)=>{var Z=typeof Symbol!=="undefined"&&Symbol,J=Tf();$.exports=function z(){if(typeof Z!=="function")return!1;if(typeof Symbol!=="function")return!1;if(typeof Z("foo")!=="symbol")return!1;if(typeof Symbol("bar")!=="symbol")return!1;return J()}}),f$=y((f,$)=>{$.exports=typeof Reflect!=="undefined"&&Reflect.getPrototypeOf||null}),$$=y((f,$)=>{var Z=Cf();$.exports=Z.getPrototypeOf||null}),h8=y((f,$)=>{var Z="Function.prototype.bind called on incompatible ",J=Object.prototype.toString,z=Math.max,Q="[object Function]",Y=function H(w,K){var O=[];for(var j=0;j<w.length;j+=1)O[j]=w[j];for(var M=0;M<K.length;M+=1)O[M+w.length]=K[M];return O},X=function H(w,K){var O=[];for(var j=K||0,M=0;j<w.length;j+=1,M+=1)O[M]=w[j];return O},W=function(H,w){var K="";for(var O=0;O<H.length;O+=1)if(K+=H[O],O+1<H.length)K+=w;return K};$.exports=function H(w){var K=this;if(typeof K!=="function"||J.apply(K)!==Q)throw new TypeError(Z+K);var O=X(arguments,1),j,M=function(){if(this instanceof j){var _=K.apply(this,Y(O,arguments));if(Object(_)===_)return _;return this}return K.apply(w,Y(O,arguments))},S=z(0,K.length-O.length),v=[];for(var g=0;g<S;g++)v[g]="$"+g;if(j=Function("binder","return function ("+W(v,",")+"){ return binder.apply(this,arguments); }")(M),K.prototype){var x=function _(){};x.prototype=K.prototype,j.prototype=new x,x.prototype=null}return j}}),G1=y((f,$)=>{var Z=h8();$.exports=Function.prototype.bind||Z}),Nf=y((f,$)=>{$.exports=Function.prototype.call}),Rf=y((f,$)=>{$.exports=Function.prototype.apply}),m8=y((f,$)=>{$.exports=typeof Reflect!=="undefined"&&Reflect&&Reflect.apply}),Z$=y((f,$)=>{var Z=G1(),J=Rf(),z=Nf(),Q=m8();$.exports=Q||Z.call(z,J)}),If=y((f,$)=>{var Z=G1(),J=F1(),z=Nf(),Q=Z$();$.exports=function Y(X){if(X.length<1||typeof X[0]!=="function")throw new J("a function is required");return Q(Z,z,X)}}),d8=y((f,$)=>{var Z=If(),J=t0(),z;try{z=[].__proto__===Array.prototype}catch(W){if(!W||typeof W!=="object"||!("code"in W)||W.code!=="ERR_PROTO_ACCESS")throw W}var Q=!!z&&J&&J(Object.prototype,"__proto__"),Y=Object,X=Y.getPrototypeOf;$.exports=Q&&typeof Q.get==="function"?Z([Q.get]):typeof X==="function"?function W(H){return X(H==null?H:Y(H))}:!1}),Sf=y((f,$)=>{var Z=f$(),J=$$(),z=d8();$.exports=Z?function Q(Y){return Z(Y)}:J?function Q(Y){if(!Y||typeof Y!=="object"&&typeof Y!=="function")throw new TypeError("getProto: not an object");return J(Y)}:z?function Q(Y){return z(Y)}:null}),J$=y((f,$)=>{var Z=Function.prototype.call,J=Object.prototype.hasOwnProperty,z=G1();$.exports=z.call(Z,J)}),Pf=y((f,$)=>{var Z,J=Cf(),z=N8(),Q=R8(),Y=I8(),X=S8(),W=e4(),H=F1(),w=P8(),K=E8(),O=b8(),j=_8(),M=v8(),S=g8(),v=x8(),g=u8(),x=Function,_=function(B){try{return x('"use strict"; return ('+B+").constructor;")()}catch(A){}},b=t0(),i=u1(),a=function(){throw new H},N=b?function(){try{return arguments.callee,a}catch(B){try{return b(arguments,"callee").get}catch(A){return a}}}():a,T=c8()(),R=Sf(),h=$$(),r=f$(),m=Rf(),$0=Nf(),n={},w0=typeof Uint8Array==="undefined"||!R?Z:R(Uint8Array),H0={__proto__:null,"%AggregateError%":typeof AggregateError==="undefined"?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?Z:ArrayBuffer,"%ArrayIteratorPrototype%":T&&R?R([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics==="undefined"?Z:Atomics,"%BigInt%":typeof BigInt==="undefined"?Z:BigInt,"%BigInt64Array%":typeof BigInt64Array==="undefined"?Z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array==="undefined"?Z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView==="undefined"?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":z,"%eval%":eval,"%EvalError%":Q,"%Float16Array%":typeof Float16Array==="undefined"?Z:Float16Array,"%Float32Array%":typeof Float32Array==="undefined"?Z:Float32Array,"%Float64Array%":typeof Float64Array==="undefined"?Z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry==="undefined"?Z:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array==="undefined"?Z:Int8Array,"%Int16Array%":typeof Int16Array==="undefined"?Z:Int16Array,"%Int32Array%":typeof Int32Array==="undefined"?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&R?R(R([][Symbol.iterator]())):Z,"%JSON%":typeof JSON==="object"?JSON:Z,"%Map%":typeof Map==="undefined"?Z:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!T||!R?Z:R(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":J,"%Object.getOwnPropertyDescriptor%":b,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?Z:Promise,"%Proxy%":typeof Proxy==="undefined"?Z:Proxy,"%RangeError%":Y,"%ReferenceError%":X,"%Reflect%":typeof Reflect==="undefined"?Z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set==="undefined"?Z:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!T||!R?Z:R(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&R?R(""[Symbol.iterator]()):Z,"%Symbol%":T?Symbol:Z,"%SyntaxError%":W,"%ThrowTypeError%":N,"%TypedArray%":w0,"%TypeError%":H,"%Uint8Array%":typeof Uint8Array==="undefined"?Z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?Z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array==="undefined"?Z:Uint16Array,"%Uint32Array%":typeof Uint32Array==="undefined"?Z:Uint32Array,"%URIError%":w,"%WeakMap%":typeof WeakMap==="undefined"?Z:WeakMap,"%WeakRef%":typeof WeakRef==="undefined"?Z:WeakRef,"%WeakSet%":typeof WeakSet==="undefined"?Z:WeakSet,"%Function.prototype.call%":$0,"%Function.prototype.apply%":m,"%Object.defineProperty%":i,"%Object.getPrototypeOf%":h,"%Math.abs%":K,"%Math.floor%":O,"%Math.max%":j,"%Math.min%":M,"%Math.pow%":S,"%Math.round%":v,"%Math.sign%":g,"%Reflect.getPrototypeOf%":r};if(R)try{null.error}catch(B){A0=R(R(B)),H0["%Error.prototype%"]=A0}var A0,V0=function B(A){var u;if(A==="%AsyncFunction%")u=_("async function () {}");else if(A==="%GeneratorFunction%")u=_("function* () {}");else if(A==="%AsyncGeneratorFunction%")u=_("async function* () {}");else if(A==="%AsyncGenerator%"){var P=B("%AsyncGeneratorFunction%");if(P)u=P.prototype}else if(A==="%AsyncIteratorPrototype%"){var p=B("%AsyncGenerator%");if(p&&R)u=R(p.prototype)}return H0[A]=u,u},O0={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},F0=G1(),I=J$(),V=F0.call($0,Array.prototype.concat),G=F0.call(m,Array.prototype.splice),L=F0.call($0,String.prototype.replace),E=F0.call($0,String.prototype.slice),d=F0.call($0,RegExp.prototype.exec),s=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,c=/\\(\\)?/g,D=function B(A){var u=E(A,0,1),P=E(A,-1);if(u==="%"&&P!=="%")throw new W("invalid intrinsic syntax, expected closing `%`");else if(P==="%"&&u!=="%")throw new W("invalid intrinsic syntax, expected opening `%`");var p=[];return L(A,s,function(t,Y0,X0,C){p[p.length]=X0?L(C,c,"$1"):Y0||t}),p},U=function B(A,u){var P=A,p;if(I(O0,P))p=O0[P],P="%"+p[0]+"%";if(I(H0,P)){var t=H0[P];if(t===n)t=V0(P);if(typeof t==="undefined"&&!u)throw new H("intrinsic "+A+" exists, but is not available. Please file an issue!");return{alias:p,name:P,value:t}}throw new W("intrinsic "+A+" does not exist!")};$.exports=function B(A,u){if(typeof A!=="string"||A.length===0)throw new H("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof u!=="boolean")throw new H('"allowMissing" argument must be a boolean');if(d(/^%?[^%]*%?$/,A)===null)throw new W("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var P=D(A),p=P.length>0?P[0]:"",t=U("%"+p+"%",u),Y0=t.name,X0=t.value,C=!1,L0=t.alias;if(L0)p=L0[0],G(P,V([0,1],L0));for(var b0=1,E0=!0;b0<P.length;b0+=1){var U0=P[b0],R0=E(U0,0,1),N0=E(U0,-1);if((R0==='"'||R0==="'"||R0==="`"||(N0==='"'||N0==="'"||N0==="`"))&&R0!==N0)throw new W("property names with quotes must have matching quotes");if(U0==="constructor"||!E0)C=!0;if(p+="."+U0,Y0="%"+p+"%",I(H0,Y0))X0=H0[Y0];else if(X0!=null){if(!(U0 in X0)){if(!u)throw new H("base intrinsic for "+A+" exists, but the property is not available.");return}if(b&&b0+1>=P.length){var _0=b(X0,U0);if(E0=!!_0,E0&&"get"in _0&&!("originalValue"in _0.get))X0=_0.get;else X0=X0[U0]}else E0=I(X0,U0),X0=X0[U0];if(E0&&!C)H0[Y0]=X0}}return X0}}),e0=y((f,$)=>{var Z=Pf(),J=If(),z=J([Z("%String.prototype.indexOf%")]);$.exports=function Q(Y,X){var W=Z(Y,!!X);if(typeof W==="function"&&z(Y,".prototype.")>-1)return J([W]);return W}}),i8=y((f,$)=>{var Z=k1()(),J=e0(),z=J("Object.prototype.toString"),Q=function W(H){if(Z&&H&&typeof H==="object"&&Symbol.toStringTag in H)return!1;return z(H)==="[object Arguments]"},Y=function W(H){if(Q(H))return!0;return H!==null&&typeof H==="object"&&"length"in H&&typeof H.length==="number"&&H.length>=0&&z(H)!=="[object Array]"&&"callee"in H&&z(H.callee)==="[object Function]"},X=function(){return Q(arguments)}();Q.isLegacyArguments=Y,$.exports=X?Q:Y}),n8=y((f,$)=>{var Z=e0(),J=k1()(),z=J$(),Q=t0(),Y;if(J){if(X=Z("RegExp.prototype.exec"),W={},H=function(){throw W},w={toString:H,valueOf:H},typeof Symbol.toPrimitive==="symbol")w[Symbol.toPrimitive]=H;Y=function j(M){if(!M||typeof M!=="object")return!1;var S=Q(M,"lastIndex"),v=S&&z(S,"value");if(!v)return!1;try{X(M,w)}catch(g){return g===W}}}else K=Z("Object.prototype.toString"),O="[object RegExp]",Y=function j(M){if(!M||typeof M!=="object"&&typeof M!=="function")return!1;return K(M)===O};var X,W,H,w,K,O;$.exports=Y}),l8=y((f,$)=>{var Z=e0(),J=n8(),z=Z("RegExp.prototype.exec"),Q=F1();$.exports=function Y(X){if(!J(X))throw new Q("`regex` must be a RegExp");return function W(H){return z(X,H)!==null}}}),p8=y((f,$)=>{var Z=e0(),J=l8(),z=J(/^\s*(?:function)?\*/),Q=k1()(),Y=Sf(),X=Z("Object.prototype.toString"),W=Z("Function.prototype.toString"),H=function(){if(!Q)return!1;try{return Function("return function*() {}")()}catch(K){}},w;$.exports=function K(O){if(typeof O!=="function")return!1;if(z(W(O)))return!0;if(!Q){var j=X(O);return j==="[object GeneratorFunction]"}if(!Y)return!1;if(typeof w==="undefined"){var M=H();w=M?Y(M):!1}return Y(O)===w}}),o8=y((f,$)=>{var Z=Function.prototype.toString,J=typeof Reflect==="object"&&Reflect!==null&&Reflect.apply,z,Q;if(typeof J==="function"&&typeof Object.defineProperty==="function")try{z=Object.defineProperty({},"length",{get:function(){throw Q}}),Q={},J(function(){throw 42},null,z)}catch(b){if(b!==Q)J=null}else J=null;var Y=/^\s*class\b/,X=function b(i){try{var a=Z.call(i);return Y.test(a)}catch(N){return!1}},W=function b(i){try{if(X(i))return!1;return Z.call(i),!0}catch(a){return!1}},H=Object.prototype.toString,w="[object Object]",K="[object Function]",O="[object GeneratorFunction]",j="[object HTMLAllCollection]",M="[object HTML document.all class]",S="[object HTMLCollection]",v=typeof Symbol==="function"&&!!Symbol.toStringTag,g=!(0 in[,]),x=function b(){return!1};if(typeof document==="object"){if(_=document.all,H.call(_)===H.call(document.all))x=function b(i){if((g||!i)&&(typeof i==="undefined"||typeof i==="object"))try{var a=H.call(i);return(a===j||a===M||a===S||a===w)&&i("")==null}catch(N){}return!1}}var _;$.exports=J?function b(i){if(x(i))return!0;if(!i)return!1;if(typeof i!=="function"&&typeof i!=="object")return!1;try{J(i,null,z)}catch(a){if(a!==Q)return!1}return!X(i)&&W(i)}:function b(i){if(x(i))return!0;if(!i)return!1;if(typeof i!=="function"&&typeof i!=="object")return!1;if(v)return W(i);if(X(i))return!1;var a=H.call(i);if(a!==K&&a!==O&&!/^\[object HTML/.test(a))return!1;return W(i)}}),r8=y((f,$)=>{var Z=o8(),J=Object.prototype.toString,z=Object.prototype.hasOwnProperty,Q=function H(w,K,O){for(var j=0,M=w.length;j<M;j++)if(z.call(w,j))if(O==null)K(w[j],j,w);else K.call(O,w[j],j,w)},Y=function H(w,K,O){for(var j=0,M=w.length;j<M;j++)if(O==null)K(w.charAt(j),j,w);else K.call(O,w.charAt(j),j,w)},X=function H(w,K,O){for(var j in w)if(z.call(w,j))if(O==null)K(w[j],j,w);else K.call(O,w[j],j,w)};function W(H){return J.call(H)==="[object Array]"}$.exports=function H(w,K,O){if(!Z(K))throw new TypeError("iterator must be a function");var j;if(arguments.length>=3)j=O;if(W(w))Q(w,K,j);else if(typeof w==="string")Y(w,K,j);else X(w,K,j)}}),s8=y((f,$)=>{$.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]}),a8=y((f,$)=>{var Z=s8(),J=typeof globalThis==="undefined"?global:globalThis;$.exports=function z(){var Q=[];for(var Y=0;Y<Z.length;Y++)if(typeof J[Z[Y]]==="function")Q[Q.length]=Z[Y];return Q}}),z$=y((f,$)=>{var Z=u1(),J=e4(),z=F1(),Q=t0();$.exports=function Y(X,W,H){if(!X||typeof X!=="object"&&typeof X!=="function")throw new z("`obj` must be an object or a function`");if(typeof W!=="string"&&typeof W!=="symbol")throw new z("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!=="boolean"&&arguments[3]!==null)throw new z("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!=="boolean"&&arguments[4]!==null)throw new z("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!=="boolean"&&arguments[5]!==null)throw new z("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!=="boolean")throw new z("`loose`, if provided, must be a boolean");var w=arguments.length>3?arguments[3]:null,K=arguments.length>4?arguments[4]:null,O=arguments.length>5?arguments[5]:null,j=arguments.length>6?arguments[6]:!1,M=!!Q&&Q(X,W);if(Z)Z(X,W,{configurable:O===null&&M?M.configurable:!O,enumerable:w===null&&M?M.enumerable:!w,value:H,writable:K===null&&M?M.writable:!K});else if(j||!w&&!K&&!O)X[W]=H;else throw new J("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}),Q$=y((f,$)=>{var Z=u1(),J=function z(){return!!Z};J.hasArrayLengthDefineBug=function z(){if(!Z)return null;try{return Z([],"length",{value:1}).length!==1}catch(Q){return!0}},$.exports=J}),t8=y((f,$)=>{var Z=Pf(),J=z$(),z=Q$()(),Q=t0(),Y=F1(),X=Z("%Math.floor%");$.exports=function W(H,w){if(typeof H!=="function")throw new Y("`fn` is not a function");if(typeof w!=="number"||w<0||w>4294967295||X(w)!==w)throw new Y("`length` must be a positive 32-bit integer");var K=arguments.length>2&&!!arguments[2],O=!0,j=!0;if("length"in H&&Q){var M=Q(H,"length");if(M&&!M.configurable)O=!1;if(M&&!M.writable)j=!1}if(O||j||!K)if(z)J(H,"length",w,!0,!0);else J(H,"length",w);return H}}),e8=y((f,$)=>{var Z=G1(),J=Rf(),z=Z$();$.exports=function Q(){return z(Z,J,arguments)}}),y1=y((f,$)=>{var Z=t8(),J=u1(),z=If(),Q=e8();if($.exports=function Y(X){var W=z(arguments),H=X.length-(arguments.length-1);return Z(W,1+(H>0?H:0),!0)},J)J($.exports,"apply",{value:Q});else $.exports.apply=Q}),Y$=y((f,$)=>{var Z=r8(),J=a8(),z=y1(),Q=e0(),Y=t0(),X=Sf(),W=Q("Object.prototype.toString"),H=k1()(),w=typeof globalThis==="undefined"?global:globalThis,K=J(),O=Q("String.prototype.slice"),j=Q("Array.prototype.indexOf",!0)||function g(x,_){for(var b=0;b<x.length;b+=1)if(x[b]===_)return b;return-1},M={__proto__:null};if(H&&Y&&X)Z(K,function(g){var x=new w[g];if(Symbol.toStringTag in x&&X){var _=X(x),b=Y(_,Symbol.toStringTag);if(!b&&_){var i=X(_);b=Y(i,Symbol.toStringTag)}M["$"+g]=z(b.get)}});else Z(K,function(g){var x=new w[g],_=x.slice||x.set;if(_)M["$"+g]=z(_)});var S=function g(x){var _=!1;return Z(M,function(b,i){if(!_)try{if("$"+b(x)===i)_=O(i,1)}catch(a){}}),_},v=function g(x){var _=!1;return Z(M,function(b,i){if(!_)try{b(x),_=O(i,1)}catch(a){}}),_};$.exports=function g(x){if(!x||typeof x!=="object")return!1;if(!H){var _=O(W(x),8,-1);if(j(K,_)>-1)return _;if(_!=="Object")return!1;return v(x)}if(!Y)return null;return S(x)}}),fJ=y((f,$)=>{var Z=Y$();$.exports=function J(z){return!!Z(z)}}),$J=y((f)=>{var $=i8(),Z=p8(),J=Y$(),z=fJ();function Q(C){return C.call.bind(C)}var Y=typeof BigInt!=="undefined",X=typeof Symbol!=="undefined",W=Q(Object.prototype.toString),H=Q(Number.prototype.valueOf),w=Q(String.prototype.valueOf),K=Q(Boolean.prototype.valueOf);if(Y)O=Q(BigInt.prototype.valueOf);var O;if(X)j=Q(Symbol.prototype.valueOf);var j;function M(C,L0){if(typeof C!=="object")return!1;try{return L0(C),!0}catch(b0){return!1}}f.isArgumentsObject=$,f.isGeneratorFunction=Z,f.isTypedArray=z;function S(C){return typeof Promise!=="undefined"&&C instanceof Promise||C!==null&&typeof C==="object"&&typeof C.then==="function"&&typeof C.catch==="function"}f.isPromise=S;function v(C){if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView)return ArrayBuffer.isView(C);return z(C)||G(C)}f.isArrayBufferView=v;function g(C){return J(C)==="Uint8Array"}f.isUint8Array=g;function x(C){return J(C)==="Uint8ClampedArray"}f.isUint8ClampedArray=x;function _(C){return J(C)==="Uint16Array"}f.isUint16Array=_;function b(C){return J(C)==="Uint32Array"}f.isUint32Array=b;function i(C){return J(C)==="Int8Array"}f.isInt8Array=i;function a(C){return J(C)==="Int16Array"}f.isInt16Array=a;function N(C){return J(C)==="Int32Array"}f.isInt32Array=N;function T(C){return J(C)==="Float32Array"}f.isFloat32Array=T;function R(C){return J(C)==="Float64Array"}f.isFloat64Array=R;function h(C){return J(C)==="BigInt64Array"}f.isBigInt64Array=h;function r(C){return J(C)==="BigUint64Array"}f.isBigUint64Array=r;function m(C){return W(C)==="[object Map]"}m.working=typeof Map!=="undefined"&&m(new Map);function $0(C){if(typeof Map==="undefined")return!1;return m.working?m(C):C instanceof Map}f.isMap=$0;function n(C){return W(C)==="[object Set]"}n.working=typeof Set!=="undefined"&&n(new Set);function w0(C){if(typeof Set==="undefined")return!1;return n.working?n(C):C instanceof Set}f.isSet=w0;function H0(C){return W(C)==="[object WeakMap]"}H0.working=typeof WeakMap!=="undefined"&&H0(new WeakMap);function A0(C){if(typeof WeakMap==="undefined")return!1;return H0.working?H0(C):C instanceof WeakMap}f.isWeakMap=A0;function V0(C){return W(C)==="[object WeakSet]"}V0.working=typeof WeakSet!=="undefined"&&V0(new WeakSet);function O0(C){return V0(C)}f.isWeakSet=O0;function F0(C){return W(C)==="[object ArrayBuffer]"}F0.working=typeof ArrayBuffer!=="undefined"&&F0(new ArrayBuffer);function I(C){if(typeof ArrayBuffer==="undefined")return!1;return F0.working?F0(C):C instanceof ArrayBuffer}f.isArrayBuffer=I;function V(C){return W(C)==="[object DataView]"}V.working=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"&&V(new DataView(new ArrayBuffer(1),0,1));function G(C){if(typeof DataView==="undefined")return!1;return V.working?V(C):C instanceof DataView}f.isDataView=G;var L=typeof SharedArrayBuffer!=="undefined"?SharedArrayBuffer:void 0;function E(C){return W(C)==="[object SharedArrayBuffer]"}function d(C){if(typeof L==="undefined")return!1;if(typeof E.working==="undefined")E.working=E(new L);return E.working?E(C):C instanceof L}f.isSharedArrayBuffer=d;function s(C){return W(C)==="[object AsyncFunction]"}f.isAsyncFunction=s;function c(C){return W(C)==="[object Map Iterator]"}f.isMapIterator=c;function D(C){return W(C)==="[object Set Iterator]"}f.isSetIterator=D;function U(C){return W(C)==="[object Generator]"}f.isGeneratorObject=U;function B(C){return W(C)==="[object WebAssembly.Module]"}f.isWebAssemblyCompiledModule=B;function A(C){return M(C,H)}f.isNumberObject=A;function u(C){return M(C,w)}f.isStringObject=u;function P(C){return M(C,K)}f.isBooleanObject=P;function p(C){return Y&&M(C,O)}f.isBigIntObject=p;function t(C){return X&&M(C,j)}f.isSymbolObject=t;function Y0(C){return A(C)||u(C)||P(C)||p(C)||t(C)}f.isBoxedPrimitive=Y0;function X0(C){return typeof Uint8Array!=="undefined"&&(I(C)||d(C))}f.isAnyArrayBuffer=X0,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(C){Object.defineProperty(f,C,{enumerable:!1,value:function(){throw new Error(C+" is not supported in userland")}})})}),ZJ=y((f,$)=>{$.exports=function Z(J){return J instanceof Buffer}}),JJ=y((f,$)=>{if(typeof Object.create==="function")$.exports=function Z(J,z){if(z)J.super_=z,J.prototype=Object.create(z.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}})};else $.exports=function Z(J,z){if(z){J.super_=z;var Q=function(){};Q.prototype=z.prototype,J.prototype=new Q,J.prototype.constructor=J}}}),zJ=y((f,$)=>{try{if(Z=(a4(),o0(s4)),typeof Z.inherits!=="function")throw"";$.exports=Z.inherits}catch(J){$.exports=JJ()}var Z}),B1=y((f)=>{var $=Object.getOwnPropertyDescriptors||function V(G){var L=Object.keys(G),E={};for(var d=0;d<L.length;d++)E[L[d]]=Object.getOwnPropertyDescriptor(G,L[d]);return E},Z=/%[sdj%]/g;f.format=function(V){if(!i(V)){var G=[];for(var L=0;L<arguments.length;L++)G.push(Y(arguments[L]));return G.join(" ")}var L=1,E=arguments,d=E.length,s=String(V).replace(Z,function(D){if(D==="%%")return"%";if(L>=d)return D;switch(D){case"%s":return String(E[L++]);case"%d":return Number(E[L++]);case"%j":try{return JSON.stringify(E[L++])}catch(U){return"[Circular]"}default:return D}});for(var c=E[L];L<d;c=E[++L])if(x(c)||!R(c))s+=" "+c;else s+=" "+Y(c);return s},f.deprecate=function(V,G){if(typeof process!=="undefined"&&process.noDeprecation===!0)return V;if(typeof process==="undefined")return function(){return f.deprecate(V,G).apply(this,arguments)};var L=!1;function E(){if(!L){if(process.throwDeprecation)throw new Error(G);else if(process.traceDeprecation)console.trace(G);else console.error(G);L=!0}return V.apply(this,arguments)}return E};var J={},z=/^$/;if(process.env.NODE_DEBUG)Q=process.env.NODE_DEBUG,Q=Q.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),z=new RegExp("^"+Q+"$","i");var Q;f.debuglog=function(V){if(V=V.toUpperCase(),!J[V])if(z.test(V)){var G=process.pid;J[V]=function(){var L=f.format.apply(f,arguments);console.error("%s %d: %s",V,G,L)}}else J[V]=function(){};return J[V]};function Y(V,G){var L={seen:[],stylize:W};if(arguments.length>=3)L.depth=arguments[2];if(arguments.length>=4)L.colors=arguments[3];if(g(G))L.showHidden=G;else if(G)f._extend(L,G);if(N(L.showHidden))L.showHidden=!1;if(N(L.depth))L.depth=2;if(N(L.colors))L.colors=!1;if(N(L.customInspect))L.customInspect=!0;if(L.colors)L.stylize=X;return w(L,V,L.depth)}f.inspect=Y,Y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function X(V,G){var L=Y.styles[G];if(L)return"\x1B["+Y.colors[L][0]+"m"+V+"\x1B["+Y.colors[L][1]+"m";else return V}function W(V,G){return V}function H(V){var G={};return V.forEach(function(L,E){G[L]=!0}),G}function w(V,G,L){if(V.customInspect&&G&&m(G.inspect)&&G.inspect!==f.inspect&&!(G.constructor&&G.constructor.prototype===G)){var E=G.inspect(L,V);if(!i(E))E=w(V,E,L);return E}var d=K(V,G);if(d)return d;var s=Object.keys(G),c=H(s);if(V.showHidden)s=Object.getOwnPropertyNames(G);if(r(G)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return O(G);if(s.length===0){if(m(G)){var D=G.name?": "+G.name:"";return V.stylize("[Function"+D+"]","special")}if(T(G))return V.stylize(RegExp.prototype.toString.call(G),"regexp");if(h(G))return V.stylize(Date.prototype.toString.call(G),"date");if(r(G))return O(G)}var U="",B=!1,A=["{","}"];if(v(G))B=!0,A=["[","]"];if(m(G)){var u=G.name?": "+G.name:"";U=" [Function"+u+"]"}if(T(G))U=" "+RegExp.prototype.toString.call(G);if(h(G))U=" "+Date.prototype.toUTCString.call(G);if(r(G))U=" "+O(G);if(s.length===0&&(!B||G.length==0))return A[0]+U+A[1];if(L<0)if(T(G))return V.stylize(RegExp.prototype.toString.call(G),"regexp");else return V.stylize("[Object]","special");V.seen.push(G);var P;if(B)P=j(V,G,L,c,s);else P=s.map(function(p){return M(V,G,L,c,p,B)});return V.seen.pop(),S(P,U,A)}function K(V,G){if(N(G))return V.stylize("undefined","undefined");if(i(G)){var L="'"+JSON.stringify(G).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return V.stylize(L,"string")}if(b(G))return V.stylize(""+G,"number");if(g(G))return V.stylize(""+G,"boolean");if(x(G))return V.stylize("null","null")}function O(V){return"["+Error.prototype.toString.call(V)+"]"}function j(V,G,L,E,d){var s=[];for(var c=0,D=G.length;c<D;++c)if(V0(G,String(c)))s.push(M(V,G,L,E,String(c),!0));else s.push("");return d.forEach(function(U){if(!U.match(/^\d+$/))s.push(M(V,G,L,E,U,!0))}),s}function M(V,G,L,E,d,s){var c,D,U;if(U=Object.getOwnPropertyDescriptor(G,d)||{value:G[d]},U.get)if(U.set)D=V.stylize("[Getter/Setter]","special");else D=V.stylize("[Getter]","special");else if(U.set)D=V.stylize("[Setter]","special");if(!V0(E,d))c="["+d+"]";if(!D)if(V.seen.indexOf(U.value)<0){if(x(L))D=w(V,U.value,null);else D=w(V,U.value,L-1);if(D.indexOf(`
`)>-1)if(s)D=D.split(`
`).map(function(B){return"  "+B}).join(`
`).slice(2);else D=`
`+D.split(`
`).map(function(B){return"   "+B}).join(`
`)}else D=V.stylize("[Circular]","special");if(N(c)){if(s&&d.match(/^\d+$/))return D;if(c=JSON.stringify(""+d),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/))c=c.slice(1,-1),c=V.stylize(c,"name");else c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=V.stylize(c,"string")}return c+": "+D}function S(V,G,L){var E=0,d=V.reduce(function(s,c){if(E++,c.indexOf(`
`)>=0)E++;return s+c.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(d>60)return L[0]+(G===""?"":G+`
 `)+" "+V.join(`,
  `)+" "+L[1];return L[0]+G+" "+V.join(", ")+" "+L[1]}f.types=$J();function v(V){return Array.isArray(V)}f.isArray=v;function g(V){return typeof V==="boolean"}f.isBoolean=g;function x(V){return V===null}f.isNull=x;function _(V){return V==null}f.isNullOrUndefined=_;function b(V){return typeof V==="number"}f.isNumber=b;function i(V){return typeof V==="string"}f.isString=i;function a(V){return typeof V==="symbol"}f.isSymbol=a;function N(V){return V===void 0}f.isUndefined=N;function T(V){return R(V)&&n(V)==="[object RegExp]"}f.isRegExp=T,f.types.isRegExp=T;function R(V){return typeof V==="object"&&V!==null}f.isObject=R;function h(V){return R(V)&&n(V)==="[object Date]"}f.isDate=h,f.types.isDate=h;function r(V){return R(V)&&(n(V)==="[object Error]"||V instanceof Error)}f.isError=r,f.types.isNativeError=r;function m(V){return typeof V==="function"}f.isFunction=m;function $0(V){return V===null||typeof V==="boolean"||typeof V==="number"||typeof V==="string"||typeof V==="symbol"||typeof V==="undefined"}f.isPrimitive=$0,f.isBuffer=ZJ();function n(V){return Object.prototype.toString.call(V)}function w0(V){return V<10?"0"+V.toString(10):V.toString(10)}var H0=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A0(){var V=new Date,G=[w0(V.getHours()),w0(V.getMinutes()),w0(V.getSeconds())].join(":");return[V.getDate(),H0[V.getMonth()],G].join(" ")}f.log=function(){console.log("%s - %s",A0(),f.format.apply(f,arguments))},f.inherits=zJ(),f._extend=function(V,G){if(!G||!R(G))return V;var L=Object.keys(G),E=L.length;while(E--)V[L[E]]=G[L[E]];return V};function V0(V,G){return Object.prototype.hasOwnProperty.call(V,G)}var O0=typeof Symbol!=="undefined"?Symbol("util.promisify.custom"):void 0;f.promisify=function V(G){if(typeof G!=="function")throw new TypeError('The "original" argument must be of type Function');if(O0&&G[O0]){var L=G[O0];if(typeof L!=="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(L,O0,{value:L,enumerable:!1,writable:!1,configurable:!0}),L}function L(){var E,d,s=new Promise(function(U,B){E=U,d=B}),c=[];for(var D=0;D<arguments.length;D++)c.push(arguments[D]);c.push(function(U,B){if(U)d(U);else E(B)});try{G.apply(this,c)}catch(U){d(U)}return s}if(Object.setPrototypeOf(L,Object.getPrototypeOf(G)),O0)Object.defineProperty(L,O0,{value:L,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(L,$(G))},f.promisify.custom=O0;function F0(V,G){if(!V){var L=new Error("Promise was rejected with a falsy value");L.reason=V,V=L}return G(V)}function I(V){if(typeof V!=="function")throw new TypeError('The "original" argument must be of type Function');function G(){var L=[];for(var E=0;E<arguments.length;E++)L.push(arguments[E]);var d=L.pop();if(typeof d!=="function")throw new TypeError("The last argument must be of type Function");var s=this,c=function(){return d.apply(s,arguments)};V.apply(this,L).then(function(D){process.nextTick(c.bind(null,null,D))},function(D){process.nextTick(F0.bind(null,D,c))})}return Object.setPrototypeOf(G,Object.getPrototypeOf(V)),Object.defineProperties(G,$(V)),G}f.callbackify=I}),X$=y((f,$)=>{function Z(N){return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},Z(N)}function J(N,T){for(var R=0;R<T.length;R++){var h=T[R];if(h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h)h.writable=!0;Object.defineProperty(N,Q(h.key),h)}}function z(N,T,R){if(T)J(N.prototype,T);if(R)J(N,R);return Object.defineProperty(N,"prototype",{writable:!1}),N}function Q(N){var T=Y(N,"string");return Z(T)==="symbol"?T:String(T)}function Y(N,T){if(Z(N)!=="object"||N===null)return N;var R=N[Symbol.toPrimitive];if(R!==void 0){var h=R.call(N,T||"default");if(Z(h)!=="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(N)}function X(N,T){if(!(N instanceof T))throw new TypeError("Cannot call a class as a function")}function W(N,T){if(typeof T!=="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");if(N.prototype=Object.create(T&&T.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),T)H(N,T)}function H(N,T){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function R(h,r){return h.__proto__=r,h},H(N,T)}function w(N){var T=j();return function R(){var h=M(N),r;if(T){var m=M(this).constructor;r=Reflect.construct(h,arguments,m)}else r=h.apply(this,arguments);return K(this,r)}}function K(N,T){if(T&&(Z(T)==="object"||typeof T==="function"))return T;else if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(N)}function O(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function j(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(N){return!1}}function M(N){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function T(R){return R.__proto__||Object.getPrototypeOf(R)},M(N)}var S={},v,g;function x(N,T,R){if(!R)R=Error;function h(m,$0,n){if(typeof T==="string")return T;else return T(m,$0,n)}var r=function(m){W(n,m);var $0=w(n);function n(w0,H0,A0){var V0;return X(this,n),V0=$0.call(this,h(w0,H0,A0)),V0.code=N,V0}return z(n)}(R);S[N]=r}function _(N,T){if(Array.isArray(N)){var R=N.length;if(N=N.map(function(h){return String(h)}),R>2)return"one of ".concat(T," ").concat(N.slice(0,R-1).join(", "),", or ")+N[R-1];else if(R===2)return"one of ".concat(T," ").concat(N[0]," or ").concat(N[1]);else return"of ".concat(T," ").concat(N[0])}else return"of ".concat(T," ").concat(String(N))}function b(N,T,R){return N.substr(!R||R<0?0:+R,T.length)===T}function i(N,T,R){if(R===void 0||R>N.length)R=N.length;return N.substring(R-T.length,R)===T}function a(N,T,R){if(typeof R!=="number")R=0;if(R+T.length>N.length)return!1;else return N.indexOf(T,R)!==-1}x("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),x("ERR_INVALID_ARG_TYPE",function(N,T,R){if(v===void 0)v=jf();v(typeof N==="string","'name' must be a string");var h;if(typeof T==="string"&&b(T,"not "))h="must not be",T=T.replace(/^not /,"");else h="must be";var r;if(i(N," argument"))r="The ".concat(N," ").concat(h," ").concat(_(T,"type"));else{var m=a(N,".")?"property":"argument";r='The "'.concat(N,'" ').concat(m," ").concat(h," ").concat(_(T,"type"))}return r+=". Received type ".concat(Z(R)),r},TypeError),x("ERR_INVALID_ARG_VALUE",function(N,T){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";if(g===void 0)g=B1();var h=g.inspect(T);if(h.length>128)h="".concat(h.slice(0,128),"...");return"The argument '".concat(N,"' ").concat(R,". Received ").concat(h)},TypeError,RangeError),x("ERR_INVALID_RETURN_VALUE",function(N,T,R){var h;if(R&&R.constructor&&R.constructor.name)h="instance of ".concat(R.constructor.name);else h="type ".concat(Z(R));return"Expected ".concat(N,' to be returned from the "').concat(T,'"')+" function but got ".concat(h,".")},TypeError),x("ERR_MISSING_ARGS",function(){for(var N=arguments.length,T=new Array(N),R=0;R<N;R++)T[R]=arguments[R];if(v===void 0)v=jf();v(T.length>0,"At least one arg needs to be specified");var h="The ",r=T.length;switch(T=T.map(function(m){return'"'.concat(m,'"')}),r){case 1:h+="".concat(T[0]," argument");break;case 2:h+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:h+=T.slice(0,r-1).join(", "),h+=", and ".concat(T[r-1]," arguments");break}return"".concat(h," must be specified")},TypeError),f.codes=S}),QJ=y((f,$)=>{function Z(I,V){var G=Object.keys(I);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(I);V&&(L=L.filter(function(E){return Object.getOwnPropertyDescriptor(I,E).enumerable})),G.push.apply(G,L)}return G}function J(I){for(var V=1;V<arguments.length;V++){var G=arguments[V]!=null?arguments[V]:{};V%2?Z(Object(G),!0).forEach(function(L){z(I,L,G[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(G)):Z(Object(G)).forEach(function(L){Object.defineProperty(I,L,Object.getOwnPropertyDescriptor(G,L))})}return I}function z(I,V,G){if(V=W(V),V in I)Object.defineProperty(I,V,{value:G,enumerable:!0,configurable:!0,writable:!0});else I[V]=G;return I}function Q(I,V){if(!(I instanceof V))throw new TypeError("Cannot call a class as a function")}function Y(I,V){for(var G=0;G<V.length;G++){var L=V[G];if(L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L)L.writable=!0;Object.defineProperty(I,W(L.key),L)}}function X(I,V,G){if(V)Y(I.prototype,V);if(G)Y(I,G);return Object.defineProperty(I,"prototype",{writable:!1}),I}function W(I){var V=H(I,"string");return b(V)==="symbol"?V:String(V)}function H(I,V){if(b(I)!=="object"||I===null)return I;var G=I[Symbol.toPrimitive];if(G!==void 0){var L=G.call(I,V||"default");if(b(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(I)}function w(I,V){if(typeof V!=="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");if(I.prototype=Object.create(V&&V.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),V)x(I,V)}function K(I){var V=v();return function G(){var L=_(I),E;if(V){var d=_(this).constructor;E=Reflect.construct(L,arguments,d)}else E=L.apply(this,arguments);return O(this,E)}}function O(I,V){if(V&&(b(V)==="object"||typeof V==="function"))return V;else if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(I)}function j(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function M(I){var V=typeof Map==="function"?new Map:void 0;return M=function G(L){if(L===null||!g(L))return L;if(typeof L!=="function")throw new TypeError("Super expression must either be null or a function");if(typeof V!=="undefined"){if(V.has(L))return V.get(L);V.set(L,E)}function E(){return S(L,arguments,_(this).constructor)}return E.prototype=Object.create(L.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),x(E,L)},M(I)}function S(I,V,G){if(v())S=Reflect.construct.bind();else S=function L(E,d,s){var c=[null];c.push.apply(c,d);var D=Function.bind.apply(E,c),U=new D;if(s)x(U,s.prototype);return U};return S.apply(null,arguments)}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}function g(I){return Function.toString.call(I).indexOf("[native code]")!==-1}function x(I,V){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function G(L,E){return L.__proto__=E,L},x(I,V)}function _(I){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function V(G){return G.__proto__||Object.getPrototypeOf(G)},_(I)}function b(I){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},b(I)}var i=B1(),a=i.inspect,N=X$(),T=N.codes.ERR_INVALID_ARG_TYPE;function R(I,V,G){if(G===void 0||G>I.length)G=I.length;return I.substring(G-V.length,G)===V}function h(I,V){if(V=Math.floor(V),I.length==0||V==0)return"";var G=I.length*V;V=Math.floor(Math.log(V)/Math.log(2));while(V)I+=I,V--;return I+=I.substring(0,G-I.length),I}var r="",m="",$0="",n="",w0={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},H0=10;function A0(I){var V=Object.keys(I),G=Object.create(Object.getPrototypeOf(I));return V.forEach(function(L){G[L]=I[L]}),Object.defineProperty(G,"message",{value:I.message}),G}function V0(I){return a(I,{compact:!1,customInspect:!1,depth:1000,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function O0(I,V,G){var L="",E="",d=0,s="",c=!1,D=V0(I),U=D.split(`
`),B=V0(V).split(`
`),A=0,u="";if(G==="strictEqual"&&b(I)==="object"&&b(V)==="object"&&I!==null&&V!==null)G="strictEqualObject";if(U.length===1&&B.length===1&&U[0]!==B[0]){var P=U[0].length+B[0].length;if(P<=H0){if((b(I)!=="object"||I===null)&&(b(V)!=="object"||V===null)&&(I!==0||V!==0))return"".concat(w0[G],`

`)+"".concat(U[0]," !== ").concat(B[0],`
`)}else if(G!=="strictEqualObject"){var p=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(P<p){while(U[0][A]===B[0][A])A++;if(A>2)u=`
  `.concat(h(" ",A),"^"),A=0}}}var t=U[U.length-1],Y0=B[B.length-1];while(t===Y0){if(A++<2)s=`
  `.concat(t).concat(s);else L=t;if(U.pop(),B.pop(),U.length===0||B.length===0)break;t=U[U.length-1],Y0=B[B.length-1]}var X0=Math.max(U.length,B.length);if(X0===0){var C=D.split(`
`);if(C.length>30){C[26]="".concat(r,"...").concat(n);while(C.length>27)C.pop()}return"".concat(w0.notIdentical,`

`).concat(C.join(`
`),`
`)}if(A>3)s=`
`.concat(r,"...").concat(n).concat(s),c=!0;if(L!=="")s=`
  `.concat(L).concat(s),L="";var L0=0,b0=w0[G]+`
`.concat(m,"+ actual").concat(n," ").concat($0,"- expected").concat(n),E0=" ".concat(r,"...").concat(n," Lines skipped");for(A=0;A<X0;A++){var U0=A-d;if(U.length<A+1){if(U0>1&&A>2){if(U0>4)E+=`
`.concat(r,"...").concat(n),c=!0;else if(U0>3)E+=`
  `.concat(B[A-2]),L0++;E+=`
  `.concat(B[A-1]),L0++}d=A,L+=`
`.concat($0,"-").concat(n," ").concat(B[A]),L0++}else if(B.length<A+1){if(U0>1&&A>2){if(U0>4)E+=`
`.concat(r,"...").concat(n),c=!0;else if(U0>3)E+=`
  `.concat(U[A-2]),L0++;E+=`
  `.concat(U[A-1]),L0++}d=A,E+=`
`.concat(m,"+").concat(n," ").concat(U[A]),L0++}else{var R0=B[A],N0=U[A],_0=N0!==R0&&(!R(N0,",")||N0.slice(0,-1)!==R0);if(_0&&R(R0,",")&&R0.slice(0,-1)===N0)_0=!1,N0+=",";if(_0){if(U0>1&&A>2){if(U0>4)E+=`
`.concat(r,"...").concat(n),c=!0;else if(U0>3)E+=`
  `.concat(U[A-2]),L0++;E+=`
  `.concat(U[A-1]),L0++}d=A,E+=`
`.concat(m,"+").concat(n," ").concat(N0),L+=`
`.concat($0,"-").concat(n," ").concat(R0),L0+=2}else if(E+=L,L="",U0===1||A===0)E+=`
  `.concat(N0),L0++}if(L0>20&&A<X0-2)return"".concat(b0).concat(E0,`
`).concat(E,`
`).concat(r,"...").concat(n).concat(L,`
`)+"".concat(r,"...").concat(n)}return"".concat(b0).concat(c?E0:"",`
`).concat(E).concat(L).concat(s).concat(u)}var F0=function(I,V){w(L,I);var G=K(L);function L(E){var d;if(Q(this,L),b(E)!=="object"||E===null)throw new T("options","Object",E);var{message:s,operator:c,stackStartFn:D,actual:U,expected:B}=E,A=Error.stackTraceLimit;if(Error.stackTraceLimit=0,s!=null)d=G.call(this,String(s));else{if(process.stderr&&process.stderr.isTTY)if(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1)r="\x1B[34m",m="\x1B[32m",n="\x1B[39m",$0="\x1B[31m";else r="",m="",n="",$0="";if(b(U)==="object"&&U!==null&&b(B)==="object"&&B!==null&&"stack"in U&&U instanceof Error&&"stack"in B&&B instanceof Error)U=A0(U),B=A0(B);if(c==="deepStrictEqual"||c==="strictEqual")d=G.call(this,O0(U,B,c));else if(c==="notDeepStrictEqual"||c==="notStrictEqual"){var u=w0[c],P=V0(U).split(`
`);if(c==="notStrictEqual"&&b(U)==="object"&&U!==null)u=w0.notStrictEqualObject;if(P.length>30){P[26]="".concat(r,"...").concat(n);while(P.length>27)P.pop()}if(P.length===1)d=G.call(this,"".concat(u," ").concat(P[0]));else d=G.call(this,"".concat(u,`

`).concat(P.join(`
`),`
`))}else{var p=V0(U),t="",Y0=w0[c];if(c==="notDeepEqual"||c==="notEqual"){if(p="".concat(w0[c],`

`).concat(p),p.length>1024)p="".concat(p.slice(0,1021),"...")}else{if(t="".concat(V0(B)),p.length>512)p="".concat(p.slice(0,509),"...");if(t.length>512)t="".concat(t.slice(0,509),"...");if(c==="deepEqual"||c==="equal")p="".concat(Y0,`

`).concat(p,`

should equal

`);else t=" ".concat(c," ").concat(t)}d=G.call(this,"".concat(p).concat(t))}}if(Error.stackTraceLimit=A,d.generatedMessage=!s,Object.defineProperty(j(d),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),d.code="ERR_ASSERTION",d.actual=U,d.expected=B,d.operator=c,Error.captureStackTrace)Error.captureStackTrace(j(d),D);return d.stack,d.name="AssertionError",O(d)}return X(L,[{key:"toString",value:function E(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:V,value:function E(d,s){return a(this,J(J({},s),{},{customInspect:!1,depth:0}))}}]),L}(M(Error),a.custom);$.exports=F0}),W$=y((f,$)=>{var Z=Object.prototype.toString;$.exports=function J(z){var Q=Z.call(z),Y=Q==="[object Arguments]";if(!Y)Y=Q!=="[object Array]"&&z!==null&&typeof z==="object"&&typeof z.length==="number"&&z.length>=0&&Z.call(z.callee)==="[object Function]";return Y}}),YJ=y((f,$)=>{var Z;if(!Object.keys)J=Object.prototype.hasOwnProperty,z=Object.prototype.toString,Q=W$(),Y=Object.prototype.propertyIsEnumerable,X=!Y.call({toString:null},"toString"),W=Y.call(function(){},"prototype"),H=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],w=function(M){var S=M.constructor;return S&&S.prototype===M},K={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},O=function(){if(typeof window==="undefined")return!1;for(var M in window)try{if(!K["$"+M]&&J.call(window,M)&&window[M]!==null&&typeof window[M]==="object")try{w(window[M])}catch(S){return!0}}catch(S){return!0}return!1}(),j=function(M){if(typeof window==="undefined"||!O)return w(M);try{return w(M)}catch(S){return!1}},Z=function M(S){var v=S!==null&&typeof S==="object",g=z.call(S)==="[object Function]",x=Q(S),_=v&&z.call(S)==="[object String]",b=[];if(!v&&!g&&!x)throw new TypeError("Object.keys called on a non-object");var i=W&&g;if(_&&S.length>0&&!J.call(S,0))for(var a=0;a<S.length;++a)b.push(String(a));if(x&&S.length>0)for(var N=0;N<S.length;++N)b.push(String(N));else for(var T in S)if(!(i&&T==="prototype")&&J.call(S,T))b.push(String(T));if(X){var R=j(S);for(var h=0;h<H.length;++h)if(!(R&&H[h]==="constructor")&&J.call(S,H[h]))b.push(H[h])}return b};var J,z,Q,Y,X,W,H,w,K,O,j;$.exports=Z}),w$=y((f,$)=>{var Z=Array.prototype.slice,J=W$(),z=Object.keys,Q=z?function X(W){return z(W)}:YJ(),Y=Object.keys;Q.shim=function X(){if(Object.keys){var W=function(){var H=Object.keys(arguments);return H&&H.length===arguments.length}(1,2);if(!W)Object.keys=function H(w){if(J(w))return Y(Z.call(w));return Y(w)}}else Object.keys=Q;return Object.keys||Q},$.exports=Q}),XJ=y((f,$)=>{var Z=w$(),J=Tf()(),z=e0(),Q=Cf(),Y=z("Array.prototype.push"),X=z("Object.prototype.propertyIsEnumerable"),W=J?Q.getOwnPropertySymbols:null;$.exports=function H(w,K){if(w==null)throw new TypeError("target must be an object");var O=Q(w);if(arguments.length===1)return O;for(var j=1;j<arguments.length;++j){var M=Q(arguments[j]),S=Z(M),v=J&&(Q.getOwnPropertySymbols||W);if(v){var g=v(M);for(var x=0;x<g.length;++x){var _=g[x];if(X(M,_))Y(S,_)}}for(var b=0;b<S.length;++b){var i=S[b];if(X(M,i)){var a=M[i];O[i]=a}}}return O}}),WJ=y((f,$)=>{var Z=XJ(),J=function(){if(!Object.assign)return!1;var Q="abcdefghijklmnopqrst",Y=Q.split(""),X={};for(var W=0;W<Y.length;++W)X[Y[W]]=Y[W];var H=Object.assign({},X),w="";for(var K in H)w+=K;return Q!==w},z=function(){if(!Object.assign||!Object.preventExtensions)return!1;var Q=Object.preventExtensions({1:2});try{Object.assign(Q,"xy")}catch(Y){return Q[1]==="y"}return!1};$.exports=function Q(){if(!Object.assign)return Z;if(J())return Z;if(z())return Z;return Object.assign}}),H$=y((f,$)=>{var Z=function(J){return J!==J};$.exports=function J(z,Q){if(z===0&&Q===0)return 1/z===1/Q;if(z===Q)return!0;if(Z(z)&&Z(Q))return!0;return!1}}),Ef=y((f,$)=>{var Z=H$();$.exports=function J(){return typeof Object.is==="function"?Object.is:Z}}),wJ=y((f,$)=>{var Z=Pf(),J=y1(),z=J(Z("String.prototype.indexOf"));$.exports=function Q(Y,X){var W=Z(Y,!!X);if(typeof W==="function"&&z(Y,".prototype.")>-1)return J(W);return W}}),c1=y((f,$)=>{var Z=w$(),J=typeof Symbol==="function"&&typeof Symbol("foo")==="symbol",z=Object.prototype.toString,Q=Array.prototype.concat,Y=z$(),X=function(K){return typeof K==="function"&&z.call(K)==="[object Function]"},W=Q$()(),H=function(K,O,j,M){if(O in K){if(M===!0){if(K[O]===j)return}else if(!X(M)||!M())return}if(W)Y(K,O,j,!0);else Y(K,O,j)},w=function(K,O){var j=arguments.length>2?arguments[2]:{},M=Z(O);if(J)M=Q.call(M,Object.getOwnPropertySymbols(O));for(var S=0;S<M.length;S+=1)H(K,M[S],O[M[S]],j[M[S]])};w.supportsDescriptors=!!W,$.exports=w}),HJ=y((f,$)=>{var Z=Ef(),J=c1();$.exports=function z(){var Q=Z();return J(Object,{is:Q},{is:function Y(){return Object.is!==Q}}),Q}}),VJ=y((f,$)=>{var Z=c1(),J=y1(),z=H$(),Q=Ef(),Y=HJ(),X=J(Q(),Object);Z(X,{getPolyfill:Q,implementation:z,shim:Y}),$.exports=X}),V$=y((f,$)=>{$.exports=function Z(J){return J!==J}}),U$=y((f,$)=>{var Z=V$();$.exports=function J(){if(Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a"))return Number.isNaN;return Z}}),UJ=y((f,$)=>{var Z=c1(),J=U$();$.exports=function z(){var Q=J();return Z(Number,{isNaN:Q},{isNaN:function Y(){return Number.isNaN!==Q}}),Q}}),BJ=y((f,$)=>{var Z=y1(),J=c1(),z=V$(),Q=U$(),Y=UJ(),X=Z(Q(),Number);J(X,{getPolyfill:Q,implementation:z,shim:Y}),$.exports=X}),FJ=y((f,$)=>{function Z(F,q){return X(F)||Y(F,q)||z(F,q)||J()}function J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(F,q){if(!F)return;if(typeof F==="string")return Q(F,q);var k=Object.prototype.toString.call(F).slice(8,-1);if(k==="Object"&&F.constructor)k=F.constructor.name;if(k==="Map"||k==="Set")return Array.from(F);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return Q(F,q)}function Q(F,q){if(q==null||q>F.length)q=F.length;for(var k=0,l=new Array(q);k<q;k++)l[k]=F[k];return l}function Y(F,q){var k=F==null?null:typeof Symbol!="undefined"&&F[Symbol.iterator]||F["@@iterator"];if(k!=null){var l,o,f0,e,J0=[],z0=!0,q0=!1;try{if(f0=(k=k.call(F)).next,q===0){if(Object(k)!==k)return;z0=!1}else for(;!(z0=(l=f0.call(k)).done)&&(J0.push(l.value),J0.length!==q);z0=!0);}catch(C0){q0=!0,o=C0}finally{try{if(!z0&&k.return!=null&&(e=k.return(),Object(e)!==e))return}finally{if(q0)throw o}}return J0}}function X(F){if(Array.isArray(F))return F}function W(F){return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},W(F)}var H=/a/g.flags!==void 0,w=function F(q){var k=[];return q.forEach(function(l){return k.push(l)}),k},K=function F(q){var k=[];return q.forEach(function(l,o){return k.push([o,l])}),k},O=Object.is?Object.is:VJ(),j=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},M=Number.isNaN?Number.isNaN:BJ();function S(F){return F.call.bind(F)}var v=S(Object.prototype.hasOwnProperty),g=S(Object.prototype.propertyIsEnumerable),x=S(Object.prototype.toString),_=B1().types,b=_.isAnyArrayBuffer,i=_.isArrayBufferView,a=_.isDate,N=_.isMap,T=_.isRegExp,R=_.isSet,h=_.isNativeError,r=_.isBoxedPrimitive,m=_.isNumberObject,$0=_.isStringObject,n=_.isBooleanObject,w0=_.isBigIntObject,H0=_.isSymbolObject,A0=_.isFloat32Array,V0=_.isFloat64Array;function O0(F){if(F.length===0||F.length>10)return!0;for(var q=0;q<F.length;q++){var k=F.charCodeAt(q);if(k<48||k>57)return!0}return F.length===10&&F>=Math.pow(2,32)}function F0(F){return Object.keys(F).filter(O0).concat(j(F).filter(Object.prototype.propertyIsEnumerable.bind(F)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function I(F,q){if(F===q)return 0;var k=F.length,l=q.length;for(var o=0,f0=Math.min(k,l);o<f0;++o)if(F[o]!==q[o]){k=F[o],l=q[o];break}if(k<l)return-1;if(l<k)return 1;return 0}var V=void 0,G=!0,L=!1,E=0,d=1,s=2,c=3;function D(F,q){return H?F.source===q.source&&F.flags===q.flags:RegExp.prototype.toString.call(F)===RegExp.prototype.toString.call(q)}function U(F,q){if(F.byteLength!==q.byteLength)return!1;for(var k=0;k<F.byteLength;k++)if(F[k]!==q[k])return!1;return!0}function B(F,q){if(F.byteLength!==q.byteLength)return!1;return I(new Uint8Array(F.buffer,F.byteOffset,F.byteLength),new Uint8Array(q.buffer,q.byteOffset,q.byteLength))===0}function A(F,q){return F.byteLength===q.byteLength&&I(new Uint8Array(F),new Uint8Array(q))===0}function u(F,q){if(m(F))return m(q)&&O(Number.prototype.valueOf.call(F),Number.prototype.valueOf.call(q));if($0(F))return $0(q)&&String.prototype.valueOf.call(F)===String.prototype.valueOf.call(q);if(n(F))return n(q)&&Boolean.prototype.valueOf.call(F)===Boolean.prototype.valueOf.call(q);if(w0(F))return w0(q)&&BigInt.prototype.valueOf.call(F)===BigInt.prototype.valueOf.call(q);return H0(q)&&Symbol.prototype.valueOf.call(F)===Symbol.prototype.valueOf.call(q)}function P(F,q,k,l){if(F===q){if(F!==0)return!0;return k?O(F,q):!0}if(k){if(W(F)!=="object")return typeof F==="number"&&M(F)&&M(q);if(W(q)!=="object"||F===null||q===null)return!1;if(Object.getPrototypeOf(F)!==Object.getPrototypeOf(q))return!1}else{if(F===null||W(F)!=="object"){if(q===null||W(q)!=="object")return F==q;return!1}if(q===null||W(q)!=="object")return!1}var o=x(F),f0=x(q);if(o!==f0)return!1;if(Array.isArray(F)){if(F.length!==q.length)return!1;var e=F0(F,V),J0=F0(q,V);if(e.length!==J0.length)return!1;return t(F,q,k,l,d,e)}if(o==="[object Object]"){if(!N(F)&&N(q)||!R(F)&&R(q))return!1}if(a(F)){if(!a(q)||Date.prototype.getTime.call(F)!==Date.prototype.getTime.call(q))return!1}else if(T(F)){if(!T(q)||!D(F,q))return!1}else if(h(F)||F instanceof Error){if(F.message!==q.message||F.name!==q.name)return!1}else if(i(F)){if(!k&&(A0(F)||V0(F))){if(!U(F,q))return!1}else if(!B(F,q))return!1;var z0=F0(F,V),q0=F0(q,V);if(z0.length!==q0.length)return!1;return t(F,q,k,l,E,z0)}else if(R(F)){if(!R(q)||F.size!==q.size)return!1;return t(F,q,k,l,s)}else if(N(F)){if(!N(q)||F.size!==q.size)return!1;return t(F,q,k,l,c)}else if(b(F)){if(!A(F,q))return!1}else if(r(F)&&!u(F,q))return!1;return t(F,q,k,l,E)}function p(F,q){return q.filter(function(k){return g(F,k)})}function t(F,q,k,l,o,f0){if(arguments.length===5){f0=Object.keys(F);var e=Object.keys(q);if(f0.length!==e.length)return!1}var J0=0;for(;J0<f0.length;J0++)if(!v(q,f0[J0]))return!1;if(k&&arguments.length===5){var z0=j(F);if(z0.length!==0){var q0=0;for(J0=0;J0<z0.length;J0++){var C0=z0[J0];if(g(F,C0)){if(!g(q,C0))return!1;f0.push(C0),q0++}else if(g(q,C0))return!1}var Q1=j(q);if(z0.length!==Q1.length&&p(q,Q1).length!==q0)return!1}else{var p0=j(q);if(p0.length!==0&&p(q,p0).length!==0)return!1}}if(f0.length===0&&(o===E||o===d&&F.length===0||F.size===0))return!0;if(l===void 0)l={val1:new Map,val2:new Map,position:0};else{var Y1=l.val1.get(F);if(Y1!==void 0){var k0=l.val2.get(q);if(k0!==void 0)return Y1===k0}l.position++}l.val1.set(F,l.position),l.val2.set(q,l.position);var X1=R0(F,q,k,f0,l,o);return l.val1.delete(F),l.val2.delete(q),X1}function Y0(F,q,k,l){var o=w(F);for(var f0=0;f0<o.length;f0++){var e=o[f0];if(P(q,e,k,l))return F.delete(e),!0}return!1}function X0(F){switch(W(F)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":F=+F;case"number":if(M(F))return!1}return!0}function C(F,q,k){var l=X0(k);if(l!=null)return l;return q.has(l)&&!F.has(l)}function L0(F,q,k,l,o){var f0=X0(k);if(f0!=null)return f0;var e=q.get(f0);if(e===void 0&&!q.has(f0)||!P(l,e,!1,o))return!1;return!F.has(f0)&&P(l,e,!1,o)}function b0(F,q,k,l){var o=null,f0=w(F);for(var e=0;e<f0.length;e++){var J0=f0[e];if(W(J0)==="object"&&J0!==null){if(o===null)o=new Set;o.add(J0)}else if(!q.has(J0)){if(k)return!1;if(!C(F,q,J0))return!1;if(o===null)o=new Set;o.add(J0)}}if(o!==null){var z0=w(q);for(var q0=0;q0<z0.length;q0++){var C0=z0[q0];if(W(C0)==="object"&&C0!==null){if(!Y0(o,C0,k,l))return!1}else if(!k&&!F.has(C0)&&!Y0(o,C0,k,l))return!1}return o.size===0}return!0}function E0(F,q,k,l,o,f0){var e=w(F);for(var J0=0;J0<e.length;J0++){var z0=e[J0];if(P(k,z0,o,f0)&&P(l,q.get(z0),o,f0))return F.delete(z0),!0}return!1}function U0(F,q,k,l){var o=null,f0=K(F);for(var e=0;e<f0.length;e++){var J0=Z(f0[e],2),z0=J0[0],q0=J0[1];if(W(z0)==="object"&&z0!==null){if(o===null)o=new Set;o.add(z0)}else{var C0=q.get(z0);if(C0===void 0&&!q.has(z0)||!P(q0,C0,k,l)){if(k)return!1;if(!L0(F,q,z0,q0,l))return!1;if(o===null)o=new Set;o.add(z0)}}}if(o!==null){var Q1=K(q);for(var p0=0;p0<Q1.length;p0++){var Y1=Z(Q1[p0],2),k0=Y1[0],X1=Y1[1];if(W(k0)==="object"&&k0!==null){if(!E0(o,F,k0,X1,k,l))return!1}else if(!k&&(!F.has(k0)||!P(F.get(k0),X1,!1,l))&&!E0(o,F,k0,X1,!1,l))return!1}return o.size===0}return!0}function R0(F,q,k,l,o,f0){var e=0;if(f0===s){if(!b0(F,q,k,o))return!1}else if(f0===c){if(!U0(F,q,k,o))return!1}else if(f0===d)for(;e<F.length;e++)if(v(F,e)){if(!v(q,e)||!P(F[e],q[e],k,o))return!1}else if(v(q,e))return!1;else{var J0=Object.keys(F);for(;e<J0.length;e++){var z0=J0[e];if(!v(q,z0)||!P(F[z0],q[z0],k,o))return!1}if(J0.length!==Object.keys(q).length)return!1;return!0}for(e=0;e<l.length;e++){var q0=l[e];if(!P(F[q0],q[q0],k,o))return!1}return!0}function N0(F,q){return P(F,q,L)}function _0(F,q){return P(F,q,G)}$.exports={isDeepEqual:N0,isDeepStrictEqual:_0}}),jf=y((f,$)=>{function Z(D){return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},Z(D)}function J(D,U){for(var B=0;B<U.length;B++){var A=U[B];if(A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A)A.writable=!0;Object.defineProperty(D,Q(A.key),A)}}function z(D,U,B){if(U)J(D.prototype,U);if(B)J(D,B);return Object.defineProperty(D,"prototype",{writable:!1}),D}function Q(D){var U=Y(D,"string");return Z(U)==="symbol"?U:String(U)}function Y(D,U){if(Z(D)!=="object"||D===null)return D;var B=D[Symbol.toPrimitive];if(B!==void 0){var A=B.call(D,U||"default");if(Z(A)!=="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(D)}function X(D,U){if(!(D instanceof U))throw new TypeError("Cannot call a class as a function")}var W=X$(),H=W.codes,w=H.ERR_AMBIGUOUS_ARGUMENT,K=H.ERR_INVALID_ARG_TYPE,O=H.ERR_INVALID_ARG_VALUE,j=H.ERR_INVALID_RETURN_VALUE,M=H.ERR_MISSING_ARGS,S=QJ(),v=B1(),g=v.inspect,x=B1().types,_=x.isPromise,b=x.isRegExp,i=WJ()(),a=Ef()(),N=wJ()("RegExp.prototype.test"),T,R;function h(){var D=FJ();T=D.isDeepEqual,R=D.isDeepStrictEqual}var r=!1,m=$.exports=A0,$0={};function n(D){if(D.message instanceof Error)throw D.message;throw new S(D)}function w0(D,U,B,A,u){var P=arguments.length,p;if(P===0)p="Failed";else if(P===1)B=D,D=void 0;else{if(r===!1){r=!0;var t=process.emitWarning?process.emitWarning:console.warn.bind(console);t("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}if(P===2)A="!="}if(B instanceof Error)throw B;var Y0={actual:D,expected:U,operator:A===void 0?"fail":A,stackStartFn:u||w0};if(B!==void 0)Y0.message=B;var X0=new S(Y0);if(p)X0.message=p,X0.generatedMessage=!0;throw X0}m.fail=w0,m.AssertionError=S;function H0(D,U,B,A){if(!B){var u=!1;if(U===0)u=!0,A="No value argument passed to `assert.ok()`";else if(A instanceof Error)throw A;var P=new S({actual:B,expected:!0,message:A,operator:"==",stackStartFn:D});throw P.generatedMessage=u,P}}function A0(){for(var D=arguments.length,U=new Array(D),B=0;B<D;B++)U[B]=arguments[B];H0.apply(void 0,[A0,U.length].concat(U))}m.ok=A0,m.equal=function D(U,B,A){if(arguments.length<2)throw new M("actual","expected");if(U!=B)n({actual:U,expected:B,message:A,operator:"==",stackStartFn:D})},m.notEqual=function D(U,B,A){if(arguments.length<2)throw new M("actual","expected");if(U==B)n({actual:U,expected:B,message:A,operator:"!=",stackStartFn:D})},m.deepEqual=function D(U,B,A){if(arguments.length<2)throw new M("actual","expected");if(T===void 0)h();if(!T(U,B))n({actual:U,expected:B,message:A,operator:"deepEqual",stackStartFn:D})},m.notDeepEqual=function D(U,B,A){if(arguments.length<2)throw new M("actual","expected");if(T===void 0)h();if(T(U,B))n({actual:U,expected:B,message:A,operator:"notDeepEqual",stackStartFn:D})},m.deepStrictEqual=function D(U,B,A){if(arguments.length<2)throw new M("actual","expected");if(T===void 0)h();if(!R(U,B))n({actual:U,expected:B,message:A,operator:"deepStrictEqual",stackStartFn:D})},m.notDeepStrictEqual=V0;function V0(D,U,B){if(arguments.length<2)throw new M("actual","expected");if(T===void 0)h();if(R(D,U))n({actual:D,expected:U,message:B,operator:"notDeepStrictEqual",stackStartFn:V0})}m.strictEqual=function D(U,B,A){if(arguments.length<2)throw new M("actual","expected");if(!a(U,B))n({actual:U,expected:B,message:A,operator:"strictEqual",stackStartFn:D})},m.notStrictEqual=function D(U,B,A){if(arguments.length<2)throw new M("actual","expected");if(a(U,B))n({actual:U,expected:B,message:A,operator:"notStrictEqual",stackStartFn:D})};var O0=z(function D(U,B,A){var u=this;X(this,D),B.forEach(function(P){if(P in U)if(A!==void 0&&typeof A[P]==="string"&&b(U[P])&&N(U[P],A[P]))u[P]=A[P];else u[P]=U[P]})});function F0(D,U,B,A,u,P){if(!(B in D)||!R(D[B],U[B])){if(!A){var p=new O0(D,u),t=new O0(U,u,D),Y0=new S({actual:p,expected:t,operator:"deepStrictEqual",stackStartFn:P});throw Y0.actual=D,Y0.expected=U,Y0.operator=P.name,Y0}n({actual:D,expected:U,message:A,operator:P.name,stackStartFn:P})}}function I(D,U,B,A){if(typeof U!=="function"){if(b(U))return N(U,D);if(arguments.length===2)throw new K("expected",["Function","RegExp"],U);if(Z(D)!=="object"||D===null){var u=new S({actual:D,expected:U,message:B,operator:"deepStrictEqual",stackStartFn:A});throw u.operator=A.name,u}var P=Object.keys(U);if(U instanceof Error)P.push("name","message");else if(P.length===0)throw new O("error",U,"may not be an empty object");if(T===void 0)h();return P.forEach(function(p){if(typeof D[p]==="string"&&b(U[p])&&N(U[p],D[p]))return;F0(D,U,p,B,P,A)}),!0}if(U.prototype!==void 0&&D instanceof U)return!0;if(Error.isPrototypeOf(U))return!1;return U.call({},D)===!0}function V(D){if(typeof D!=="function")throw new K("fn","Function",D);try{D()}catch(U){return U}return $0}function G(D){return _(D)||D!==null&&Z(D)==="object"&&typeof D.then==="function"&&typeof D.catch==="function"}function L(D){return Promise.resolve().then(function(){var U;if(typeof D==="function"){if(U=D(),!G(U))throw new j("instance of Promise","promiseFn",U)}else if(G(D))U=D;else throw new K("promiseFn",["Function","Promise"],D);return Promise.resolve().then(function(){return U}).then(function(){return $0}).catch(function(B){return B})})}function E(D,U,B,A){if(typeof B==="string"){if(arguments.length===4)throw new K("error",["Object","Error","Function","RegExp"],B);if(Z(U)==="object"&&U!==null){if(U.message===B)throw new w("error/message",'The error message "'.concat(U.message,'" is identical to the message.'))}else if(U===B)throw new w("error/message",'The error "'.concat(U,'" is identical to the message.'));A=B,B=void 0}else if(B!=null&&Z(B)!=="object"&&typeof B!=="function")throw new K("error",["Object","Error","Function","RegExp"],B);if(U===$0){var u="";if(B&&B.name)u+=" (".concat(B.name,")");u+=A?": ".concat(A):".";var P=D.name==="rejects"?"rejection":"exception";n({actual:void 0,expected:B,operator:D.name,message:"Missing expected ".concat(P).concat(u),stackStartFn:D})}if(B&&!I(U,B,A,D))throw U}function d(D,U,B,A){if(U===$0)return;if(typeof B==="string")A=B,B=void 0;if(!B||I(U,B)){var u=A?": ".concat(A):".",P=D.name==="doesNotReject"?"rejection":"exception";n({actual:U,expected:B,operator:D.name,message:"Got unwanted ".concat(P).concat(u,`
`)+'Actual message: "'.concat(U&&U.message,'"'),stackStartFn:D})}throw U}m.throws=function D(U){for(var B=arguments.length,A=new Array(B>1?B-1:0),u=1;u<B;u++)A[u-1]=arguments[u];E.apply(void 0,[D,V(U)].concat(A))},m.rejects=function D(U){for(var B=arguments.length,A=new Array(B>1?B-1:0),u=1;u<B;u++)A[u-1]=arguments[u];return L(U).then(function(P){return E.apply(void 0,[D,P].concat(A))})},m.doesNotThrow=function D(U){for(var B=arguments.length,A=new Array(B>1?B-1:0),u=1;u<B;u++)A[u-1]=arguments[u];d.apply(void 0,[D,V(U)].concat(A))},m.doesNotReject=function D(U){for(var B=arguments.length,A=new Array(B>1?B-1:0),u=1;u<B;u++)A[u-1]=arguments[u];return L(U).then(function(P){return d.apply(void 0,[D,P].concat(A))})},m.ifError=function D(U){if(U!==null&&U!==void 0){var B="ifError got unwanted exception: ";if(Z(U)==="object"&&typeof U.message==="string")if(U.message.length===0&&U.constructor)B+=U.constructor.name;else B+=U.message;else B+=g(U);var A=new S({actual:U,expected:null,operator:"ifError",message:B,stackStartFn:D}),u=U.stack;if(typeof u==="string"){var P=u.split(`
`);P.shift();var p=A.stack.split(`
`);for(var t=0;t<P.length;t++){var Y0=p.indexOf(P[t]);if(Y0!==-1){p=p.slice(0,Y0);break}}A.stack="".concat(p.join(`
`),`
`).concat(P.join(`
`))}throw A}};function s(D,U,B,A,u){if(!b(U))throw new K("regexp","RegExp",U);var P=u==="match";if(typeof D!=="string"||N(U,D)!==P){if(B instanceof Error)throw B;var p=!B;B=B||(typeof D!=="string"?'The "string" argument must be of type string. Received type '+"".concat(Z(D)," (").concat(g(D),")"):(P?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(g(U),`. Input:

`).concat(g(D),`
`));var t=new S({actual:D,expected:U,message:B,operator:u,stackStartFn:A});throw t.generatedMessage=p,t}}m.match=function D(U,B,A){s(U,B,A,D,"match")},m.doesNotMatch=function D(U,B,A){s(U,B,A,D,"doesNotMatch")};function c(){for(var D=arguments.length,U=new Array(D),B=0;B<D;B++)U[B]=arguments[B];H0.apply(void 0,[c,U.length].concat(U))}m.strict=i(c,m,{equal:m.strictEqual,deepEqual:m.deepStrictEqual,notEqual:m.notStrictEqual,notDeepEqual:m.notDeepStrictEqual}),m.strict.strict=m.strict}),B$=C8(jf(),1),{AssertionError:GJ,CallTracker:KJ,deepEqual:DJ,deepStrictEqual:OJ,doesNotMatch:LJ,doesNotReject:MJ,doesNotThrow:AJ,equal:qJ,fail:jJ,ifError:TJ,match:CJ,notDeepEqual:NJ,notDeepStrictEqual:RJ,notEqual:IJ,notStrictEqual:SJ,ok:PJ,rejects:EJ,strict:bJ,strictEqual:_J,throws:vJ}=B$,gJ=B$});var D$=Z0((N6,K$)=>{var F$=12,xJ=0,bf=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function kJ(f){var $=f.indexOf("%");if($===-1)return f;var Z=f.length,J="",z=0,Q=0,Y=$,X=F$;while($>-1&&$<Z){var W=G$(f[$+1],4),H=G$(f[$+2],0),w=W|H,K=bf[w];if(X=bf[256+X+K],Q=Q<<6|w&bf[364+K],X===F$)J+=f.slice(z,Y),J+=Q<=65535?String.fromCharCode(Q):String.fromCharCode(55232+(Q>>10),56320+(Q&1023)),Q=0,z=$+3,$=Y=f.indexOf("%",z);else if(X===xJ)return null;else{if($+=3,$<Z&&f.charCodeAt($)===37)continue;return null}}return J+f.slice(z)}var uJ={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function G$(f,$){var Z=uJ[f];return Z===void 0?255:Z<<$}K$.exports=kJ});var q$=Z0((R6,A$)=>{var O$=D$(),L$=/\+/g,M$=function(){};M$.prototype=Object.create(null);function yJ(f){let $=new M$;if(typeof f!=="string")return $;let Z=f.length,J="",z="",Q=-1,Y=-1,X=!1,W=!1,H=!1,w=!1,K=!1,O=0;for(let j=0;j<Z+1;j++)if(O=j!==Z?f.charCodeAt(j):38,O===38){if(K=Y>Q,!K)Y=j;if(J=f.slice(Q+1,Y),K||J.length>0){if(H)J=J.replace(L$," ");if(X)J=O$(J)||J;if(K){if(z=f.slice(Y+1,j),w)z=z.replace(L$," ");if(W)z=O$(z)||z}let M=$[J];if(M===void 0)$[J]=z;else if(M.pop)M.push(z);else $[J]=[M,z]}z="",Q=j,Y=j,X=!1,W=!1,H=!1,w=!1}else if(O===61)if(Y<=Q)Y=j;else W=!0;else if(O===43)if(Y>Q)w=!0;else H=!0;else if(O===37)if(Y>Q)W=!0;else X=!0;return $}A$.exports=yJ});var T$=Z0((I6,j$)=>{var g0=Array.from({length:256},(f,$)=>"%"+(($<16?"0":"")+$.toString(16)).toUpperCase()),cJ=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function hJ(f){let $=f.length;if($===0)return"";let Z="",J=0,z=0;f:for(;z<$;z++){let Q=f.charCodeAt(z);while(Q<128){if(cJ[Q]!==1){if(J<z)Z+=f.slice(J,z);J=z+1,Z+=g0[Q]}if(++z===$)break f;Q=f.charCodeAt(z)}if(J<z)Z+=f.slice(J,z);if(Q<2048){J=z+1,Z+=g0[192|Q>>6]+g0[128|Q&63];continue}if(Q<55296||Q>=57344){J=z+1,Z+=g0[224|Q>>12]+g0[128|Q>>6&63]+g0[128|Q&63];continue}if(++z,z>=$)throw new Error("URI malformed");let Y=f.charCodeAt(z)&1023;J=z+1,Q=65536+((Q&1023)<<10|Y),Z+=g0[240|Q>>18]+g0[128|Q>>12&63]+g0[128|Q>>6&63]+g0[128|Q&63]}if(J===0)return f;if(J<$)return Z+f.slice(J);return Z}j$.exports={encodeString:hJ}});var R$=Z0((S6,N$)=>{var{encodeString:_f}=T$();function C$(f){let $=typeof f;if($==="string")return _f(f);else if($==="bigint")return f.toString();else if($==="boolean")return f?"true":"false";else if($==="number"&&Number.isFinite(f))return f<1000000000000000000000?""+f:_f(""+f);return""}function mJ(f){let $="";if(f===null||typeof f!=="object")return $;let Z="&",J=Object.keys(f),z=J.length,Q=0;for(let Y=0;Y<z;Y++){let X=J[Y],W=f[X],H=_f(X)+"=";if(Y)$+=Z;if(Array.isArray(W)){Q=W.length;for(let w=0;w<Q;w++){if(w)$+=Z;$+=H,$+=C$(W[w])}}else $+=H,$+=C$(W)}return $}N$.exports=mJ});var E$=Z0((P6,O1)=>{var I$=q$(),S$=R$(),P$={parse:I$,stringify:S$};O1.exports=P$;O1.exports.default=P$;O1.exports.parse=I$;O1.exports.stringify=S$});var _$=Z0((b$)=>{Object.defineProperty(b$,"__esModule",{value:!0})});var g$=Z0((v$)=>{Object.defineProperty(v$,"__esModule",{value:!0});v$.types=void 0;var dJ;(function(f){f[f.ROOT=0]="ROOT",f[f.GROUP=1]="GROUP",f[f.POSITION=2]="POSITION",f[f.SET=3]="SET",f[f.RANGE=4]="RANGE",f[f.REPETITION=5]="REPETITION",f[f.REFERENCE=6]="REFERENCE",f[f.CHAR=7]="CHAR"})(dJ=v$.types||(v$.types={}))});var k$=Z0((x$)=>{Object.defineProperty(x$,"__esModule",{value:!0})});var y0=Z0((u0)=>{var iJ=u0&&u0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),gf=u0&&u0.__exportStar||function(f,$){for(var Z in f)if(Z!=="default"&&!Object.prototype.hasOwnProperty.call($,Z))iJ($,f,Z)};Object.defineProperty(u0,"__esModule",{value:!0});gf(_$(),u0);gf(g$(),u0);gf(k$(),u0)});var h1=Z0((h$)=>{Object.defineProperty(h$,"__esModule",{value:!0});h$.anyChar=h$.notWhitespace=h$.whitespace=h$.notInts=h$.ints=h$.notWords=h$.words=void 0;var Q0=y0(),u$=()=>[{type:Q0.types.RANGE,from:48,to:57}],y$=()=>[{type:Q0.types.CHAR,value:95},{type:Q0.types.RANGE,from:97,to:122},{type:Q0.types.RANGE,from:65,to:90},{type:Q0.types.RANGE,from:48,to:57}],c$=()=>[{type:Q0.types.CHAR,value:9},{type:Q0.types.CHAR,value:10},{type:Q0.types.CHAR,value:11},{type:Q0.types.CHAR,value:12},{type:Q0.types.CHAR,value:13},{type:Q0.types.CHAR,value:32},{type:Q0.types.CHAR,value:160},{type:Q0.types.CHAR,value:5760},{type:Q0.types.RANGE,from:8192,to:8202},{type:Q0.types.CHAR,value:8232},{type:Q0.types.CHAR,value:8233},{type:Q0.types.CHAR,value:8239},{type:Q0.types.CHAR,value:8287},{type:Q0.types.CHAR,value:12288},{type:Q0.types.CHAR,value:65279}],nJ=()=>[{type:Q0.types.CHAR,value:10},{type:Q0.types.CHAR,value:13},{type:Q0.types.CHAR,value:8232},{type:Q0.types.CHAR,value:8233}];h$.words=()=>({type:Q0.types.SET,set:y$(),not:!1});h$.notWords=()=>({type:Q0.types.SET,set:y$(),not:!0});h$.ints=()=>({type:Q0.types.SET,set:u$(),not:!1});h$.notInts=()=>({type:Q0.types.SET,set:u$(),not:!0});h$.whitespace=()=>({type:Q0.types.SET,set:c$(),not:!1});h$.notWhitespace=()=>({type:Q0.types.SET,set:c$(),not:!0});h$.anyChar=()=>({type:Q0.types.SET,set:nJ(),not:!0})});var i$=Z0((I0)=>{var tJ=I0&&I0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),eJ=I0&&I0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),f9=I0&&I0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))tJ($,f,Z)}return eJ($,f),$};Object.defineProperty(I0,"__esModule",{value:!0});I0.tokenizeClass=I0.strToChars=void 0;var d$=y0(),f1=f9(h1()),$9="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";I0.strToChars=(f)=>{let $=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return f.replace($,(Z,J,z,Q,Y,X,W)=>{if(z)return Z;let H=J?8:Q?parseInt(Q,16):Y?parseInt(Y,16):X?$9.indexOf(X):{0:0,t:9,n:10,v:11,f:12,r:13}[W],w=String.fromCharCode(H);return/[[\]{}^$.|?*+()]/.test(w)?`\\${w}`:w})};I0.tokenizeClass=(f,$)=>{var Z,J,z,Q,Y,X,W;let H=[],w,K,O=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(((?:\\)])|(((?:\\)?([^\]])))))|(\])|(?:\\)?([^])/g;while((w=O.exec(f))!==null){let j=(W=(X=(Y=(Q=(z=(J=(Z=w[1]&&f1.words())!==null&&Z!==void 0?Z:w[2]&&f1.ints())!==null&&J!==void 0?J:w[3]&&f1.whitespace())!==null&&z!==void 0?z:w[4]&&f1.notWords())!==null&&Q!==void 0?Q:w[5]&&f1.notInts())!==null&&Y!==void 0?Y:w[6]&&f1.notWhitespace())!==null&&X!==void 0?X:w[7]&&{type:d$.types.RANGE,from:(w[8]||w[9]).charCodeAt(0),to:(K=w[10]).charCodeAt(K.length-1)})!==null&&W!==void 0?W:(K=w[16])&&{type:d$.types.CHAR,value:K.charCodeAt(0)};if(j)H.push(j);else return[H,O.lastIndex]}throw new SyntaxError(`Invalid regular expression: /${$}/: Unterminated character class`)}});var xf=Z0((x0)=>{var Z9=x0&&x0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),J9=x0&&x0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),p$=x0&&x0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))Z9($,f,Z)}return J9($,f),$};Object.defineProperty(x0,"__esModule",{value:!0});x0.tokenizer=void 0;var n$=p$(i$()),j0=y0(),d0=p$(h1()),z9=/^[a-zA-Z_$]$/i,Q9=/^[a-zA-Z0-9_$]$/i,l$=/\d/;x0.tokenizer=(f)=>{let $=0,Z,J={type:j0.types.ROOT,stack:[]},z=J,Q=J.stack,Y=[],X=[],W=0,H=(K)=>{throw new SyntaxError(`Invalid regular expression: /${f}/: Nothing to repeat at column ${K-1}`)},w=n$.strToChars(f);while($<w.length)switch(Z=w[$++]){case"\\":if($===w.length)throw new SyntaxError(`Invalid regular expression: /${f}/: \\ at end of pattern`);switch(Z=w[$++]){case"b":Q.push({type:j0.types.POSITION,value:"b"});break;case"B":Q.push({type:j0.types.POSITION,value:"B"});break;case"w":Q.push(d0.words());break;case"W":Q.push(d0.notWords());break;case"d":Q.push(d0.ints());break;case"D":Q.push(d0.notInts());break;case"s":Q.push(d0.whitespace());break;case"S":Q.push(d0.notWhitespace());break;default:if(l$.test(Z)){let K=Z;while($<w.length&&l$.test(w[$]))K+=w[$++];let O=parseInt(K,10),j={type:j0.types.REFERENCE,value:O};Q.push(j),X.push({reference:j,stack:Q,index:Q.length-1})}else Q.push({type:j0.types.CHAR,value:Z.charCodeAt(0)})}break;case"^":Q.push({type:j0.types.POSITION,value:"^"});break;case"$":Q.push({type:j0.types.POSITION,value:"$"});break;case"[":{let K;if(w[$]==="^")K=!0,$++;else K=!1;let O=n$.tokenizeClass(w.slice($),f);$+=O[1],Q.push({type:j0.types.SET,set:O[0],not:K});break}case".":Q.push(d0.anyChar());break;case"(":{let K={type:j0.types.GROUP,stack:[],remember:!0};if(w[$]==="?")if(Z=w[$+1],$+=2,Z==="=")K.followedBy=!0,K.remember=!1;else if(Z==="!")K.notFollowedBy=!0,K.remember=!1;else if(Z==="<"){let O="";if(z9.test(w[$]))O+=w[$],$++;else throw new SyntaxError(`Invalid regular expression: /${f}/: Invalid capture group name, character '${w[$]}' after '<' at column ${$+1}`);while($<w.length&&Q9.test(w[$]))O+=w[$],$++;if(!O)throw new SyntaxError(`Invalid regular expression: /${f}/: Invalid capture group name, character '${w[$]}' after '<' at column ${$+1}`);if(w[$]!==">")throw new SyntaxError(`Invalid regular expression: /${f}/: Unclosed capture group name, expected '>', found '${w[$]}' at column ${$+1}`);K.name=O,$++}else if(Z===":")K.remember=!1;else throw new SyntaxError(`Invalid regular expression: /${f}/: Invalid group, character '${Z}' after '?' at column ${$-1}`);else W+=1;Q.push(K),Y.push(z),z=K,Q=K.stack;break}case")":if(Y.length===0)throw new SyntaxError(`Invalid regular expression: /${f}/: Unmatched ) at column ${$-1}`);z=Y.pop(),Q=z.options?z.options[z.options.length-1]:z.stack;break;case"|":{if(!z.options)z.options=[z.stack],delete z.stack;let K=[];z.options.push(K),Q=K;break}case"{":{let K=/^(\d+)(,(\d+)?)?\}/.exec(w.slice($)),O,j;if(K!==null){if(Q.length===0)H($);O=parseInt(K[1],10),j=K[2]?K[3]?parseInt(K[3],10):1/0:O,$+=K[0].length,Q.push({type:j0.types.REPETITION,min:O,max:j,value:Q.pop()})}else Q.push({type:j0.types.CHAR,value:123});break}case"?":if(Q.length===0)H($);Q.push({type:j0.types.REPETITION,min:0,max:1,value:Q.pop()});break;case"+":if(Q.length===0)H($);Q.push({type:j0.types.REPETITION,min:1,max:1/0,value:Q.pop()});break;case"*":if(Q.length===0)H($);Q.push({type:j0.types.REPETITION,min:0,max:1/0,value:Q.pop()});break;default:Q.push({type:j0.types.CHAR,value:Z.charCodeAt(0)})}if(Y.length!==0)throw new SyntaxError(`Invalid regular expression: /${f}/: Unterminated group`);return Y9(X,W),J};function Y9(f,$){for(let Z of f.reverse())if($<Z.reference.value){Z.reference.type=j0.types.CHAR;let J=Z.reference.value.toString();if(Z.reference.value=parseInt(J,8),!/^[0-7]+$/.test(J)){let z=0;while(J[z]!=="8"&&J[z]!=="9")z+=1;if(z===0)Z.reference.value=J.charCodeAt(0),z+=1;else Z.reference.value=parseInt(J.slice(0,z),8);if(J.length>z){let Q=Z.stack.splice(Z.index+1);for(let Y of J.slice(z))Z.stack.push({type:j0.types.CHAR,value:Y.charCodeAt(0)});Z.stack.push(...Q)}}}}});var r$=Z0((T0)=>{var X9=T0&&T0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),W9=T0&&T0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),w9=T0&&T0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))X9($,f,Z)}return W9($,f),$};Object.defineProperty(T0,"__esModule",{value:!0});T0.NOTANYCHAR=T0.WHITESPACE=T0.WORDS=T0.INTS=void 0;var m1=w9(h1()),o$=y0();function d1(f){let $={},Z=0;for(let J of f){if(J.type===o$.types.CHAR)$[J.value]=!0;if(J.type===o$.types.RANGE)$[`${J.from}-${J.to}`]=!0;Z+=1}return{lookup:()=>Object.assign({},$),len:Z}}T0.INTS=d1(m1.ints().set);T0.WORDS=d1(m1.words().set);T0.WHITESPACE=d1(m1.whitespace().set);T0.NOTANYCHAR=d1(m1.anyChar().set)});var a$=Z0((S0)=>{var H9=S0&&S0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),V9=S0&&S0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),U9=S0&&S0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))H9($,f,Z)}return V9($,f),$};Object.defineProperty(S0,"__esModule",{value:!0});S0.writeSetTokens=S0.setChar=void 0;var p1=y0(),i1=U9(r$());function l1(f){return f===94?"\\^":f===92?"\\\\":f===93?"\\]":f===45?"\\-":String.fromCharCode(f)}S0.setChar=l1;function n1(f,{lookup:$,len:Z}){if(Z!==f.length)return!1;let J=$();for(let z of f){if(z.type===p1.types.SET)return!1;let Q=z.type===p1.types.CHAR?z.value:`${z.from}-${z.to}`;if(J[Q])J[Q]=!1;else return!1}return!0}function s$(f,$=!1){if(n1(f.set,i1.INTS))return f.not?"\\D":"\\d";if(n1(f.set,i1.WORDS))return f.not?"\\W":"\\w";if(f.not&&n1(f.set,i1.NOTANYCHAR))return".";if(n1(f.set,i1.WHITESPACE))return f.not?"\\S":"\\s";let Z="";for(let z=0;z<f.set.length;z++){let Q=f.set[z];Z+=B9(Q)}let J=`${f.not?"^":""}${Z}`;return $?J:`[${J}]`}S0.writeSetTokens=s$;function B9(f){if(f.type===p1.types.CHAR)return l1(f.value);else if(f.type===p1.types.RANGE)return`${l1(f.from)}-${l1(f.to)}`;return s$(f,!0)}});var uf=Z0((f7)=>{Object.defineProperty(f7,"__esModule",{value:!0});f7.reconstruct=void 0;var c0=y0(),kf=a$(),t$=(f)=>f.map(f7.reconstruct).join(""),e$=(f)=>{if("options"in f)return f.options.map(t$).join("|");else if("stack"in f)return t$(f.stack);else throw new Error("options or stack must be Root or Group token")};f7.reconstruct=(f)=>{switch(f.type){case c0.types.ROOT:return e$(f);case c0.types.CHAR:{let $=String.fromCharCode(f.value);return(/[[\\{}$^.|?*+()]/.test($)?"\\":"")+$}case c0.types.POSITION:if(f.value==="^"||f.value==="$")return f.value;else return`\\${f.value}`;case c0.types.REFERENCE:return`\\${f.value}`;case c0.types.SET:return kf.writeSetTokens(f);case c0.types.GROUP:return`(${f.name?`?<${f.name}>`:f.remember?"":f.followedBy?"?=":f.notFollowedBy?"?!":"?:"}${e$(f)})`;case c0.types.REPETITION:{let{min:$,max:Z}=f,J;if($===0&&Z===1)J="?";else if($===1&&Z===1/0)J="+";else if($===0&&Z===1/0)J="*";else if(Z===1/0)J=`{${$},}`;else if($===Z)J=`{${$}}`;else J=`{${$},${Z}}`;return`${f7.reconstruct(f.value)}${J}`}case c0.types.RANGE:return`${kf.setChar(f.from)}-${kf.setChar(f.to)}`;default:throw new Error(`Invalid token type ${f}`)}}});var J7=Z0((P0,r1)=>{var F9=P0&&P0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),yf=P0&&P0.__exportStar||function(f,$){for(var Z in f)if(Z!=="default"&&!Object.prototype.hasOwnProperty.call($,Z))F9($,f,Z)};Object.defineProperty(P0,"__esModule",{value:!0});P0.types=void 0;var $7=y0();Object.defineProperty(P0,"types",{enumerable:!0,get:function(){return $7.types}});yf(xf(),P0);yf(uf(),P0);var Z7=xf(),G9=uf();yf(y0(),P0);P0.default=Z7.tokenizer;r1.exports=Z7.tokenizer;r1.exports.types=$7.types;r1.exports.reconstruct=G9.reconstruct});var Q7=Z0((h6,s1)=>{var z7=J7(),K9=z7.types;function cf(f,$){if(!$)$={};let Z=$.limit===void 0?25:$.limit;if(D9(f))f=f.source;else if(typeof f!=="string")f=String(f);try{f=z7(f)}catch{return!1}let J=0;return function z(Q,Y){let X,W,H;if(Q.type===K9.REPETITION){if(Y++,J++,Y>1)return!1;if(J>Z)return!1}if(Q.options){for(X=0,H=Q.options.length;X<H;X++)if(W=z({stack:Q.options[X]},Y),!W)return!1}let w=Q.stack||Q.value?.stack;if(!w)return!0;for(X=0;X<w.length;X++)if(W=z(w[X],Y),!W)return!1;return!0}(f,0)}function D9(f){return{}.toString.call(f)==="[object RegExp]"}s1.exports=cf;s1.exports.default=cf;s1.exports.safeRegex=cf});var hf=Z0((m6,Y7)=>{Y7.exports=function f($,Z){if($===Z)return!0;if($&&Z&&typeof $=="object"&&typeof Z=="object"){if($.constructor!==Z.constructor)return!1;var J,z,Q;if(Array.isArray($)){if(J=$.length,J!=Z.length)return!1;for(z=J;z--!==0;)if(!f($[z],Z[z]))return!1;return!0}if($.constructor===RegExp)return $.source===Z.source&&$.flags===Z.flags;if($.valueOf!==Object.prototype.valueOf)return $.valueOf()===Z.valueOf();if($.toString!==Object.prototype.toString)return $.toString()===Z.toString();if(Q=Object.keys($),J=Q.length,J!==Object.keys(Z).length)return!1;for(z=J;z--!==0;)if(!Object.prototype.hasOwnProperty.call(Z,Q[z]))return!1;for(z=J;z--!==0;){var Y=Q[z];if(!f($[Y],Z[Y]))return!1}return!0}return $!==$&&Z!==Z}});var a1=Z0((d6,X7)=>{X7.exports={name:"__fmw_internal_strategy_merged_tree_http_method__",storage:function(){let f=new Map;return{get:($)=>{return f.get($)||null},set:($,Z)=>{f.set($,Z)}}},deriveConstraint:(f)=>f.method,mustMatchWhenDerived:!0}});var F7=Z0((i6,B7)=>{var W7=hf(),w7=a1(),H7=Symbol("treeData");function V7(f,$=""){let Z="",J=Object.keys(f);for(let z=0;z<J.length;z++){let Q=J[z],Y=f[Q],X=z===J.length-1,W=X?" ":" ",H=X?"    ":"   ",K=(Y[H7]||"").replaceAll(`
`,`
`+$+H);Z+=$+W+Q+K+`
`,Z+=V7(Y,$+H)}return Z}function O9(f){let $=f.name||"";return $=$.replace("bound","").trim(),$=($||"anonymous")+"()",$}function U7(f){if(Array.isArray(f))return f.map(($)=>U7($));if(typeof f==="symbol")return f.toString();if(typeof f==="function")return O9(f);return f}function L9(f,$){if(!$.includeMeta)return{};let Z=$.buildPrettyMeta(f),J={},z=$.includeMeta;if(!Array.isArray(z))z=Reflect.ownKeys(Z);for(let Q of z){if(!Object.prototype.hasOwnProperty.call(Z,Q))continue;let Y=Q.toString(),X=Z[Q];if(X!==void 0&&X!==null){let W=JSON.stringify(U7(X));J[Y]=W}}return J}function M9(f){let $="";for(let[Z,J]of Object.entries(f))$+=`
 (${Z}) ${J}`;return $}function A9(f){let $={...f.opts.constraints},Z=$[w7.name];return delete $[w7.name],{...f,method:Z,opts:{constraints:$}}}function q9(f){let $=` (${f.method})`,Z=f.opts.constraints||{};if(Object.keys(Z).length!==0)$+=" "+JSON.stringify(Z);return $+=M9(f.metaData),$}function j9(f){return f.reduce(($,Z)=>{for(let J of $)if(W7(Z.opts.constraints,J.opts.constraints)&&W7(Z.metaData,J.metaData))return J.method+=", "+Z.method,$;return $.push(Z),$},[])}function T9(f,$,Z){let J=f.routes;if(Z.method===void 0)J=J.map(A9);if(J=J.map((z)=>{return z.metaData=L9(z,Z),z}),Z.method===void 0)J=j9(J);return J.map(q9).join(`
${$}`)}function t1(f,$,Z,J){if(f.isLeafNode||J.commonPrefix!==!1){if(Z=Z||"(empty root node)",$=$[Z]={},f.isLeafNode)$[H7]=T9(f,Z,J);Z=""}if(f.staticChildren)for(let z of Object.values(f.staticChildren))t1(z,$,Z+z.prefix,J);if(f.parametricChildren)for(let z of Object.values(f.parametricChildren)){let Q=Array.from(z.nodePaths).join("|");t1(z,$,Z+Q,J)}if(f.wildcardChild)t1(f.wildcardChild,$,"*",J)}function C9(f,$){let Z={};return t1(f,Z,f.prefix,$),V7(Z)}B7.exports={prettyPrintTree:C9}});var D7=Z0((n6,K7)=>{var G7=function(){};G7.prototype=Object.create(null);K7.exports={NullObject:G7}});var M7=Z0((l6,L7)=>{var{NullObject:N9}=D7(),R9=a1();class O7{constructor(){this.unconstrainedHandler=null,this.constraints=[],this.handlers=[],this.constrainedHandlerStores=null}getMatchingHandler(f){if(f===void 0)return this.unconstrainedHandler;return this._getHandlerMatchingConstraints(f)}addHandler(f,$){let Z=$.params,J=$.opts.constraints||{},z={params:Z,constraints:J,handler:$.handler,store:$.store||null,_createParamsObject:this._compileCreateParamsObject(Z)},Q=Object.keys(J);if(Q.length===0)this.unconstrainedHandler=z;for(let X of Q)if(!this.constraints.includes(X))if(X==="version")this.constraints.unshift(X);else this.constraints.push(X);let Y=Q.includes(R9.name);if(!Y&&this.handlers.length>=31)throw new Error("find-my-way supports a maximum of 31 route handlers per node when there are constraints, limit reached");if(this.handlers.push(z),this.handlers.sort((X,W)=>Object.keys(X.constraints).length-Object.keys(W.constraints).length),!Y)this._compileGetHandlerMatchingConstraints(f,J)}_compileCreateParamsObject(f){let $=[];$.push("const fn = function _createParamsObject (paramsArray) {"),$.push("const params = new NullObject()");for(let Z=0;Z<f.length;Z++)$.push(`params['${f[Z]}'] = paramsArray[${Z}]`);return $.push("return params"),$.push("}"),$.push("return fn"),new Function("NullObject",$.join(`
`))(N9)}_getHandlerMatchingConstraints(){return null}_buildConstraintStore(f,$){for(let Z=0;Z<this.handlers.length;Z++){let z=this.handlers[Z].constraints[$];if(z!==void 0){let Q=f.get(z)||0;Q|=1<<Z,f.set(z,Q)}}}_constrainedIndexBitmask(f){let $=0;for(let Z=0;Z<this.handlers.length;Z++)if(this.handlers[Z].constraints[f]!==void 0)$|=1<<Z;return~$}_compileGetHandlerMatchingConstraints(f){this.constrainedHandlerStores={};for(let Z of this.constraints){let J=f.newStoreForConstraint(Z);this.constrainedHandlerStores[Z]=J,this._buildConstraintStore(J,Z)}let $=[];$.push(`
    let candidates = ${(1<<this.handlers.length)-1}
    let mask, matches
    `);for(let Z of this.constraints){$.push(`
      mask = ${this._constrainedIndexBitmask(Z)}
      value = derivedConstraints.${Z}
      `);let z=f.strategies[Z].mustMatchWhenDerived?"matches":"(matches | mask)";$.push(`
      if (value === undefined) {
        candidates &= mask
      } else {
        matches = this.constrainedHandlerStores.${Z}.get(value) || 0
        candidates &= ${z}
      }
      if (candidates === 0) return null;
      `)}for(let Z in f.strategies)if(f.strategies[Z].mustMatchWhenDerived&&!this.constraints.includes(Z))$.push(`if (derivedConstraints.${Z} !== undefined) return null`);$.push("return this.handlers[Math.floor(Math.log2(candidates))]"),this._getHandlerMatchingConstraints=new Function("derivedConstraints",$.join(`
`))}}L7.exports=O7});var q7=Z0((p6,A7)=>{var I9=M7(),e1={STATIC:0,PARAMETRIC:1,WILDCARD:2};class mf{constructor(){this.isLeafNode=!1,this.routes=null,this.handlerStorage=null}addRoute(f,$){if(this.routes===null)this.routes=[];if(this.handlerStorage===null)this.handlerStorage=new I9;this.isLeafNode=!0,this.routes.push(f),this.handlerStorage.addHandler($,f)}}class df extends mf{constructor(){super();this.staticChildren={}}findStaticMatchingChild(f,$){let Z=this.staticChildren[f.charAt($)];if(Z===void 0||!Z.matchPrefix(f,$))return null;return Z}getStaticChild(f,$=0){if(f.length===$)return this;let Z=this.findStaticMatchingChild(f,$);if(Z)return Z.getStaticChild(f,$+Z.prefix.length);return null}createStaticChild(f){if(f.length===0)return this;let $=this.staticChildren[f.charAt(0)];if($){let J=1;for(;J<$.prefix.length;J++)if(f.charCodeAt(J)!==$.prefix.charCodeAt(J)){$=$.split(this,J);break}return $.createStaticChild(f.slice(J))}let Z=f.charAt(0);return this.staticChildren[Z]=new ff(f),this.staticChildren[Z]}}class ff extends df{constructor(f){super();this.prefix=f,this.wildcardChild=null,this.parametricChildren=[],this.kind=e1.STATIC,this._compilePrefixMatch()}getParametricChild(f){let $=f&&f.source,Z=this.parametricChildren.find((J)=>{return(J.regex&&J.regex.source)===$});if(Z)return Z;return null}createParametricChild(f,$,Z){let J=this.getParametricChild(f);if(J)return J.nodePaths.add(Z),J;return J=new nf(f,$,Z),this.parametricChildren.push(J),this.parametricChildren.sort((z,Q)=>{if(!z.isRegex)return 1;if(!Q.isRegex)return-1;if(z.staticSuffix===null)return 1;if(Q.staticSuffix===null)return-1;if(Q.staticSuffix.endsWith(z.staticSuffix))return 1;if(z.staticSuffix.endsWith(Q.staticSuffix))return-1;return 0}),J}getWildcardChild(){return this.wildcardChild}createWildcardChild(){return this.wildcardChild=this.getWildcardChild()||new lf,this.wildcardChild}split(f,$){let Z=this.prefix.slice(0,$),J=this.prefix.slice($);this.prefix=J,this._compilePrefixMatch();let z=new ff(Z);return z.staticChildren[J.charAt(0)]=this,f.staticChildren[Z.charAt(0)]=z,z}getNextNode(f,$,Z,J){let z=this.findStaticMatchingChild(f,$),Q=0;if(z===null){if(this.parametricChildren.length===0)return this.wildcardChild;z=this.parametricChildren[0],Q=1}if(this.wildcardChild!==null)Z.push({paramsCount:J,brotherPathIndex:$,brotherNode:this.wildcardChild});for(let Y=this.parametricChildren.length-1;Y>=Q;Y--)Z.push({paramsCount:J,brotherPathIndex:$,brotherNode:this.parametricChildren[Y]});return z}_compilePrefixMatch(){if(this.prefix.length===1){this.matchPrefix=()=>!0;return}let f=[];for(let $=1;$<this.prefix.length;$++){let Z=this.prefix.charCodeAt($);f.push(`path.charCodeAt(i + ${$}) === ${Z}`)}this.matchPrefix=new Function("path","i",`return ${f.join(" && ")}`)}}class nf extends df{constructor(f,$,Z){super();this.isRegex=!!f,this.regex=f||null,this.staticSuffix=$||null,this.kind=e1.PARAMETRIC,this.nodePaths=new Set([Z])}getNextNode(f,$){return this.findStaticMatchingChild(f,$)}}class lf extends mf{constructor(){super();this.kind=e1.WILDCARD}getNextNode(){return null}}A7.exports={StaticNode:ff,ParametricNode:nf,WildcardNode:lf,NODE_TYPES:e1}});var T7=Z0((o6,j7)=>{var S9=(D1(),o0(K1));function L1(){if(!(this instanceof L1))return new L1;this.store=new Map,this.maxMajor=0,this.maxMinors={},this.maxPatches={}}L1.prototype.set=function(f,$){if(typeof f!=="string")throw new TypeError("Version should be a string");let[Z,J,z]=f.split(".",3);if(isNaN(Z))throw new TypeError("Major version must be a numeric value");if(Z=Number(Z),J=Number(J)||0,z=Number(z)||0,Z>=this.maxMajor)this.maxMajor=Z,this.store.set("x",$),this.store.set("*",$),this.store.set("x.x",$),this.store.set("x.x.x",$);if(J>=(this.maxMinors[Z]||0))this.maxMinors[Z]=J,this.store.set(`${Z}.x`,$),this.store.set(`${Z}.x.x`,$);if(z>=(this.maxPatches[`${Z}.${J}`]||0))this.maxPatches[`${Z}.${J}`]=z,this.store.set(`${Z}.${J}.x`,$);return this.store.set(`${Z}.${J}.${z}`,$),this};L1.prototype.get=function(f){return this.store.get(f)};j7.exports={name:"version",mustMatchWhenDerived:!0,storage:L1,validate(f){S9(typeof f==="string","Version should be a string")}}});var N7=Z0((r6,C7)=>{var P9=(D1(),o0(K1));function E9(){let f=new Map,$=[];return{get:(Z)=>{let J=f.get(Z);if(J)return J;for(let z of $)if(z.host.test(Z))return z.value},set:(Z,J)=>{if(Z instanceof RegExp)$.push({host:Z,value:J});else f.set(Z,J)}}}C7.exports={name:"host",mustMatchWhenDerived:!1,storage:E9,validate(f){P9(typeof f==="string"||Object.prototype.toString.call(f)==="[object RegExp]","Host should be a string or a RegExp")}}});var S7=Z0((s6,I7)=>{var b9=T7(),_9=N7(),pf=(D1(),o0(K1));class R7{constructor(f){if(this.strategies={version:b9,host:_9},this.strategiesInUse=new Set,this.asyncStrategiesInUse=new Set,f)for(let $ of Object.values(f))this.addConstraintStrategy($)}isStrategyUsed(f){return this.strategiesInUse.has(f)||this.asyncStrategiesInUse.has(f)}hasConstraintStrategy(f){let $=this.strategies[f];if($!==void 0)return $.isCustom||this.isStrategyUsed(f);return!1}addConstraintStrategy(f){if(pf(typeof f.name==="string"&&f.name!=="","strategy.name is required."),pf(f.storage&&typeof f.storage==="function","strategy.storage function is required."),pf(f.deriveConstraint&&typeof f.deriveConstraint==="function","strategy.deriveConstraint function is required."),this.strategies[f.name]&&this.strategies[f.name].isCustom)throw new Error(`There already exists a custom constraint with the name ${f.name}.`);if(this.isStrategyUsed(f.name))throw new Error(`There already exists a route with ${f.name} constraint.`);if(f.isCustom=!0,f.isAsync=f.deriveConstraint.length===3,this.strategies[f.name]=f,f.mustMatchWhenDerived)this.noteUsage({[f.name]:f})}deriveConstraints(f,$,Z){let J=this.deriveSyncConstraints(f,$);if(Z===void 0)return J;this.deriveAsyncConstraints(J,f,$,Z)}deriveSyncConstraints(f,$){return}noteUsage(f){if(f){let $=this.strategiesInUse.size;for(let Z in f)if(this.strategies[Z].isAsync)this.asyncStrategiesInUse.add(Z);else this.strategiesInUse.add(Z);if($!==this.strategiesInUse.size)this._buildDeriveConstraints()}}newStoreForConstraint(f){if(!this.strategies[f])throw new Error(`No strategy registered for constraint key ${f}`);return this.strategies[f].storage()}validateConstraints(f){for(let $ in f){let Z=f[$];if(typeof Z==="undefined")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let J=this.strategies[$];if(!J)throw new Error(`No strategy registered for constraint key ${$}`);if(J.validate)J.validate(Z)}}deriveAsyncConstraints(f,$,Z,J){let z=this.asyncStrategiesInUse.size;if(z===0){J(null,f);return}f=f||{};for(let Q of this.asyncStrategiesInUse)this.strategies[Q].deriveConstraint($,Z,(X,W)=>{if(X!==null){J(X);return}if(f[Q]=W,--z===0)J(null,f)})}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let f=["return {"];for(let $ of this.strategiesInUse){let Z=this.strategies[$];if(!Z.isCustom)if($==="version")f.push("   version: req.headers['accept-version'],");else f.push("   host: req.headers.host || req.headers[':authority'],");else f.push(`  ${Z.name}: this.strategies.${$}.deriveConstraint(req, ctx),`)}f.push("}"),this.deriveSyncConstraints=new Function("req","ctx",f.join(`
`)).bind(this)}}I7.exports=R7});var E7=Z0((a6,P7)=>{var v9=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","QUERY","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];P7.exports=v9});var v7=Z0((t6,_7)=>{function b7(f,$){if(f===50){if($===53)return"%";if($===51)return"#";if($===52)return"$";if($===54)return"&";if($===66)return"+";if($===98)return"+";if($===67)return",";if($===99)return",";if($===70)return"/";if($===102)return"/";return null}if(f===51){if($===65)return":";if($===97)return":";if($===66)return";";if($===98)return";";if($===68)return"=";if($===100)return"=";if($===70)return"?";if($===102)return"?";return null}if(f===52&&$===48)return"@";return null}function g9(f,$){let Z=!1,J=!1,z="";for(let Y=1;Y<f.length;Y++){let X=f.charCodeAt(Y);if(X===37){let W=f.charCodeAt(Y+1),H=f.charCodeAt(Y+2);if(b7(W,H)===null)Z=!0;else{if(J=!0,W===50&&H===53)Z=!0,f=f.slice(0,Y+1)+"25"+f.slice(Y+1),Y+=2;Y+=2}}else if(X===63||X===35||X===59&&$){z=f.slice(Y+1),f=f.slice(0,Y);break}}return{path:Z?decodeURI(f):f,querystring:z,shouldDecodeParam:J}}function x9(f){let $=f.indexOf("%");if($===-1)return f;let Z="",J=$;for(let z=$;z<f.length;z++)if(f.charCodeAt(z)===37){let Q=f.charCodeAt(z+1),Y=f.charCodeAt(z+2),X=b7(Q,Y);Z+=f.slice(J,z)+X,J=z+3}return f.slice(0,$)+Z+f.slice(J)}_7.exports={safeDecodeURI:g9,safeDecodeURIComponent:x9}});var n7=Z0((e6,i7)=>{var K0=(D1(),o0(K1)),k9=E$(),Z1=Q7(),rf=hf(),{prettyPrintTree:u9}=F7(),{StaticNode:g7,NODE_TYPES:x7}=q7(),y9=S7(),$1=E7(),of=a1(),{safeDecodeURI:c9,safeDecodeURIComponent:k7}=v7(),u7=/^https?:\/\/.*?\//,i0=/(\/:[^/()]*?)\?(\/?)/,y7=/[.*+?^${}()|[\]\\]/g,c7=/\/\/+/g;if(!Z1(u7))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!Z1(i0))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");if(!Z1(y7))throw new Error("the ESCAPE_REGEXP is not safe, update this module");if(!Z1(c7))throw new Error("the REMOVE_DUPLICATE_SLASHES_REGEXP is not safe, update this module");function B0(f){if(!(this instanceof B0))return new B0(f);if(f=f||{},this._opts=f,f.defaultRoute)K0(typeof f.defaultRoute==="function","The default route must be a function"),this.defaultRoute=f.defaultRoute;else this.defaultRoute=null;if(f.onBadUrl)K0(typeof f.onBadUrl==="function","The bad url handler must be a function"),this.onBadUrl=f.onBadUrl;else this.onBadUrl=null;if(f.buildPrettyMeta)K0(typeof f.buildPrettyMeta==="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=f.buildPrettyMeta;else this.buildPrettyMeta=h9;if(f.querystringParser)K0(typeof f.querystringParser==="function","querystringParser must be a function"),this.querystringParser=f.querystringParser;else this.querystringParser=($)=>$.length===0?{}:k9.parse($);this.caseSensitive=f.caseSensitive===void 0?!0:f.caseSensitive,this.ignoreTrailingSlash=f.ignoreTrailingSlash||!1,this.ignoreDuplicateSlashes=f.ignoreDuplicateSlashes||!1,this.maxParamLength=f.maxParamLength||100,this.allowUnsafeRegex=f.allowUnsafeRegex||!1,this.constrainer=new y9(f.constraints),this.useSemicolonDelimiter=f.useSemicolonDelimiter||!1,this.routes=[],this.trees={}}B0.prototype.on=function f($,Z,J,z,Q){if(typeof J==="function"){if(z!==void 0)Q=z;z=J,J={}}K0(typeof Z==="string","Path should be a string"),K0(Z.length>0,"The path could not be empty"),K0(Z[0]==="/"||Z[0]==="*","The first character of a path should be `/` or `*`"),K0(typeof z==="function","Handler should be a function");let Y=Z.match(i0);if(Y){K0(Z.length===Y.index+Y[0].length,"Optional Parameter needs to be the last parameter of the path");let H=Z.replace(i0,"$1$2"),w=Z.replace(i0,"$2")||"/";this.on($,H,J,z,Q),this.on($,w,J,z,Q);return}let X=Z;if(this.ignoreDuplicateSlashes)Z=sf(Z);if(this.ignoreTrailingSlash)Z=af(Z);let W=Array.isArray($)?$:[$];for(let H of W)K0(typeof H==="string","Method should be a string"),K0($1.includes(H),`Method '${H}' is not an http method.`),this._on(H,Z,J,z,Q,X)};B0.prototype._on=function f($,Z,J,z,Q){let Y={};if(J.constraints!==void 0){if(K0(typeof J.constraints==="object"&&J.constraints!==null,"Constraints should be an object"),Object.keys(J.constraints).length!==0)Y=J.constraints}if(this.constrainer.validateConstraints(Y),this.constrainer.noteUsage(Y),this.trees[$]===void 0)this.trees[$]=new g7("/");let X=Z;if(X==="*"&&this.trees[$].prefix.length!==0){let O=this.trees[$];this.trees[$]=new g7(""),this.trees[$].staticChildren["/"]=O}let W=this.trees[$],H=W.prefix.length,w=[];for(let O=0;O<=X.length;O++){if(X.charCodeAt(O)===58&&X.charCodeAt(O+1)===58){O++;continue}let j=X.charCodeAt(O)===58&&X.charCodeAt(O+1)!==58,M=X.charCodeAt(O)===42;if(j||M||O===X.length&&O!==H){let S=X.slice(H,O);if(!this.caseSensitive)S=S.toLowerCase();S=S.replaceAll("::",":"),S=S.replaceAll("%","%25"),W=W.createStaticChild(S)}if(j){let S=!1,v=!0,g="",x=[],_=O+1;for(let b=_;;b++){let i=X.charCodeAt(b),a=i===40,N=i===45||i===46,T=i===47||b===X.length;if(a||N||T){let R=X.slice(_,b);if(w.push(R),S=S||a||N,a){let m=d7(X,b),$0=X.slice(b,m+1);if(!this.allowUnsafeRegex)K0(Z1(new RegExp($0)),`The regex '${$0}' is not safe!`);x.push(m7($0)),b=m+1,v=!0}else x.push(v?"(.*?)":`(${g}|(?:(?!${g}).)*)`),v=!1;let h=b;for(;b<X.length;b++){let m=X.charCodeAt(b);if(m===47)break;if(m===58)if(X.charCodeAt(b+1)===58)b++;else break}let r=X.slice(h,b);if(r)r=r.replaceAll("::",":"),r=r.replaceAll("%","%25"),x.push(g=h7(r));if(_=b+1,T||X.charCodeAt(b)===47||b===X.length){let m=S?"()"+r:r,$0=X.slice(O,b);X=X.slice(0,O+1)+m+X.slice(b),O+=m.length;let n=S?new RegExp("^"+x.join("")+"$"):null;W=W.createParametricChild(n,r||null,$0),H=O+1;break}}}}else if(M){if(w.push("*"),W=W.createWildcardChild(),H=O+1,O!==X.length-1)throw new Error("Wildcard must be the last character in the route")}}if(!this.caseSensitive)X=X.toLowerCase();if(X==="*")X="/*";for(let O of this.routes){let j=O.opts.constraints||{};if(O.method===$&&O.pattern===X&&rf(j,Y))throw new Error(`Method '${$}' already declared for route '${X}' with constraints '${JSON.stringify(Y)}'`)}let K={method:$,path:Z,pattern:X,params:w,opts:J,handler:z,store:Q};this.routes.push(K),W.addRoute(K,this.constrainer)};B0.prototype.hasRoute=function f($,Z,J){return this.findRoute($,Z,J)!==null};B0.prototype.findRoute=function f($,Z,J={}){if(this.trees[$]===void 0)return null;let z=Z,Q=this.trees[$],Y=Q.prefix.length,X=[];for(let W=0;W<=z.length;W++){if(z.charCodeAt(W)===58&&z.charCodeAt(W+1)===58){W++;continue}let H=z.charCodeAt(W)===58&&z.charCodeAt(W+1)!==58,w=z.charCodeAt(W)===42;if(H||w||W===z.length&&W!==Y){let K=z.slice(Y,W);if(!this.caseSensitive)K=K.toLowerCase();if(K=K.replaceAll("::",":"),K=K.replaceAll("%","%25"),Q=Q.getStaticChild(K),Q===null)return null}if(H){let K=!1,O=!0,j="",M=[],S=W+1;for(let v=S;;v++){let g=z.charCodeAt(v),x=g===40,_=g===45||g===46,b=g===47||v===z.length;if(x||_||b){let i=z.slice(S,v);if(X.push(i),K=K||x||_,x){let T=d7(z,v),R=z.slice(v,T+1);if(!this.allowUnsafeRegex)K0(Z1(new RegExp(R)),`The regex '${R}' is not safe!`);M.push(m7(R)),v=T+1,O=!1}else M.push(O?"(.*?)":`(${j}|(?:(?!${j}).)*)`),O=!1;let a=v;for(;v<z.length;v++){let T=z.charCodeAt(v);if(T===47)break;if(T===58)if(z.charCodeAt(v+1)===58)v++;else break}let N=z.slice(a,v);if(N)N=N.replaceAll("::",":"),N=N.replaceAll("%","%25"),M.push(j=h7(N));if(S=v+1,b||z.charCodeAt(v)===47||v===z.length){let T=K?"()"+N:N,R=z.slice(W,v);z=z.slice(0,W+1)+T+z.slice(v),W+=T.length;let h=K?new RegExp("^"+M.join("")+"$"):null;if(Q=Q.getParametricChild(h,N||null,R),Q===null)return null;Y=W+1;break}}}}else if(w){if(X.push("*"),Q=Q.getWildcardChild(),Y=W+1,W!==z.length-1)throw new Error("Wildcard must be the last character in the route")}}if(!this.caseSensitive)z=z.toLowerCase();for(let W of this.routes){let H=W.opts.constraints||{};if(W.method===$&&W.pattern===z&&rf(H,J))return{handler:W.handler,store:W.store,params:W.params}}return null};B0.prototype.hasConstraintStrategy=function(f){return this.constrainer.hasConstraintStrategy(f)};B0.prototype.addConstraintStrategy=function(f){this.constrainer.addConstraintStrategy(f),this._rebuild(this.routes)};B0.prototype.reset=function f(){this.trees={},this.routes=[]};B0.prototype.off=function f($,Z,J){K0(typeof Z==="string","Path should be a string"),K0(Z.length>0,"The path could not be empty"),K0(Z[0]==="/"||Z[0]==="*","The first character of a path should be `/` or `*`"),K0(typeof J==="undefined"||typeof J==="object"&&!Array.isArray(J)&&J!==null,"Constraints should be an object or undefined.");let z=Z.match(i0);if(z){K0(Z.length===z.index+z[0].length,"Optional Parameter needs to be the last parameter of the path");let Y=Z.replace(i0,"$1$2"),X=Z.replace(i0,"$2");this.off($,Y,J),this.off($,X,J);return}if(this.ignoreDuplicateSlashes)Z=sf(Z);if(this.ignoreTrailingSlash)Z=af(Z);let Q=Array.isArray($)?$:[$];for(let Y of Q)this._off(Y,Z,J)};B0.prototype._off=function f($,Z,J){K0(typeof $==="string","Method should be a string"),K0($1.includes($),`Method '${$}' is not an http method.`);function z(W){return $!==W.method||Z!==W.path}function Q(W){return z(W)||!rf(J,W.opts.constraints||{})}let Y=J?Q:z,X=this.routes.filter(Y);this._rebuild(X)};B0.prototype.lookup=function f($,Z,J,z){if(typeof J==="function")z=J,J=void 0;if(z===void 0){let Q=this.constrainer.deriveConstraints($,J),Y=this.find($.method,$.url,Q);return this.callHandler(Y,$,Z,J)}this.constrainer.deriveConstraints($,J,(Q,Y)=>{if(Q!==null){z(Q);return}try{let X=this.find($.method,$.url,Y),W=this.callHandler(X,$,Z,J);z(null,W)}catch(X){z(X)}})};B0.prototype.callHandler=function f($,Z,J,z){if($===null)return this._defaultRoute(Z,J,z);return z===void 0?$.handler(Z,J,$.params,$.store,$.searchParams):$.handler.call(z,Z,J,$.params,$.store,$.searchParams)};B0.prototype.find=function f($,Z,J){let z=this.trees[$];if(z===void 0)return null;if(Z.charCodeAt(0)!==47)Z=Z.replace(u7,"/");if(this.ignoreDuplicateSlashes)Z=sf(Z);let Q,Y,X;try{Q=c9(Z,this.useSemicolonDelimiter),Z=Q.path,Y=Q.querystring,X=Q.shouldDecodeParam}catch(M){return this._onBadUrl(Z)}if(this.ignoreTrailingSlash)Z=af(Z);let W=Z;if(this.caseSensitive===!1)Z=Z.toLowerCase();let H=this.maxParamLength,w=z.prefix.length,K=[],O=Z.length,j=[];while(!0){if(w===O&&z.isLeafNode){let g=z.handlerStorage.getMatchingHandler(J);if(g!==null)return{handler:g.handler,store:g.store,params:g._createParamsObject(K),searchParams:this.querystringParser(Y)}}let M=z.getNextNode(Z,w,j,K.length);if(M===null){if(j.length===0)return null;let g=j.pop();w=g.brotherPathIndex,K.splice(g.paramsCount),M=g.brotherNode}if(z=M,z.kind===x7.STATIC){w+=z.prefix.length;continue}if(z.kind===x7.WILDCARD){let g=W.slice(w);if(X)g=k7(g);K.push(g),w=O;continue}let S=W.indexOf("/",w);if(S===-1)S=O;let v=W.slice(w,S);if(X)v=k7(v);if(z.isRegex){let g=z.regex.exec(v);if(g===null)continue;for(let x=1;x<g.length;x++){let _=g[x];if(_.length>H)return null;K.push(_)}}else{if(v.length>H)return null;K.push(v)}w=S}};B0.prototype._rebuild=function(f){this.reset();for(let $ of f){let{method:Z,path:J,opts:z,handler:Q,store:Y}=$;this._on(Z,J,z,Q,Y)}};B0.prototype._defaultRoute=function(f,$,Z){if(this.defaultRoute!==null)return Z===void 0?this.defaultRoute(f,$):this.defaultRoute.call(Z,f,$);else $.statusCode=404,$.end()};B0.prototype._onBadUrl=function(f){if(this.onBadUrl===null)return null;let $=this.onBadUrl;return{handler:(Z,J,z)=>$(f,Z,J),params:{},store:null}};B0.prototype.prettyPrint=function(f={}){let $=f.method;f.buildPrettyMeta=this.buildPrettyMeta.bind(this);let Z=null;if($===void 0){let{version:J,host:z,...Q}=this.constrainer.strategies;Q[of.name]=of;let Y=new B0({...this._opts,constraints:Q}),X=this.routes.map((W)=>{let H={...W.opts.constraints,[of.name]:W.method};return{...W,method:"MERGED",opts:{constraints:H}}});Y._rebuild(X),Z=Y.trees.MERGED}else Z=this.trees[$];if(Z==null)return"(empty tree)";return u9(Z,f)};for(let f in $1){if(!$1.hasOwnProperty(f))continue;let $=$1[f],Z=$.toLowerCase();B0.prototype[Z]=function(J,z,Q){return this.on($,J,z,Q)}}B0.prototype.all=function(f,$,Z){this.on($1,f,$,Z)};i7.exports=B0;function h7(f){return f.replace(y7,"\\$&")}function sf(f){return f.indexOf("//")!==-1?f.replace(c7,"/"):f}function af(f){if(f.length>1&&f.charCodeAt(f.length-1)===47)return f.slice(0,-1);return f}function m7(f){if(f.charCodeAt(1)===94)f=f.slice(0,1)+f.slice(2);if(f.charCodeAt(f.length-2)===36)f=f.slice(0,f.length-2)+f.slice(f.length-1);return f}function d7(f,$){let Z=1;while($<f.length){if($++,f.charCodeAt($)===92){$++;continue}if(f.charCodeAt($)===41)Z--;else if(f.charCodeAt($)===40)Z++;if(!Z)return $}throw new TypeError('Invalid regexp expression in "'+f+'"')}function h9(f){if(!f)return{};if(!f.store)return{};return Object.assign({},f.store)}});function q1(f){switch(f.split(".").pop()?.toLowerCase()){case"js":return"application/javascript";case"css":return"text/css";case"html":return"text/html";case"json":return"application/json";case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";case"svg":return"image/svg+xml";case"gif":return"image/gif";case"woff":return"font/woff";case"woff2":return"font/woff2";default:return"application/octet-stream"}}var Uf=null;async function nZ(){if(!Uf){let f=await Promise.resolve().then(() => W4(c4(),1));Uf=f.default||f}return Uf}var lZ={string:"text/plain; charset=utf-8",object:"application/json; charset=utf-8",Uint8Array:"application/octet-stream",ArrayBuffer:"application/octet-stream"};class V1{req;server;path;routePattern;paramNames;env;executionContext;headers=new Headers;parsedQuery=null;parsedParams=null;parsedCookies=null;parsedBody=null;contextData={};urlObject=null;constructor(f,$,Z,J,z,Q,Y){this.req=f,this.server=$,this.path=Z,this.routePattern=J,this.executionContext=Y,this.env=Q,this.paramNames=z}setHeader(f,$){return this.headers.set(f,$),this}removeHeader(f){return this.headers.delete(f),this}set(f,$){return this.contextData[f]=$,this}get(f){return this.contextData[f]}get ip(){if(this.server)return this.server.requestIP(this.req)?.address??null;return this.req.headers.get("CF-Connecting-IP")||null}get url(){if(!this.urlObject)this.urlObject=new URL(this.req.url);return this.urlObject}get query(){if(!this.parsedQuery)this.parsedQuery=this.url.search?Object.fromEntries(this.url.searchParams):{};return this.parsedQuery}get params(){if(!Array.isArray(this.paramNames))return this.paramNames;if(!this.parsedParams)try{this.parsedParams=oZ(this.paramNames,this.path)}catch(f){let $=f instanceof Error?f.message:String(f);throw new Error(`Failed to extract route parameters: ${$}`)}return this.parsedParams??{}}get body(){if(this.req.method==="GET")return Promise.resolve({});if(!this.parsedBody)this.parsedBody=(async()=>{try{let f=await rZ(this.req);if(f.error)throw new Error(f.error);return Object.keys(f).length===0?null:f}catch(f){throw new Error("Invalid request body format")}})();return this.parsedBody}text(f,$=200){return new Response(f,{status:$,headers:this.headers})}send(f,$=200){let Z;if(f instanceof Uint8Array)Z="Uint8Array";else if(f instanceof ArrayBuffer)Z="ArrayBuffer";else Z=typeof f;if(!this.headers.has("Content-Type"))this.headers.set("Content-Type",lZ[Z]??"text/plain; charset=utf-8");let J=Z==="object"&&f!==null?JSON.stringify(f):f;return new Response(J,{status:$,headers:this.headers})}json(f,$=200){return Response.json(f,{status:$,headers:this.headers})}file(f,$,Z=200){let J=Bun.file(f);if(!this.headers.has("Content-Type"))this.headers.set("Content-Type",$??q1(f));return new Response(J,{status:Z,headers:this.headers})}async ejs(f,$={},Z=200){let J=await nZ();try{let z=await Bun.file(f).text(),Q=J.render(z,$),Y=new Headers({"Content-Type":"text/html; charset=utf-8"});return new Response(Q,{status:Z,headers:Y})}catch(z){return console.error("EJS Rendering Error:",z),new Response("Error rendering template",{status:500})}}redirect(f,$=302){return this.headers.set("Location",f),new Response(null,{status:$,headers:this.headers})}setCookie(f,$,Z={}){let J=`${encodeURIComponent(f)}=${encodeURIComponent($)}`;if(Z.maxAge)J+=`; Max-Age=${Z.maxAge}`;if(Z.expires)J+=`; Expires=${Z.expires.toUTCString()}`;if(Z.path)J+=`; Path=${Z.path}`;if(Z.domain)J+=`; Domain=${Z.domain}`;if(Z.secure)J+="; Secure";if(Z.httpOnly)J+="; HttpOnly";if(Z.sameSite)J+=`; SameSite=${Z.sameSite}`;return this.headers.append("Set-Cookie",J),this}get cookies(){if(!this.parsedCookies){let f=this.req.headers.get("cookie");this.parsedCookies=f?pZ(f):{}}return this.parsedCookies}stream(f){let $=new Headers(this.headers),Z=new ReadableStream({async start(J){await f(J),J.close()}});return new Response(Z,{headers:$})}yieldStream(f){return new Response}}function pZ(f){return Object.fromEntries(f.split(";").map(($)=>{let[Z,...J]=$.trim().split("=");return[Z,decodeURIComponent(J.join("="))]}))}function oZ(f,$){let Z={},[J]=$.split("?"),z=J.split("/").filter((Y)=>Y!==""),Q=z.length-f.length;for(let Y=0;Y<f.length;Y++)Z[f[Y]]=z[Q+Y];return Z}function G6(f,$){let Z={},J=f.split("/"),[z]=$.split("?"),Q=z.split("/");if(J.length!==Q.length)return null;for(let Y=0;Y<J.length;Y++){let X=J[Y];if(X.charCodeAt(0)===58)Z[X.slice(1)]=Q[Y]}return Z}async function rZ(f){let $=f.headers.get("Content-Type")||"";if(!$)return{};if(f.headers.get("Content-Length")==="0"||!f.body)return{};if($.startsWith("application/json"))return await f.json();if($.startsWith("application/x-www-form-urlencoded")){let J=await f.text();return Object.fromEntries(new URLSearchParams(J))}if($.startsWith("multipart/form-data")){let J=await f.formData(),z={};for(let[Q,Y]of J.entries())z[Q]=Y;return z}return{error:"Unknown request body type"}}var N1=(f)=>f!==null&&typeof f==="object"&&typeof f.then==="function",h4=(f)=>f!==null&&typeof f==="object"&&typeof f.status==="number"&&typeof f.headers==="object";async function r0(f,$,Z){if(!$?.length)return;for(let J=0;J<$.length;J++){let z=$[J](...Z),Q=z instanceof Promise?await z:z;if(Q&&f!=="onRequest")return Q}}async function M6(f,$,Z){let J=f.globalMiddlewares;if(J.length)for(let Q of J){let Y=await Q(Z);if(Y)return Y}let z=f.middlewares.get($);if(z&&z.length)for(let Q of z){let Y=await Q(Z);if(Y)return Y}return null}async function m4(f,$,Z){for(let J of f){let z=await J($,Z);if(z)return z}}async function R1(f,$,Z){let J=await sZ(f,$,Z),z=N1(J)?await J:J;if(z)return z}async function sZ(f,$,Z){if($.endsWith("/"))$=$.slice(0,-1);if(!f.filters.has($))if(f.filterFunction.length)for(let J of f.filterFunction){let z=await J(Z);if(z)return z}else return Response.json({error:"Protected route, authentication required"},{status:401})}async function I1(f,$,Z){if(f.staticPath){let W=!0;if(f.staticRequestPath)W=Z.startsWith(f.staticRequestPath);if(W){let H=await aZ(f,Z,$);if(H)return H}}let Y=await(f.router.find($.req.method,"*")?.handler).slice(-1)[0]($);if(h4(Y))return Y;let X=f.routeNotFoundFunc($);return X instanceof Promise?await X:X||U1(404,`404 Route not found for ${Z}`)}function U1(f,$){return new Response(JSON.stringify({error:$}),{status:f,headers:{"Content-Type":"application/json"}})}async function aZ(f,$,Z){if(!f.staticPath)return null;let J=`${f.staticPath}${$}`;if(await Bun.file(J).exists()){let Q=q1(J);return Z.file(J,Q,200)}return null}var Bf=(f)=>f.constructor.name==="AsyncFunction",d4=(f,$,Z,...J)=>{if($.length>5)f.push(`
      for (let i = 0; i < diesel.hooks.${Z}.length; i++) {
        const result = diesel.hooks.${Z}[i](${J});
        const finalResult = result instanceof Promise ? await result : result;
        if (finalResult && '${Z}' !== 'onRequest') return finalResult
    }
  `);else $?.forEach((z,Q)=>{if(Bf(z))f.push(`
            const ${Z}${Q}Result = await diesel.hooks.${Z}[${Q}](${J})
            if (${Z}${Q}Result && '${Z}' !== 'onRequest') return ${Z}${Q}Result
            `);else f.push(`
            const ${Z}${Q}Result = diesel.hooks.${Z}[${Q}](${J})
             if (${Z}${Q}Result && '${Z}' !== 'onRequest') return ${Z}${Q}Result
            `)})},tZ=(f)=>{f.push(`
    let pathname;
    const start = req.url.indexOf('/', req.url.indexOf(':') + 4);
    let i = start;
    for (; i < req.url.length; i++) {
        const charCode = req.url.charCodeAt(i);
        if (charCode === 37) { // percent-encoded
            const queryIndex = req.url.indexOf('?', i);
            const path = req.url.slice(start, queryIndex === -1 ? undefined : queryIndex);
            pathname = tryDecodeURI(path.includes('%25') ? path.replace(/%25/g, '%2525') : path);
            break;
        } else if (charCode === 63) { // ?
            break;
        }
    }
    if (!pathname) {
      pathname = req.url.slice(start, i);
    }
  `)};var Ff=(f)=>{let $=[],Z=f.globalMiddlewares||[],J=f?.hasPreHandlerHook?f.hooks.preHandler:[],z=f?.hasOnSendHook?f.hooks.onSend:[];if(tZ($),$.push(`
      const routeHandler = diesel.router.find(req.method, pathname);
    `),$.push(`
          const ctx = new Context(
          req, 
          server, 
          pathname, 
          routeHandler?.path,
          routeHandler?.params,
          env,
          executionContext
          )
    `),f.hasFilterEnabled)$.push(`
        const filterResponse = await runFilter(diesel, pathname, ctx);
        if (filterResponse) return filterResponse;
      `);if(f.hasPreHandlerHook)d4($,J,"preHandler","ctx");if($.push(`
        let finalResult
      let arr = routeHandler?.handler;
      for (let i = 0; i < arr?.length; i++) {
        const result = arr[i]?.(ctx)
        finalResult = result instanceof Promise ? await result : result;
        if (finalResult instanceof Response) break
      }
    `),f.hasOnSendHook)d4($,z,"onSend","ctx","finalResult");$.push(`
      if (finalResult instanceof Response) return finalResult;
    `),$.push(`
    return await handleRouteNotFound(diesel, ctx, pathname);
  `);let Q=`
      return async function pipeline(req, diesel, server, env, executionContext) {
          ${$.join(`
`)}
      }
    `;return new Function("runFilter","handleRouteNotFound","generateErrorResponse","Context",Q)(R1,I1,U1,V1)},i4=(f,$,Z,...J)=>{let z=[],Q;if(typeof J[0]==="string"||typeof J[0]==="object")Q=J[0];let Y=J,X=f?.hasMiddleware?f.globalMiddlewares:[],W=f?.hasMiddleware?f.middlewares.get(Z)||[]:[],H=[...X,...W],w=f?.hasOnReqHook?f.hooks.onRequest:[],K=f.filters.has(Z),O=f.filterFunction;if(w&&w?.length>0)z.push(`
      const onRequestResult = await runHooks(
        "onRequest",
        onRequestHooks,
        [req, "${Z}", server]
      );
      if (onRequestResult) return onRequestResult;
    `);if(H.length)z.push(`
      const globalMiddlewareResponse = await executeBunMiddlewares(
        allMiddlewares,
        req,
        server
      );
      if (globalMiddlewareResponse) return globalMiddlewareResponse;
    `);if(f.hasFilterEnabled){if(!K)z.push(`if (${O.length}) {
        for (const filterFunction of filterFunctions) {
          const filterResult = await filterFunction(req, server);
          if (filterResult) return filterResult;
        }
      } else {
        return Response.json({ error: "Protected route, authentication required" }, { status: 401 });
      }`)}if(z.push(`
            if ("${$}" !== req.method)
        return new Response("Method Not Allowed", { status: 405 });
      `),typeof Q!=="undefined")if(typeof Q==="string")z.push(`
        return new Response(${JSON.stringify(Q)});
      `);else{let S=JSON.stringify(Q);z.push(`
        return new Response(${JSON.stringify(S)}, {
          headers: { "content-type": "application/json; charset=utf-8" }
        });
      `)}else if(Y.length===1){let S=Y[0];if(Bf(S))z.push(`
        const response = await handlers[0](req, server);
        if (response instanceof Response) return response;
      `);else z.push(`
        const response = handlers[0](req, server);
        if (response instanceof Response) return response;
      `)}else Y.forEach((S,v)=>{if(Bf(S))z.push(`
            const response${v} = await handlers[${v}](req, server);
            if (response${v} instanceof Response) return response${v};
        `);else z.push(`
            const response${v} = handlers[${v}](req, server);
            if (response${v} instanceof Response) return response${v};
        `)});let j=`
    return async function(req, server) {
      ${z.join(`
`)}
    }
  `;return new Function("executeBunMiddlewares","handlers","runHooks","filterFunctions","onRequestHooks","allMiddlewares",j)(m4,Y,r0,O,w,H)};class S1{children;isEndOfWord;handler;isDynamic;pattern;path;methodMap;segmentCount;params;middlewares;constructor(){this.children={},this.isEndOfWord=!1,this.handler=null,this.isDynamic=!1,this.pattern="",this.path="",this.methodMap=new Map,this.segmentCount=0,this.params=[],this.middlewares=[]}}class Gf{root;cachedSegments;globalMiddlewares;constructor(){this.root=new S1,this.cachedSegments=new Map,this.globalMiddlewares=[]}pushMidl(f,...$){let Z=this.root,J=f.split("/").filter(Boolean);if(f==="/"){Z.handler=$[0],this.globalMiddlewares.push(...$);return}for(let z of J){let Q=z;if(z.startsWith(":"))Q=":";else if(z.startsWith("*"))Z.middlewares.push(...$);if(!Z.children[Q])Z.children[Q]=new S1;Z=Z.children[Q]}Z.middlewares.push(...$),Z.handler=$[0]}insert(f,$){let Z=this.root,J=f.split("/").filter(Boolean);if(this.cachedSegments.set(f,J),f==="/"){Z.isEndOfWord=!0,Z.handler=$.handler,Z.path=f,Z.methodMap.set($.method,$.handler),Z.segmentCount=0,Z.params=[];return}for(let z of J){let Q=z,Y=!1;if(z.startsWith(":"))Y=!0,Q=":";if(z==="*")Q="*";if(!Z.children[Q])Z.children[Q]=new S1;Z=Z.children[Q],Z.isDynamic=Y,Z.pattern=z}Z.params=J.filter((z)=>z.startsWith(":")).map((z)=>z.slice(1)),Z.isEndOfWord=!0,Z.path=f,Z.segmentCount=J.length,Z.methodMap.set($.method,$.handler),Z.handler=$.handler}search(f,$){let Z=this.root,J=this.cachedSegments.get(f)||f.split("/").filter(Boolean),z=[...this.globalMiddlewares];for(let Y of J){let X=Y;if(Z.children[X])Z=Z.children[X];else if(Z.children[":"])Z=Z.children[":"];else if(Z.children["*"]){Z=Z.children["*"];break}else return{handler:z};if(Z.middlewares.length>0)z.push(...Z.middlewares)}if(!Z.isEndOfWord||Z.segmentCount!==J.length)return{handler:z};let Q=Z.methodMap.get($);if(Q)z.push(Q);return{params:Z.params,handler:z}}}class P1{trie=new Gf;cache=new Map;add(f,$,Z){this.trie.insert($,{method:f,handler:Z})}addMiddleware(f,...$){this.trie.pushMidl(f,...$)}find(f,$){return this.trie.search($,f)}}var l7=W4(n7(),1);class J1{router=l7.default({});add(f,$,Z){this.router.on(f,$,Z)}addMiddleware(f,...$){}find(f,$){let Z=this.router.find(f,$);if(Z)return{handler:[Z.handler],params:Z.params};return null}}class $f{children;isEndOfWord;handlers;paramName;middlewares;constructor(){this.children={},this.handlers=new Map,this.isEndOfWord=!1,this.paramName=[],this.middlewares=[]}}class p7{root;globalMiddlewares;constructor(){this.root=new $f,this.globalMiddlewares=[]}pushMiddleware(f,...$){if(f==="/"){this.globalMiddlewares.push(...$);return}let Z=this.root,J=f.split("/").filter(Boolean);for(let z of J){let Q=z;if(z.startsWith(":"))Q=":";else if(z.startsWith("*"))Z.middlewares.push(...$);if(!Z.children[Q])Z.children[Q]=new $f;Z=Z.children[Q]}Z.middlewares.push(...$)}insert(f,$,Z){let J=this.root,z=$.split("/").filter(Boolean);if($==="/"){J.isEndOfWord=!0,J.handlers.set(f,Z),J.paramName=[];return}for(let Q of z){let Y=Q;if(Q.startsWith(":"))Y=":";if(!J.children[Y])J.children[Y]=new $f;J=J.children[Y]}J.paramName=z.filter((Q)=>Q.startsWith(":")).map((Q)=>Q.slice(1)),J.handlers.set(f,Z),J.isEndOfWord=!0}search(f,$){let Z=this.root,J=$.split("/").filter(Boolean),z=[...this.globalMiddlewares];for(let Y of J){if(Z.children[Y])Z=Z.children[Y];else if(Z.children[":"])Z=Z.children[":"];else if(Z.children["*"]){Z=Z.children["*"];break}else return{handler:z};if(Z.middlewares.length>0)z.push(...Z.middlewares)}let Q=Z.handlers.get(f);if(Q)z.push(Q);return{params:Z.paramName,handler:z}}}class tf{trie;cache=new Map;constructor(){this.trie=new p7}add(f,$,Z){this.trie.insert(f,$,Z)}addMiddleware(f,...$){this.trie.pushMiddleware(f,...$)}find(f,$){return this.trie.search(f,$)}}class ef{static create(f){switch(f){case"t2":return new tf;case"trie":return new P1;case"fastify":return new J1;case"fs":return new J1;case"find-my-way":return new J1;case"findmyway":return new J1;default:return new P1}}}var D0={reset:"\x1B[0m",info:"\x1B[36m",warn:"\x1B[33m",error:"\x1B[31m",method:{GET:"\x1B[32m",POST:"\x1B[34m",PUT:"\x1B[35m",DELETE:"\x1B[31m",PATCH:"\x1B[36m"}},f4=(f,$,Z)=>{let J=D0[f]||D0.reset,z=Z?.method?D0.method[Z.method]||D0.reset:D0.reset,Q=Z?.status?Z.status>=500?D0.error:Z.status>=400?D0.warn:D0.info:D0.reset;console.log(`
${J}[${f.toUpperCase()}]${D0.reset} ${$} - ${z}${Z?.method||""}${D0.reset}`);let Y={timestamp:new Date().toISOString(),...Z,status:Z?.status?`${Q}${Z.status}${D0.reset}`:void 0,method:Z?.method?`${z>J}${Z.method}${D0.reset}`:void 0};console.log(JSON.stringify(Y,null,2)+`
`)},o7=(f)=>{let{app:$,logger:Z,logLevel:J="info",onRequest:z,onSend:Q,onError:Y}=f||{};$?.addHooks("onRequest",(X)=>{X.req.startTime=Date.now(),Z?.()??f4(J,"Incoming Request",{method:X.req.method,url:X.path,headers:{"user-agent":X.req.headers.get("user-agent"),"content-type":X.req.headers.get("content-type")}}),z?.(X)}),$?.addHooks("onSend",async(X,W)=>{let H=`${Date.now()-X.req.startTime}ms`;Z?.()??f4(J,"Response Sent",{method:X.req.method,url:X.url.toString(),status:W.status,duration:H,reqId:X.get?.("requestId"),headers:{"content-type":W.headers.get("content-type")}});let w=await Q?.(X);if(w instanceof Response)return w}),$?.addHooks("onError",async(X,W,H)=>{Z?.()??f4("error","Unhandled Error",{method:H.method,url:W,status:500,error:X.message});let w=await Y?.(X,W,H);if(w instanceof Response)return w})},$4=(f,$,Z,J=0,z,Q)=>{let Y=D0.method[$]||D0.reset,X=J>=500?D0.error:J>=400?D0.warn:D0.info,W=Q?`[${Q}] `:"",H=f==="<--"?`${f} ${Y}${$}${D0.reset} ${Z} ${W}`:`${f} ${Y}${$}${D0.reset} ${Z} ${X}${J}${D0.reset} ${z??""} ${W}`;console.log(H)},m9=(f)=>{let $=Date.now()-f;return $<1000?`${$}ms`:`${Math.round($/1000)}s`},r7=(f)=>{let{app:$,log:Z,onRequest:J,onSend:z,onError:Q}=f;$.addHooks("onRequest",(Y)=>{let{req:X,path:W}=Y;X.startTime=Date.now(),Z?.()??$4("<--",X.method,W),J?.(X,W)}),$.addHooks("onSend",async(Y,X)=>{let{method:W,url:H}=Y.req,w=new URL(H).pathname,K=Y.get?.("requestId");Z?.()??$4("-->",W,w,X?.status,m9(Y.req.startTime),K);let O=await z?.(Y);return O instanceof Response?O:X}),$.addHooks("onError",async(Y,X,W)=>{let H=W.path;Z?.()??$4(Y.message,W.method,H,500);let w=await Q?.(Y,H,W);if(w instanceof Response)return w})};function s7(f,$){if(!f)throw new Error("JWT library is not defined, please provide jwt to authenticateJwt Function");return(Z)=>{try{let J=Z.cookies?.accessToken??Z.req?.headers?.get("Authorization");if(!J)return Z.json({message:"Unauthorized",error:"No token provided"},401);if(J.startsWith("Bearer "))J=J.slice(7);let z=f?.verify(J,$);if(!z)return Z.json({message:"Unauthorized",error:"Token could not be decoded"},401);Z.set("user",z)}catch(J){let z="Invalid token";if(J.name==="TokenExpiredError")z="Token expired";else if(J.name==="JsonWebTokenError")z="Malformed or tampered token";return Z.json({message:"Unauthorized",error:z},401)}}}function a7(f,$,Z){if(!f)throw new Error("JWT library is not defined, please provide jwt to authenticateJwtDB Function");if(!$)throw new Error("User model is not defined, please provide UserModel to authenticateJwtDB Function");return async(J)=>{try{let z=J.cookies?.accessToken??J.req?.headers?.get("Authorization");if(!z)return J.json({message:"Unauthorized",error:"No token provided"},401);if(z.startsWith("Bearer "))z=z.slice(7);let Q=f?.verify(z,Z);if(!Q)return J.json({message:"Unauthorized",error:"Token could not be decoded"},401);let Y=await $.findById(Q._id).select("-password -refreshToken");if(!Y)return J.json({message:"Unauthorized: User not found"},404);J.set("user",Y);return}catch(z){let Q="Invalid token";if(z.name==="TokenExpiredError")Q="Token expired";else if(z.name==="JsonWebTokenError")Q="Malformed or tampered token";return J.json({message:"Unauthorized",error:Q},401)}}}var d9=(f,$)=>{try{return $(f)}catch{return f.replace(/(?:%[0-9A-Fa-f]{2})+/g,(Z)=>{try{return $(Z)}catch{return Z}})}},i9=(f)=>d9(f,decodeURI),Zf=(f)=>{let $=f.indexOf("/",f.indexOf(":")+4),Z=$;for(;Z<f.length;Z++){let J=f.charCodeAt(Z);if(J===37){let z=f.indexOf("?",Z),Q=f.slice($,z===-1?void 0:z);return i9(Q.includes("%25")?Q.replace(/%25/g,"%2525"):Q)}else if(J===63)break}return f.slice($,Z)};var J4=Symbol.for,n0=Symbol("kCapture"),$Z=J4("events.errorMonitor"),n9=Symbol("events.maxEventTargetListeners"),l9=Symbol("events.maxEventTargetListenersWarned"),t7=J4("nodejs.rejection"),p9=J4("nodejs.rejection"),e7=Array.prototype.slice,l0=10,h0=function f($){if(this._events===void 0||this._events===this.__proto__._events)this._events={__proto__:null},this._eventsCount=0;if(this._maxListeners??=void 0,this[n0]=$?.captureRejections?Boolean($?.captureRejections):W0[n0])this.emit=a9},W0=h0.prototype={};W0._events=void 0;W0._eventsCount=0;W0._maxListeners=void 0;W0.setMaxListeners=function f($){return z4($,"setMaxListeners",0),this._maxListeners=$,this};W0.constructor=h0;W0.getMaxListeners=function f(){return this?._maxListeners??l0};function ZZ(f,$){var{_events:Z}=f;if($[0]??=new Error("Unhandled error."),!Z)throw $[0];var J=Z[$Z];if(J)for(var z of e7.call(J))z.apply(f,$);var Q=Z.error;if(!Q)throw $[0];for(var z of e7.call(Q))z.apply(f,$);return!0}function o9(f,$,Z,J){$.then(void 0,function(z){queueMicrotask(()=>r9(f,z,Z,J))})}function r9(f,$,Z,J){if(typeof f[t7]==="function")f[t7]($,Z,...J);else try{f[n0]=!1,f.emit("error",$)}finally{f[n0]=!0}}var s9=function f($,...Z){if($==="error")return ZZ(this,Z);var{_events:J}=this;if(J===void 0)return!1;var z=J[$];if(z===void 0)return!1;let Q=z.length>1?z.slice():z;for(let Y=0,{length:X}=Q;Y<X;Y++){let W=Q[Y];switch(Z.length){case 0:W.call(this);break;case 1:W.call(this,Z[0]);break;case 2:W.call(this,Z[0],Z[1]);break;case 3:W.call(this,Z[0],Z[1],Z[2]);break;default:W.apply(this,Z);break}}return!0},a9=function f($,...Z){if($==="error")return ZZ(this,Z);var{_events:J}=this;if(J===void 0)return!1;var z=J[$];if(z===void 0)return!1;let Q=z.length>1?z.slice():z;for(let Y=0,{length:X}=Q;Y<X;Y++){let W=Q[Y],H;switch(Z.length){case 0:H=W.call(this);break;case 1:H=W.call(this,Z[0]);break;case 2:H=W.call(this,Z[0],Z[1]);break;case 3:H=W.call(this,Z[0],Z[1],Z[2]);break;default:H=W.apply(this,Z);break}if(H!==void 0&&typeof H?.then==="function"&&H.then===Promise.prototype.then)o9(this,H,$,Z)}return!0};W0.emit=s9;W0.addListener=function f($,Z){M1(Z);var J=this._events;if(!J)J=this._events={__proto__:null},this._eventsCount=0;else if(J.newListener)this.emit("newListener",$,Z.listener??Z);var z=J[$];if(!z)J[$]=[Z],this._eventsCount++;else{z.push(Z);var Q=this._maxListeners??l0;if(Q>0&&z.length>Q&&!z.warned)JZ(this,$,z)}return this};W0.on=W0.addListener;W0.prependListener=function f($,Z){M1(Z);var J=this._events;if(!J)J=this._events={__proto__:null},this._eventsCount=0;else if(J.newListener)this.emit("newListener",$,Z.listener??Z);var z=J[$];if(!z)J[$]=[Z],this._eventsCount++;else{z.unshift(Z);var Q=this._maxListeners??l0;if(Q>0&&z.length>Q&&!z.warned)JZ(this,$,z)}return this};function JZ(f,$,Z){Z.warned=!0;let J=new Error(`Possible EventEmitter memory leak detected. ${Z.length} ${String($)} listeners added to [${f.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);J.name="MaxListenersExceededWarning",J.emitter=f,J.type=$,J.count=Z.length,console.warn(J)}function zZ(f,$,...Z){this.removeListener(f,$),$.apply(this,Z)}W0.once=function f($,Z){M1(Z);let J=zZ.bind(this,$,Z);return J.listener=Z,this.addListener($,J),this};W0.prependOnceListener=function f($,Z){M1(Z);let J=zZ.bind(this,$,Z);return J.listener=Z,this.prependListener($,J),this};W0.removeListener=function f($,Z){M1(Z);var{_events:J}=this;if(!J)return this;var z=J[$];if(!z)return this;var Q=z.length;let Y=-1;for(let X=Q-1;X>=0;X--)if(z[X]===Z||z[X].listener===Z){Y=X;break}if(Y<0)return this;if(Y===0)z.shift();else z.splice(Y,1);if(z.length===0)delete J[$],this._eventsCount--;return this};W0.off=W0.removeListener;W0.removeAllListeners=function f($){var{_events:Z}=this;if($&&Z){if(Z[$])delete Z[$],this._eventsCount--}else this._events={__proto__:null};return this};W0.listeners=function f($){var{_events:Z}=this;if(!Z)return[];var J=Z[$];if(!J)return[];return J.map((z)=>z.listener??z)};W0.rawListeners=function f($){var{_events:Z}=this;if(!Z)return[];var J=Z[$];if(!J)return[];return J.slice()};W0.listenerCount=function f($){var{_events:Z}=this;if(!Z)return 0;return Z[$]?.length??0};W0.eventNames=function f(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};W0[n0]=!1;function t9(f,$,Z){var J=Z?.signal;if(QZ(J,"options.signal"),J?.aborted)throw new Z4(void 0,{cause:J?.reason});let{resolve:z,reject:Q,promise:Y}=$newPromiseCapability(Promise),X=(w)=>{if(f.removeListener($,W),J!=null)Jf(J,"abort",H);Q(w)},W=(...w)=>{if(typeof f.removeListener==="function")f.removeListener("error",X);if(J!=null)Jf(J,"abort",H);z(w)};if(fZ(f,$,W,{once:!0}),$!=="error"&&typeof f.once==="function")f.once("error",X);function H(){Jf(f,$,W),Jf(f,"error",X),Q(new Z4(void 0,{cause:J?.reason}))}if(J!=null)fZ(J,"abort",H,{once:!0});return Y}function e9(f,$){return f.listeners($)}function f6(f,...$){z4(f,"setMaxListeners",0);var Z;if($&&(Z=$.length))for(let J=0;J<Z;J++)$[J].setMaxListeners(f);else l0=f}function $6(f,$){return f.listenerCount($)}function Jf(f,$,Z,J){if(typeof f.removeListener==="function")f.removeListener($,Z);else f.removeEventListener($,Z,J)}function fZ(f,$,Z,J){if(typeof f.on==="function")if(J.once)f.once($,Z);else f.on($,Z);else f.addEventListener($,Z,J)}class Z4 extends Error{constructor(f="The operation was aborted",$=void 0){if($!==void 0&&typeof $!=="object")throw z1("options","Object",$);super(f,$);this.code="ABORT_ERR",this.name="AbortError"}}function z1(f,$,Z){let J=new TypeError(`The "${f}" argument must be of type ${$}. Received ${Z}`);return J.code="ERR_INVALID_ARG_TYPE",J}function Z6(f,$,Z){let J=new RangeError(`The "${f}" argument is out of range. It must be ${$}. Received ${Z}`);return J.code="ERR_OUT_OF_RANGE",J}function QZ(f,$){if(f!==void 0&&(f===null||typeof f!=="object"||!("aborted"in f)))throw z1($,"AbortSignal",f)}function z4(f,$,Z,J){if(typeof f!=="number")throw z1($,"number",f);if(Z!=null&&f<Z||J!=null&&f>J||(Z!=null||J!=null)&&Number.isNaN(f))throw Z6($,`${Z!=null?`>= ${Z}`:""}${Z!=null&&J!=null?" && ":""}${J!=null?`<= ${J}`:""}`,f)}function M1(f){if(typeof f!=="function")throw new TypeError("The listener must be a function")}function J6(f,$){if(typeof f!=="boolean")throw z1($,"boolean",f)}function z6(f){return f?._maxListeners??l0}function Q6(f,$){if(f===void 0)throw z1("signal","AbortSignal",f);if(QZ(f,"signal"),typeof $!=="function")throw z1("listener","function",$);let Z;if(f.aborted)queueMicrotask(()=>$());else f.addEventListener("abort",$,{__proto__:null,once:!0}),Z=()=>{f.removeEventListener("abort",$)};return{__proto__:null,[Symbol.dispose](){Z?.()}}}Object.defineProperties(h0,{captureRejections:{get(){return W0[n0]},set(f){J6(f,"EventEmitter.captureRejections"),W0[n0]=f},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:()=>{return l0},set:(f)=>{z4(f,"defaultMaxListeners",0),l0=f}},kMaxEventTargetListeners:{value:n9,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:l9,enumerable:!1,configurable:!1,writable:!1}});Object.assign(h0,{once:t9,getEventListeners:e9,getMaxListeners:z6,setMaxListeners:f6,EventEmitter:h0,usingDomains:!1,captureRejectionSymbol:p9,errorMonitor:$Z,addAbortListener:Q6,init:h0,listenerCount:$6});var YZ=["GET","POST","PUT","PATCH","DELETE","ANY","HEAD","OPTIONS","PROPFIND"];class A1{static instance;routes;tempRoutes;tempMiddlewares=new Map;router;hasOnReqHook;hasPreHandlerHook;hasPostHandlerHook;hasOnSendHook;hasOnError;hooks;corsConfig;FilterRoutes;filters;filterFunction;hasFilterEnabled;serverInstance;staticFiles;user_jwt_secret;baseApiUrl;enableFileRouter;idleTimeOut;routeNotFoundFunc;prefixApiUrl;compileConfig;#f=!1;emitter;errorFormat;platform="bun";staticPath;staticRequestPath=void 0;get;post;put;patch;delete;any;head;options;propfind;constructor(f={}){YZ.forEach((j)=>{this[j.toLocaleLowerCase()]=(M,...S)=>{return this.addRoute(j,M,S),this}});let{router:$="trie",routerInstance:Z,errorFormat:J="json",platform:z="bun",enableFileRouting:Q=!1,prefixApiUrl:Y="",baseApiUrl:X="",jwtSecret:W,idleTimeOut:H=10,pipelineArchitecture:w=!1,logger:K,onError:O}=f;if(Z)this.router=Z;else this.router=ef.create($);if(this.errorFormat=J,this.platform=z,!A1.instance)A1.instance=this;if(w)this.#f=!0;if(this.errorFormat=J,this.emitter=new h0,this.prefixApiUrl=Y??"",this.fetch=this.fetch.bind(this),this.routes={},this.idleTimeOut=H??10,this.enableFileRouter=Q??!1,this.baseApiUrl=X||"",this.user_jwt_secret=W||process.env.DIESEL_JWT_SECRET||"default_diesel_secret_for_jwt",this.tempRoutes=new Map,this.corsConfig=null,this.hasOnReqHook=!1,this.hasPreHandlerHook=!1,this.hasPostHandlerHook=!1,this.hasOnSendHook=!1,this.hasOnError=!1,this.hooks={onRequest:[],preHandler:[],postHandler:[],onSend:[],onError:[],onClose:[]},O)this.addHooks("onError",(j,M)=>{console.log("Got an exception:",j),console.log("Request Path:",M)});if(K)this.useLogger({app:this,onError(j){console.error("Got an exception:",j)}});this.FilterRoutes=[],this.filters=new Set,this.filterFunction=[],this.hasFilterEnabled=!1,this.serverInstance=null,this.staticPath=null,this.staticFiles={},this.routeNotFoundFunc=()=>{},this.compileConfig=null}static router(f){if(!this.instance)this.instance=new A1;return new Proxy(this.instance,{get($,Z,J){return(z,Q)=>{let Y=f+z;return $[Z](Y,Q)}}})}setupFilter(){return this.hasFilterEnabled=!0,{publicRoutes:(...f)=>{return this.FilterRoutes=f,this.setupFilter()},permitAll:()=>{for(let f of this?.FilterRoutes){if(f.endsWith("/"))f=f.slice(0,-1);this.filters.add(f)}return this.FilterRoutes=null,this.setupFilter()},authenticate:(f)=>{if(f?.length)for(let $ of f)this.filterFunction.push($)},authenticateJwt:(f)=>{this.filterFunction.push(s7(f,this.user_jwt_secret))},authenticateJwtDB:(f,$)=>{this.filterFunction.push(a7(f,$,this.user_jwt_secret))}}}redirect(f,$,Z){return this.any(f,(J)=>{let z=J.params,Q=$;if(z)for(let X in z)Q=Q.replace(`:${X}`,z[X]);let Y=J.url.search;if(Y)Q+=Y;return J.redirect(Q,Z)}),this}serveStatic(f,$){return this.staticPath=f,this.staticRequestPath=$,this}static(f,$){return this.staticPath=f,this.staticRequestPath=$,this}staticHtml(f){return this.staticFiles={...this.staticFiles,...f},this}addHooks(f,$){if(typeof f!=="string")throw new Error("hookName must be a string");if(typeof $!=="function")throw new Error("callback must be a instance of function");switch(f){case"onRequest":this.router.addMiddleware("/",$),this.hasOnReqHook=!0;break;case"preHandler":this.hooks.preHandler?.push($),this.hasPreHandlerHook=!0;break;case"postHandler":this.hooks.postHandler?.push($),this.hasPostHandlerHook=!0;break;case"onSend":this.hooks.onSend?.push($),this.hasOnSendHook=!0;break;case"onError":this.hooks.onError?.push($),this.hasOnError=!0;break;case"onClose":this.hooks.onClose?.push($);break;default:throw new Error(`Unknown hook type: ${f}`)}return this}useLogger(f){return r7(f),this}useAdvancedLogger(f){return o7(f),this}BunRoute(f,$,...Z){if(!$||typeof $!=="string")throw new Error("give a path in string format");let J;if(typeof Z[0]==="string"||typeof Z[0]==="object")J=Z[0];if(typeof J!=="undefined"){let Q=typeof J==="string"?J:JSON.stringify(J)}let z=i4(this,f.toUpperCase(),$,...Z);return this.routes[$]=z,this}listen(f,...$){if(typeof Bun==="undefined")throw new Error(".listen() is designed to run on Bun only...");let Z="0.0.0.0",J=void 0,z={};for(let Y of $)if(typeof Y==="string")Z=Y;else if(typeof Y==="function")J=Y;else if(typeof Y==="object"&&Y!==null)z=Y;let Q={port:f,hostname:Z,idleTimeOut:this.idleTimeOut,fetch:this.fetch(),static:this.staticFiles};if(this.routes&&Object.keys(this.routes).length>0)Q.routes=this.routes;if(z.cert&&z.key)Q.certFile=z.cert,Q.keyFile=z.key;if(this.serverInstance=Bun?.serve(Q),J)J();return this.serverInstance}close(f){if(this.serverInstance)this.serverInstance.stop(!0),this.serverInstance=null,f?f():console.log("Server has been stopped");else console.warn("Server is not running.")}cfFetch(){return this.tempRoutes=null,this.tempMiddlewares=null,(f,$,Z)=>{return this.#$(f,void 0,$,Z)}}fetch(){if(this.tempRoutes=null,this.tempMiddlewares=null,this.platform==="cf"||this.platform==="cloudflare"){if(this.#f){let f=Ff(this);return($,Z,J)=>{return f($,this,void 0,Z,J).catch(async(z)=>{return this.handleError(z,Zf($.url),$)})}}return(f,$,Z)=>{return this.#$(f,void 0,$,Z)}}if(this.#f){let f=Ff(this);return($,Z)=>{return f($,this,Z,void 0,void 0).catch(async(J)=>{return this.handleError(J,Zf($.url),$)})}}return this.#$.bind(this)}async#$(f,$,Z,J){let z=Zf(f.url),Q=this.router.find(f.method,z),Y=new V1(f,$,z,Q?.path,Q?.params,Z,J);try{if(this.hasFilterEnabled){let H=await R1(this,z,Y);if(H)return H}if(this.hasPreHandlerHook){let H=await r0("preHandler",this.hooks.preHandler,[Y]);if(H)return H}let X,W=Q?.handler;for(let H=0;H<W?.length;H++){let w=W[H](Y);if(X=N1(w)?await w:w,X)break}if(this.hasOnSendHook){let H=await r0("onSend",this.hooks.onSend,[Y,X]);if(H)return H}if(X)return X;return await I1(this,Y,z)}catch(X){return this.handleError(X,z,f)}return U1(500,"No response returned from handler.")}async handleError(f,$,Z){let z=this.errorFormat,Q=await r0("onError",this.hooks.onError,[f,$,Z]);if(Q)return Q;if(f&&typeof f==="object"&&f.name==="HTTPException"){let W=f;if(W.res)return W.res;return z==="json"?Response.json({error:W.message},{status:W.status}):new Response(W.message,{status:W.status})}let Y=f instanceof Error?f.message:"Internal Server Error",X=f instanceof Error?f.stack:void 0;if(z==="json"){let W={error:Y,...!1,path:$};return Response.json(W,{status:500,headers:{"Content-Type":"application/json"}})}else{let W=`Error: ${Y}`;return new Response(W,{headers:{"Content-Type":"text/plain"},status:500})}}mount(f,$){let Z=f.endsWith("/*")?f.slice(0,-1):f,J=Z==="/"?0:Z.length;this.any(f,(z)=>{let Q=new URL(z.req.url);Q.pathname=Q.pathname.slice(J)||"/";let Y=new Request(Q.toString(),z.req);return $(Y,z.env,z.executionContext)})}route(f,$){f=f&&f.length>0?f:$?.prefixApiUrl;let Z=$?.tempRoutes??new Map;for(let[J,z]of Z.entries()){let Q=J.replace(/::\w+$/,""),Y=`${f}${Q}`,X=z.handlers.slice(0,-1);this.router.addMiddleware(Y,...X);let W=z.handlers[z.handlers.length-1],H=z.method;try{this.router.add(H,Y,W)}catch(w){console.error(`Error inserting ${Y}:`,w)}}for(let[J,z]of $?.tempMiddlewares?.entries()){let Q=J==="/"?f||"/":`${f}${J}`;this.router.addMiddleware(Q,...z)}return $=null,this}register(f,$){return this.route(f,$)}addRoute(f,$,Z){if(typeof $!=="string")throw new Error(`Error in ${Z[Z.length-1]}: Path must be a string. Received: ${typeof $}`);if(typeof f!=="string")throw new Error(`Error in addRoute: Method must be a string. Received: ${typeof f}`);this.tempRoutes?.set($+"::"+f,{method:f,handlers:Z});let J=Z.slice(0,-1),z=Z[Z.length-1];if(J.length>0)J.forEach((Q)=>{this.router.addMiddleware($,Q);return});try{if(f==="ANY"){let Q=["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD","PROPFIND"];for(let Y of Q)try{this.router.add(Y,$,z)}catch(X){}}else this.router.add(f,$,z)}catch(Q){console.error(`Error inserting ${$}:`,Q)}}use(f,...$){if(typeof f==="string"){let Z=f==="/"?"/":f;if(!this.tempMiddlewares?.has(Z))this.tempMiddlewares?.set(Z,[]);this.tempMiddlewares?.get(Z).push(...$),this.router.addMiddleware(Z,...$)}else if(typeof f==="function"){let Z=[f,...$];if(!this.tempMiddlewares?.has("/"))this.tempMiddlewares?.set("/",[]);this.tempMiddlewares?.get("/").push(...$);for(let J of Z)this.router.addMiddleware("/",J)}return this}routeNotFound(f){return this.routeNotFoundFunc=f,this}on(f,$){this.emitter.on(f,$)}emit(f,...$){this.emitter.emit(f,...$)}}export{A1 as default};
