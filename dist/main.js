var XZ=Object.create;var{getPrototypeOf:WZ,defineProperty:V1,getOwnPropertyNames:V4,getOwnPropertyDescriptor:wZ}=Object,B4=Object.prototype.hasOwnProperty;var U4=(f,$,Z)=>{Z=f!=null?XZ(WZ(f)):{};let J=$||!f||!f.__esModule?V1(Z,"default",{value:f,enumerable:!0}):Z;for(let z of V4(f))if(!B4.call(J,z))V1(J,z,{get:()=>f[z],enumerable:!0});return J},w4=new WeakMap,r0=(f)=>{var $=w4.get(f),Z;if($)return $;if($=V1({},"__esModule",{value:!0}),f&&typeof f==="object"||typeof f==="function")V4(f).map((J)=>!B4.call($,J)&&V1($,J,{get:()=>f[J],enumerable:!(Z=wZ(f,J))||Z.enumerable}));return w4.set(f,$),$},Z0=(f,$)=>()=>($||f(($={exports:{}}).exports,$),$.exports);var Yf=(f,$)=>{for(var Z in $)V1(f,Z,{get:$[Z],enumerable:!0,configurable:!0,set:(J)=>$[Z]=()=>J})};var Xf=(f,$)=>()=>(f&&($=f(f=0)),$);var VZ=((f)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(f,{get:($,Z)=>(typeof require!=="undefined"?require:$)[Z]}):f)(function(f){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+f+'" is not supported')});var N4={};Yf(N4,{sep:()=>j4,resolve:()=>C1,relative:()=>K4,posix:()=>T4,parse:()=>q4,normalize:()=>Wf,join:()=>G4,isAbsolute:()=>F4,format:()=>A4,extname:()=>M4,dirname:()=>O4,delimiter:()=>C4,default:()=>s0,basename:()=>L4,_makeLong:()=>D4});function v0(f){if(typeof f!=="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(f))}function H4(f,$){var Z="",J=0,z=-1,Q=0,Y;for(var X=0;X<=f.length;++X){if(X<f.length)Y=f.charCodeAt(X);else if(Y===47)break;else Y=47;if(Y===47){if(z===X-1||Q===1);else if(z!==X-1&&Q===2){if(Z.length<2||J!==2||Z.charCodeAt(Z.length-1)!==46||Z.charCodeAt(Z.length-2)!==46){if(Z.length>2){var W=Z.lastIndexOf("/");if(W!==Z.length-1){if(W===-1)Z="",J=0;else Z=Z.slice(0,W),J=Z.length-1-Z.lastIndexOf("/");z=X,Q=0;continue}}else if(Z.length===2||Z.length===1){Z="",J=0,z=X,Q=0;continue}}if($){if(Z.length>0)Z+="/..";else Z="..";J=2}}else{if(Z.length>0)Z+="/"+f.slice(z+1,X);else Z=f.slice(z+1,X);J=X-z-1}z=X,Q=0}else if(Y===46&&Q!==-1)++Q;else Q=-1}return Z}function BZ(f,$){var Z=$.dir||$.root,J=$.base||($.name||"")+($.ext||"");if(!Z)return J;if(Z===$.root)return Z+J;return Z+f+J}function C1(){var f="",$=!1,Z;for(var J=arguments.length-1;J>=-1&&!$;J--){var z;if(J>=0)z=arguments[J];else{if(Z===void 0)Z=process.cwd();z=Z}if(v0(z),z.length===0)continue;f=z+"/"+f,$=z.charCodeAt(0)===47}if(f=H4(f,!$),$)if(f.length>0)return"/"+f;else return"/";else if(f.length>0)return f;else return"."}function Wf(f){if(v0(f),f.length===0)return".";var $=f.charCodeAt(0)===47,Z=f.charCodeAt(f.length-1)===47;if(f=H4(f,!$),f.length===0&&!$)f=".";if(f.length>0&&Z)f+="/";if($)return"/"+f;return f}function F4(f){return v0(f),f.length>0&&f.charCodeAt(0)===47}function G4(){if(arguments.length===0)return".";var f;for(var $=0;$<arguments.length;++$){var Z=arguments[$];if(v0(Z),Z.length>0)if(f===void 0)f=Z;else f+="/"+Z}if(f===void 0)return".";return Wf(f)}function K4(f,$){if(v0(f),v0($),f===$)return"";if(f=C1(f),$=C1($),f===$)return"";var Z=1;for(;Z<f.length;++Z)if(f.charCodeAt(Z)!==47)break;var J=f.length,z=J-Z,Q=1;for(;Q<$.length;++Q)if($.charCodeAt(Q)!==47)break;var Y=$.length,X=Y-Q,W=z<X?z:X,V=-1,w=0;for(;w<=W;++w){if(w===W){if(X>W){if($.charCodeAt(Q+w)===47)return $.slice(Q+w+1);else if(w===0)return $.slice(Q+w)}else if(z>W){if(f.charCodeAt(Z+w)===47)V=w;else if(w===0)V=0}break}var F=f.charCodeAt(Z+w),O=$.charCodeAt(Q+w);if(F!==O)break;else if(F===47)V=w}var j="";for(w=Z+V+1;w<=J;++w)if(w===J||f.charCodeAt(w)===47)if(j.length===0)j+="..";else j+="/..";if(j.length>0)return j+$.slice(Q+V);else{if(Q+=V,$.charCodeAt(Q)===47)++Q;return $.slice(Q)}}function D4(f){return f}function O4(f){if(v0(f),f.length===0)return".";var $=f.charCodeAt(0),Z=$===47,J=-1,z=!0;for(var Q=f.length-1;Q>=1;--Q)if($=f.charCodeAt(Q),$===47){if(!z){J=Q;break}}else z=!1;if(J===-1)return Z?"/":".";if(Z&&J===1)return"//";return f.slice(0,J)}function L4(f,$){if($!==void 0&&typeof $!=="string")throw new TypeError('"ext" argument must be a string');v0(f);var Z=0,J=-1,z=!0,Q;if($!==void 0&&$.length>0&&$.length<=f.length){if($.length===f.length&&$===f)return"";var Y=$.length-1,X=-1;for(Q=f.length-1;Q>=0;--Q){var W=f.charCodeAt(Q);if(W===47){if(!z){Z=Q+1;break}}else{if(X===-1)z=!1,X=Q+1;if(Y>=0)if(W===$.charCodeAt(Y)){if(--Y===-1)J=Q}else Y=-1,J=X}}if(Z===J)J=X;else if(J===-1)J=f.length;return f.slice(Z,J)}else{for(Q=f.length-1;Q>=0;--Q)if(f.charCodeAt(Q)===47){if(!z){Z=Q+1;break}}else if(J===-1)z=!1,J=Q+1;if(J===-1)return"";return f.slice(Z,J)}}function M4(f){v0(f);var $=-1,Z=0,J=-1,z=!0,Q=0;for(var Y=f.length-1;Y>=0;--Y){var X=f.charCodeAt(Y);if(X===47){if(!z){Z=Y+1;break}continue}if(J===-1)z=!1,J=Y+1;if(X===46){if($===-1)$=Y;else if(Q!==1)Q=1}else if($!==-1)Q=-1}if($===-1||J===-1||Q===0||Q===1&&$===J-1&&$===Z+1)return"";return f.slice($,J)}function A4(f){if(f===null||typeof f!=="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof f);return BZ("/",f)}function q4(f){v0(f);var $={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return $;var Z=f.charCodeAt(0),J=Z===47,z;if(J)$.root="/",z=1;else z=0;var Q=-1,Y=0,X=-1,W=!0,V=f.length-1,w=0;for(;V>=z;--V){if(Z=f.charCodeAt(V),Z===47){if(!W){Y=V+1;break}continue}if(X===-1)W=!1,X=V+1;if(Z===46){if(Q===-1)Q=V;else if(w!==1)w=1}else if(Q!==-1)w=-1}if(Q===-1||X===-1||w===0||w===1&&Q===X-1&&Q===Y+1){if(X!==-1)if(Y===0&&J)$.base=$.name=f.slice(1,X);else $.base=$.name=f.slice(Y,X)}else{if(Y===0&&J)$.name=f.slice(1,Q),$.base=f.slice(1,X);else $.name=f.slice(Y,Q),$.base=f.slice(Y,X);$.ext=f.slice(Q,X)}if(Y>0)$.dir=f.slice(0,Y-1);else if(J)$.dir="/";return $}var j4="/",C4=":",T4,s0;var wf=Xf(()=>{T4=((f)=>(f.posix=f,f))({resolve:C1,normalize:Wf,isAbsolute:F4,join:G4,relative:K4,_makeLong:D4,dirname:O4,basename:L4,extname:M4,format:A4,parse:q4,sep:j4,delimiter:C4,win32:null,posix:null}),s0=T4});var S4=Z0((OZ)=>{var UZ=/[|\\{}()[\]^$+*?.]/g,HZ=Object.prototype.hasOwnProperty,Bf=function(f,$){return HZ.apply(f,[$])};OZ.escapeRegExpChars=function(f){if(!f)return"";return String(f).replace(UZ,"\\$&")};var FZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},GZ=/[&<>'"]/g;function KZ(f){return FZ[f]||f}var DZ=`var _ENCODE_HTML_RULES = {
      "&": "&amp;"
    , "<": "&lt;"
    , ">": "&gt;"
    , '"': "&#34;"
    , "'": "&#39;"
    }
  , _MATCH_HTML = /[&<>'"]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
`;OZ.escapeXML=function(f){return f==null?"":String(f).replace(GZ,KZ)};function I4(){return Function.prototype.toString.call(this)+`;
`+DZ}try{if(typeof Object.defineProperty==="function")Object.defineProperty(OZ.escapeXML,"toString",{value:I4});else OZ.escapeXML.toString=I4}catch(f){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}OZ.shallowCopy=function(f,$){if($=$||{},f!==null&&f!==void 0)for(var Z in $){if(!Bf($,Z))continue;if(Z==="__proto__"||Z==="constructor")continue;f[Z]=$[Z]}return f};OZ.shallowCopyFromList=function(f,$,Z){if(Z=Z||[],$=$||{},f!==null&&f!==void 0)for(var J=0;J<Z.length;J++){var z=Z[J];if(typeof $[z]!="undefined"){if(!Bf($,z))continue;if(z==="__proto__"||z==="constructor")continue;f[z]=$[z]}}return f};OZ.cache={_data:{},set:function(f,$){this._data[f]=$},get:function(f){return this._data[f]},remove:function(f){delete this._data[f]},reset:function(){this._data={}}};OZ.hyphenToCamel=function(f){return f.replace(/-[a-z]/g,function($){return $[1].toUpperCase()})};OZ.createNullProtoObjWherePossible=function(){if(typeof Object.create=="function")return function(){return Object.create(null)};if(!({__proto__:null}instanceof Object))return function(){return{__proto__:null}};return function(){return{}}}();OZ.hasOwnOnlyObject=function(f){var $=OZ.createNullProtoObjWherePossible();for(var Z in f)if(Bf(f,Z))$[Z]=f[Z];return $}});var E4=Z0((w6,TZ)=>{TZ.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.1.10",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",bin:{ejs:"./bin/cli.js"},main:"./lib/ejs.js",jsdelivr:"ejs.min.js",unpkg:"ejs.min.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{jake:"^10.8.5"},devDependencies:{browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"npx jake test"}}});var d4=Z0((u4)=>{var Ff=(()=>({})),B1=(wf(),r0(N4)),G0=S4(),P4=!1,NZ=E4().version,IZ="<",RZ=">",SZ="%",k4="locals",EZ="ejs",PZ="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",y4=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],bZ=y4.concat("cache"),b4=/^\uFEFF/,Uf=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;u4.cache=G0.cache;u4.fileLoader=Ff.readFileSync;u4.localsName=k4;u4.promiseImpl=new Function("return this;")().Promise;u4.resolveInclude=function(f,$,Z){var{dirname:J,extname:z,resolve:Q}=B1,Y=Q(Z?$:J($),f),X=z(f);if(!X)Y+=".ejs";return Y};function _4(f,$){var Z;if($.some(function(J){return Z=u4.resolveInclude(f,J,!0),Ff.existsSync(Z)}))return Z}function _Z(f,$){var Z,J,z=$.views,Q=/^[A-Za-z]+:\\|^\//.exec(f);if(Q&&Q.length)if(f=f.replace(/^\/*/,""),Array.isArray($.root))Z=_4(f,$.root);else Z=u4.resolveInclude(f,$.root||"/",!0);else{if($.filename){if(J=u4.resolveInclude(f,$.filename),Ff.existsSync(J))Z=J}if(!Z&&Array.isArray(z))Z=_4(f,z);if(!Z&&typeof $.includer!=="function")throw new Error('Could not find the include file "'+$.escapeFunction(f)+'"')}return Z}function U1(f,$){var Z,J=f.filename,z=arguments.length>1;if(f.cache){if(!J)throw new Error("cache option requires a filename");if(Z=u4.cache.get(J),Z)return Z;if(!z)$=v4(J).toString().replace(b4,"")}else if(!z){if(!J)throw new Error("Internal EJS error: no file name or template provided");$=v4(J).toString().replace(b4,"")}if(Z=u4.compile($,f),f.cache)u4.cache.set(J,Z);return Z}function vZ(f,$,Z){var J;if(!Z)if(typeof u4.promiseImpl=="function")return new u4.promiseImpl(function(z,Q){try{J=U1(f)($),z(J)}catch(Y){Q(Y)}});else throw new Error("Please provide a callback function");else{try{J=U1(f)($)}catch(z){return Z(z)}Z(null,J)}}function v4(f){return u4.fileLoader(f)}function gZ(f,$){var Z=G0.shallowCopy(G0.createNullProtoObjWherePossible(),$);if(Z.filename=_Z(f,Z),typeof $.includer==="function"){var J=$.includer(f,Z.filename);if(J){if(J.filename)Z.filename=J.filename;if(J.template)return U1(Z,J.template)}}return U1(Z)}function g4(f,$,Z,J,z){var Q=$.split(`
`),Y=Math.max(J-3,0),X=Math.min(Q.length,J+3),W=z(Z),V=Q.slice(Y,X).map(function(w,F){var O=F+Y+1;return(O==J?" >> ":"    ")+O+"| "+w}).join(`
`);throw f.path=W,f.message=(W||"ejs")+":"+J+`
`+V+`

`+f.message,f}function x4(f){return f.replace(/;(\s*$)/,"$1")}u4.compile=function f($,Z){var J;if(Z&&Z.scope){if(!P4)console.warn("`scope` option is deprecated and will be removed in EJS 3"),P4=!0;if(!Z.context)Z.context=Z.scope;delete Z.scope}return J=new M0($,Z),J.compile()};u4.render=function(f,$,Z){var J=$||G0.createNullProtoObjWherePossible(),z=Z||G0.createNullProtoObjWherePossible();if(arguments.length==2)G0.shallowCopyFromList(z,J,y4);return U1(z,f)(J)};u4.renderFile=function(){var f=Array.prototype.slice.call(arguments),$=f.shift(),Z,J={filename:$},z,Q;if(typeof arguments[arguments.length-1]=="function")Z=f.pop();if(f.length){if(z=f.shift(),f.length)G0.shallowCopy(J,f.pop());else{if(z.settings){if(z.settings.views)J.views=z.settings.views;if(z.settings["view cache"])J.cache=!0;if(Q=z.settings["view options"],Q)G0.shallowCopy(J,Q)}G0.shallowCopyFromList(J,z,bZ)}J.filename=$}else z=G0.createNullProtoObjWherePossible();return vZ(J,z,Z)};u4.Template=M0;u4.clearCache=function(){u4.cache.reset()};function M0(f,$){var Z=G0.hasOwnOnlyObject($),J=G0.createNullProtoObjWherePossible();if(this.templateText=f,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",J.client=Z.client||!1,J.escapeFunction=Z.escape||Z.escapeFunction||G0.escapeXML,J.compileDebug=Z.compileDebug!==!1,J.debug=!!Z.debug,J.filename=Z.filename,J.openDelimiter=Z.openDelimiter||u4.openDelimiter||IZ,J.closeDelimiter=Z.closeDelimiter||u4.closeDelimiter||RZ,J.delimiter=Z.delimiter||u4.delimiter||SZ,J.strict=Z.strict||!1,J.context=Z.context,J.cache=Z.cache||!1,J.rmWhitespace=Z.rmWhitespace,J.root=Z.root,J.includer=Z.includer,J.outputFunctionName=Z.outputFunctionName,J.localsName=Z.localsName||u4.localsName||k4,J.views=Z.views,J.async=Z.async,J.destructuredLocals=Z.destructuredLocals,J.legacyInclude=typeof Z.legacyInclude!="undefined"?!!Z.legacyInclude:!0,J.strict)J._with=!1;else J._with=typeof Z._with!="undefined"?Z._with:!0;this.opts=J,this.regex=this.createRegex()}M0.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"};M0.prototype={createRegex:function(){var f=PZ,$=G0.escapeRegExpChars(this.opts.delimiter),Z=G0.escapeRegExpChars(this.opts.openDelimiter),J=G0.escapeRegExpChars(this.opts.closeDelimiter);return f=f.replace(/%/g,$).replace(/</g,Z).replace(/>/g,J),new RegExp(f)},compile:function(){var f,$,Z=this.opts,J="",z="",Q=Z.escapeFunction,Y,X=Z.filename?JSON.stringify(Z.filename):"undefined";if(!this.source){if(this.generateSource(),J+=`  var __output = "";
  function __append(s) { if (s !== undefined && s !== null) __output += s }
`,Z.outputFunctionName){if(!Uf.test(Z.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");J+="  var "+Z.outputFunctionName+` = __append;
`}if(Z.localsName&&!Uf.test(Z.localsName))throw new Error("localsName is not a valid JS identifier.");if(Z.destructuredLocals&&Z.destructuredLocals.length){var W="  var __locals = ("+Z.localsName+` || {}),
`;for(var V=0;V<Z.destructuredLocals.length;V++){var w=Z.destructuredLocals[V];if(!Uf.test(w))throw new Error("destructuredLocals["+V+"] is not a valid JS identifier.");if(V>0)W+=`,
  `;W+=w+" = __locals."+w}J+=W+`;
`}if(Z._with!==!1)J+="  with ("+Z.localsName+` || {}) {
`,z+=`  }
`;z+=`  return __output;
`,this.source=J+this.source+z}if(Z.compileDebug)f=`var __line = 1
  , __lines = `+JSON.stringify(this.templateText)+`
  , __filename = `+X+`;
try {
`+this.source+`} catch (e) {
  rethrow(e, __lines, __filename, __line, escapeFn);
}
`;else f=this.source;if(Z.client){if(f="escapeFn = escapeFn || "+Q.toString()+`;
`+f,Z.compileDebug)f="rethrow = rethrow || "+g4.toString()+`;
`+f}if(Z.strict)f=`"use strict";
`+f;if(Z.debug)console.log(f);if(Z.compileDebug&&Z.filename)f=f+`
//# sourceURL=`+X+`
`;try{if(Z.async)try{Y=new Function("return (async function(){}).constructor;")()}catch(M){if(M instanceof SyntaxError)throw new Error("This environment does not support async/await");else throw M}else Y=Function;$=new Y(Z.localsName+", escapeFn, include, rethrow",f)}catch(M){if(M instanceof SyntaxError){if(Z.filename)M.message+=" in "+Z.filename;if(M.message+=` while compiling ejs

`,M.message+=`If the above error is not helpful, you may want to try EJS-Lint:
`,M.message+="https://github.com/RyanZim/EJS-Lint",!Z.async)M.message+=`
`,M.message+="Or, if you meant to create an async function, pass `async: true` as an option."}throw M}var F=Z.client?$:function M(E){var x=function(_,g){var v=G0.shallowCopy(G0.createNullProtoObjWherePossible(),E);if(g)v=G0.shallowCopy(v,g);return gZ(_,Z)(v)};return $.apply(Z.context,[E||G0.createNullProtoObjWherePossible(),Q,x,g4])};if(Z.filename&&typeof Object.defineProperty==="function"){var O=Z.filename,j=B1.basename(O,B1.extname(O));try{Object.defineProperty(F,"name",{value:j,writable:!1,enumerable:!1,configurable:!0})}catch(M){}}return F},generateSource:function(){var f=this.opts;if(f.rmWhitespace)this.templateText=this.templateText.replace(/[\r\n]+/g,`
`).replace(/^\s+|\s+$/gm,"");this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var $=this,Z=this.parseTemplateText(),J=this.opts.delimiter,z=this.opts.openDelimiter,Q=this.opts.closeDelimiter;if(Z&&Z.length)Z.forEach(function(Y,X){var W;if(Y.indexOf(z+J)===0&&Y.indexOf(z+J+J)!==0){if(W=Z[X+2],!(W==J+Q||W=="-"+J+Q||W=="_"+J+Q))throw new Error('Could not find matching close tag for "'+Y+'".')}$.scanLine(Y)})},parseTemplateText:function(){var f=this.templateText,$=this.regex,Z=$.exec(f),J=[],z;while(Z){if(z=Z.index,z!==0)J.push(f.substring(0,z)),f=f.slice(z);J.push(Z[0]),f=f.slice(Z[0].length),Z=$.exec(f)}if(f)J.push(f);return J},_addOutput:function(f){if(this.truncate)f=f.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1;if(!f)return f;f=f.replace(/\\/g,"\\\\"),f=f.replace(/\n/g,"\\n"),f=f.replace(/\r/g,"\\r"),f=f.replace(/"/g,"\\\""),this.source+='    ; __append("'+f+`")
`},scanLine:function(f){var $=this,Z=this.opts.delimiter,J=this.opts.openDelimiter,z=this.opts.closeDelimiter,Q=0;switch(Q=f.split(`
`).length-1,f){case J+Z:case J+Z+"_":this.mode=M0.modes.EVAL;break;case J+Z+"=":this.mode=M0.modes.ESCAPED;break;case J+Z+"-":this.mode=M0.modes.RAW;break;case J+Z+"#":this.mode=M0.modes.COMMENT;break;case J+Z+Z:this.mode=M0.modes.LITERAL,this.source+='    ; __append("'+f.replace(J+Z+Z,J+Z)+`")
`;break;case Z+Z+z:this.mode=M0.modes.LITERAL,this.source+='    ; __append("'+f.replace(Z+Z+z,Z+z)+`")
`;break;case Z+z:case"-"+Z+z:case"_"+Z+z:if(this.mode==M0.modes.LITERAL)this._addOutput(f);this.mode=null,this.truncate=f.indexOf("-")===0||f.indexOf("_")===0;break;default:if(this.mode){switch(this.mode){case M0.modes.EVAL:case M0.modes.ESCAPED:case M0.modes.RAW:if(f.lastIndexOf("//")>f.lastIndexOf(`
`))f+=`
`}switch(this.mode){case M0.modes.EVAL:this.source+="    ; "+f+`
`;break;case M0.modes.ESCAPED:this.source+="    ; __append(escapeFn("+x4(f)+`))
`;break;case M0.modes.RAW:this.source+="    ; __append("+x4(f)+`)
`;break;case M0.modes.COMMENT:break;case M0.modes.LITERAL:this._addOutput(f);break}}else this._addOutput(f)}if($.opts.compileDebug&&Q)this.currentLine+=Q,this.source+="    ; __line = "+this.currentLine+`
`}};u4.escapeXML=G0.escapeXML;u4.__express=u4.renderFile;u4.VERSION=NZ;u4.name=EZ;if(typeof window!="undefined")window.ejs=u4});var t4={};Yf(t4,{types:()=>W8,promisify:()=>D8,log:()=>G8,isUndefined:()=>t0,isSymbol:()=>V8,isString:()=>k1,isRegExp:()=>b1,isPrimitive:()=>B8,isObject:()=>e0,isNumber:()=>o4,isNullOrUndefined:()=>w8,isNull:()=>x1,isFunction:()=>v1,isError:()=>_1,isDate:()=>Af,isBuffer:()=>U8,isBoolean:()=>jf,isArray:()=>p4,inspect:()=>d0,inherits:()=>K8,format:()=>qf,deprecate:()=>f8,debuglog:()=>$8,callbackifyOnRejected:()=>a4,callbackify:()=>O8,_extend:()=>r4,TextEncoder:()=>L8,TextDecoder:()=>M8});function qf(f,...$){if(!k1(f)){var Z=[f];for(var J=0;J<$.length;J++)Z.push(d0($[J]));return Z.join(" ")}var J=0,z=$.length,Q=String(f).replace(eZ,function(X){if(X==="%%")return"%";if(J>=z)return X;switch(X){case"%s":return String($[J++]);case"%d":return Number($[J++]);case"%j":try{return JSON.stringify($[J++])}catch(W){return"[Circular]"}default:return X}});for(var Y=$[J];J<z;Y=$[++J])if(x1(Y)||!e0(Y))Q+=" "+Y;else Q+=" "+d0(Y);return Q}function f8(f,$){if(typeof process==="undefined"||process?.noDeprecation===!0)return f;var Z=!1;function J(...z){if(!Z){if(process.throwDeprecation)throw new Error($);else if(process.traceDeprecation)console.trace($);else console.error($);Z=!0}return f.apply(this,...z)}return J}function Z8(f,$){var Z=d0.styles[$];if(Z)return"\x1B["+d0.colors[Z][0]+"m"+f+"\x1B["+d0.colors[Z][1]+"m";else return f}function J8(f,$){return f}function z8(f){var $={};return f.forEach(function(Z,J){$[Z]=!0}),$}function g1(f,$,Z){if(f.customInspect&&$&&v1($.inspect)&&$.inspect!==d0&&!($.constructor&&$.constructor.prototype===$)){var J=$.inspect(Z,f);if(!k1(J))J=g1(f,J,Z);return J}var z=Q8(f,$);if(z)return z;var Q=Object.keys($),Y=z8(Q);if(f.showHidden)Q=Object.getOwnPropertyNames($);if(_1($)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return Of($);if(Q.length===0){if(v1($)){var X=$.name?": "+$.name:"";return f.stylize("[Function"+X+"]","special")}if(b1($))return f.stylize(RegExp.prototype.toString.call($),"regexp");if(Af($))return f.stylize(Date.prototype.toString.call($),"date");if(_1($))return Of($)}var W="",V=!1,w=["{","}"];if(p4($))V=!0,w=["[","]"];if(v1($)){var F=$.name?": "+$.name:"";W=" [Function"+F+"]"}if(b1($))W=" "+RegExp.prototype.toString.call($);if(Af($))W=" "+Date.prototype.toUTCString.call($);if(_1($))W=" "+Of($);if(Q.length===0&&(!V||$.length==0))return w[0]+W+w[1];if(Z<0)if(b1($))return f.stylize(RegExp.prototype.toString.call($),"regexp");else return f.stylize("[Object]","special");f.seen.push($);var O;if(V)O=Y8(f,$,Z,Y,Q);else O=Q.map(function(j){return Mf(f,$,Z,Y,j,V)});return f.seen.pop(),X8(O,W,w)}function Q8(f,$){if(t0($))return f.stylize("undefined","undefined");if(k1($)){var Z="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f.stylize(Z,"string")}if(o4($))return f.stylize(""+$,"number");if(jf($))return f.stylize(""+$,"boolean");if(x1($))return f.stylize("null","null")}function Of(f){return"["+Error.prototype.toString.call(f)+"]"}function Y8(f,$,Z,J,z){var Q=[];for(var Y=0,X=$.length;Y<X;++Y)if(s4($,String(Y)))Q.push(Mf(f,$,Z,J,String(Y),!0));else Q.push("");return z.forEach(function(W){if(!W.match(/^\d+$/))Q.push(Mf(f,$,Z,J,W,!0))}),Q}function Mf(f,$,Z,J,z,Q){var Y,X,W;if(W=Object.getOwnPropertyDescriptor($,z)||{value:$[z]},W.get)if(W.set)X=f.stylize("[Getter/Setter]","special");else X=f.stylize("[Getter]","special");else if(W.set)X=f.stylize("[Setter]","special");if(!s4(J,z))Y="["+z+"]";if(!X)if(f.seen.indexOf(W.value)<0){if(x1(Z))X=g1(f,W.value,null);else X=g1(f,W.value,Z-1);if(X.indexOf(`
`)>-1)if(Q)X=X.split(`
`).map(function(V){return"  "+V}).join(`
`).slice(2);else X=`
`+X.split(`
`).map(function(V){return"   "+V}).join(`
`)}else X=f.stylize("[Circular]","special");if(t0(Y)){if(Q&&z.match(/^\d+$/))return X;if(Y=JSON.stringify(""+z),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/))Y=Y.slice(1,-1),Y=f.stylize(Y,"name");else Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=f.stylize(Y,"string")}return Y+": "+X}function X8(f,$,Z){var J=0,z=f.reduce(function(Q,Y){if(J++,Y.indexOf(`
`)>=0)J++;return Q+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(z>60)return Z[0]+($===""?"":$+`
 `)+" "+f.join(`,
  `)+" "+Z[1];return Z[0]+$+" "+f.join(", ")+" "+Z[1]}function p4(f){return Array.isArray(f)}function jf(f){return typeof f==="boolean"}function x1(f){return f===null}function w8(f){return f==null}function o4(f){return typeof f==="number"}function k1(f){return typeof f==="string"}function V8(f){return typeof f==="symbol"}function t0(f){return f===void 0}function b1(f){return e0(f)&&Cf(f)==="[object RegExp]"}function e0(f){return typeof f==="object"&&f!==null}function Af(f){return e0(f)&&Cf(f)==="[object Date]"}function _1(f){return e0(f)&&(Cf(f)==="[object Error]"||f instanceof Error)}function v1(f){return typeof f==="function"}function B8(f){return f===null||typeof f==="boolean"||typeof f==="number"||typeof f==="string"||typeof f==="symbol"||typeof f==="undefined"}function U8(f){return f instanceof Buffer}function Cf(f){return Object.prototype.toString.call(f)}function Lf(f){return f<10?"0"+f.toString(10):f.toString(10)}function F8(){var f=new Date,$=[Lf(f.getHours()),Lf(f.getMinutes()),Lf(f.getSeconds())].join(":");return[f.getDate(),H8[f.getMonth()],$].join(" ")}function G8(...f){console.log("%s - %s",F8(),qf.apply(null,f))}function K8(f,$){if($)f.super_=$,f.prototype=Object.create($.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})}function r4(f,$){if(!$||!e0($))return f;var Z=Object.keys($),J=Z.length;while(J--)f[Z[J]]=$[Z[J]];return f}function s4(f,$){return Object.prototype.hasOwnProperty.call(f,$)}function a4(f,$){if(!f){var Z=new Error("Promise was rejected with a falsy value");Z.reason=f,f=Z}return $(f)}function O8(f){if(typeof f!=="function")throw new TypeError('The "original" argument must be of type Function');function $(...Z){var J=Z.pop();if(typeof J!=="function")throw new TypeError("The last argument must be of type Function");var z=this,Q=function(...Y){return J.apply(z,...Y)};f.apply(this,Z).then(function(Y){process.nextTick(Q.bind(null,null,Y))},function(Y){process.nextTick(a4.bind(null,Y,Q))})}return Object.setPrototypeOf($,Object.getPrototypeOf(f)),Object.defineProperties($,Object.getOwnPropertyDescriptors(f)),$}var eZ,$8,d0,W8=()=>{},H8,D8,L8,M8;var e4=Xf(()=>{eZ=/%[sdj%]/g;$8=((f={},$={},Z)=>((Z=typeof process!=="undefined"&&process.env.NODE_DEBUG)&&(Z=Z.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase()),$=new RegExp("^"+Z+"$","i"),(J)=>{if(J=J.toUpperCase(),!f[J])if($.test(J))f[J]=function(...z){console.error("%s: %s",J,pid,qf.apply(null,...z))};else f[J]=function(){};return f[J]}))(),d0=((f)=>(f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},f.custom=Symbol.for("nodejs.util.inspect.custom"),f))(function f($,Z,...J){var z={seen:[],stylize:J8};if(J.length>=1)z.depth=J[0];if(J.length>=2)z.colors=J[1];if(jf(Z))z.showHidden=Z;else if(Z)r4(z,Z);if(t0(z.showHidden))z.showHidden=!1;if(t0(z.depth))z.depth=2;if(t0(z.colors))z.colors=!1;if(z.colors)z.stylize=Z8;return g1(z,$,z.depth)});H8=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];D8=((f)=>(f.custom=Symbol.for("nodejs.util.promisify.custom"),f))(function f($){if(typeof $!=="function")throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&$[kCustomPromisifiedSymbol]){var Z=$[kCustomPromisifiedSymbol];if(typeof Z!=="function")throw new TypeError('The "nodejs.util.promisify.custom" argument must be of type Function');return Object.defineProperty(Z,kCustomPromisifiedSymbol,{value:Z,enumerable:!1,writable:!1,configurable:!0}),Z}function Z(...J){var z,Q,Y=new Promise(function(X,W){z=X,Q=W});J.push(function(X,W){if(X)Q(X);else z(W)});try{$.apply(this,J)}catch(X){Q(X)}return Y}if(Object.setPrototypeOf(Z,Object.getPrototypeOf($)),kCustomPromisifiedSymbol)Object.defineProperty(Z,kCustomPromisifiedSymbol,{value:Z,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(Z,Object.getOwnPropertyDescriptors($))});({TextEncoder:L8,TextDecoder:M8}=globalThis)});var D1={};Yf(D1,{throws:()=>vJ,strictEqual:()=>_J,strict:()=>bJ,rejects:()=>PJ,ok:()=>EJ,notStrictEqual:()=>SJ,notEqual:()=>RJ,notDeepStrictEqual:()=>IJ,notDeepEqual:()=>NJ,match:()=>TJ,ifError:()=>CJ,fail:()=>jJ,equal:()=>qJ,doesNotThrow:()=>AJ,doesNotReject:()=>MJ,doesNotMatch:()=>LJ,default:()=>gJ,deepStrictEqual:()=>OJ,deepEqual:()=>DJ,CallTracker:()=>KJ,AssertionError:()=>GJ});var A8,q8,f$,j8,C8,T8=(f,$,Z)=>{Z=f!=null?A8(q8(f)):{};let J=$||!f||!f.__esModule?f$(Z,"default",{value:f,enumerable:!0}):Z;for(let z of j8(f))if(!C8.call(J,z))f$(J,z,{get:()=>f[z],enumerable:!0});return J},u=(f,$)=>()=>($||f(($={exports:{}}).exports,$),$.exports),Nf,y1,If,N8,I8,R8,S8,$$,G1,E8,P8,b8,_8,v8,g8,x8,k8,y8,u8,f1,u1,c8,Z$,J$,h8,K1,Rf,Sf,m8,z$,Ef,d8,Pf,Q$,bf,$1,i8,l8,n8,p8,o8,r8,s8,a8,Y$,X$,t8,e8,c1,W$,fJ,$J,ZJ,JJ,zJ,F1,w$,QJ,V$,YJ,B$,XJ,WJ,U$,_f,wJ,h1,VJ,BJ,H$,F$,UJ,HJ,FJ,Tf,G$,GJ,KJ,DJ,OJ,LJ,MJ,AJ,qJ,jJ,CJ,TJ,NJ,IJ,RJ,SJ,EJ,PJ,bJ,_J,vJ,gJ;var O1=Xf(()=>{A8=Object.create,{getPrototypeOf:q8,defineProperty:f$,getOwnPropertyNames:j8}=Object,C8=Object.prototype.hasOwnProperty,Nf=u((f,$)=>{$.exports=function Z(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function")return!1;if(typeof Symbol.iterator==="symbol")return!0;var J={},z=Symbol("test"),Q=Object(z);if(typeof z==="string")return!1;if(Object.prototype.toString.call(z)!=="[object Symbol]")return!1;if(Object.prototype.toString.call(Q)!=="[object Symbol]")return!1;var Y=42;J[z]=Y;for(var X in J)return!1;if(typeof Object.keys==="function"&&Object.keys(J).length!==0)return!1;if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(J).length!==0)return!1;var W=Object.getOwnPropertySymbols(J);if(W.length!==1||W[0]!==z)return!1;if(!Object.prototype.propertyIsEnumerable.call(J,z))return!1;if(typeof Object.getOwnPropertyDescriptor==="function"){var V=Object.getOwnPropertyDescriptor(J,z);if(V.value!==Y||V.enumerable!==!0)return!1}return!0}}),y1=u((f,$)=>{var Z=Nf();$.exports=function J(){return Z()&&!!Symbol.toStringTag}}),If=u((f,$)=>{$.exports=Object}),N8=u((f,$)=>{$.exports=Error}),I8=u((f,$)=>{$.exports=EvalError}),R8=u((f,$)=>{$.exports=RangeError}),S8=u((f,$)=>{$.exports=ReferenceError}),$$=u((f,$)=>{$.exports=SyntaxError}),G1=u((f,$)=>{$.exports=TypeError}),E8=u((f,$)=>{$.exports=URIError}),P8=u((f,$)=>{$.exports=Math.abs}),b8=u((f,$)=>{$.exports=Math.floor}),_8=u((f,$)=>{$.exports=Math.max}),v8=u((f,$)=>{$.exports=Math.min}),g8=u((f,$)=>{$.exports=Math.pow}),x8=u((f,$)=>{$.exports=Math.round}),k8=u((f,$)=>{$.exports=Number.isNaN||function Z(J){return J!==J}}),y8=u((f,$)=>{var Z=k8();$.exports=function J(z){if(Z(z)||z===0)return z;return z<0?-1:1}}),u8=u((f,$)=>{$.exports=Object.getOwnPropertyDescriptor}),f1=u((f,$)=>{var Z=u8();if(Z)try{Z([],"length")}catch(J){Z=null}$.exports=Z}),u1=u((f,$)=>{var Z=Object.defineProperty||!1;if(Z)try{Z({},"a",{value:1})}catch(J){Z=!1}$.exports=Z}),c8=u((f,$)=>{var Z=typeof Symbol!=="undefined"&&Symbol,J=Nf();$.exports=function z(){if(typeof Z!=="function")return!1;if(typeof Symbol!=="function")return!1;if(typeof Z("foo")!=="symbol")return!1;if(typeof Symbol("bar")!=="symbol")return!1;return J()}}),Z$=u((f,$)=>{$.exports=typeof Reflect!=="undefined"&&Reflect.getPrototypeOf||null}),J$=u((f,$)=>{var Z=If();$.exports=Z.getPrototypeOf||null}),h8=u((f,$)=>{var Z="Function.prototype.bind called on incompatible ",J=Object.prototype.toString,z=Math.max,Q="[object Function]",Y=function V(w,F){var O=[];for(var j=0;j<w.length;j+=1)O[j]=w[j];for(var M=0;M<F.length;M+=1)O[M+w.length]=F[M];return O},X=function V(w,F){var O=[];for(var j=F||0,M=0;j<w.length;j+=1,M+=1)O[M]=w[j];return O},W=function(V,w){var F="";for(var O=0;O<V.length;O+=1)if(F+=V[O],O+1<V.length)F+=w;return F};$.exports=function V(w){var F=this;if(typeof F!=="function"||J.apply(F)!==Q)throw new TypeError(Z+F);var O=X(arguments,1),j,M=function(){if(this instanceof j){var v=F.apply(this,Y(O,arguments));if(Object(v)===v)return v;return this}return F.apply(w,Y(O,arguments))},E=z(0,F.length-O.length),x=[];for(var _=0;_<E;_++)x[_]="$"+_;if(j=Function("binder","return function ("+W(x,",")+"){ return binder.apply(this,arguments); }")(M),F.prototype){var g=function v(){};g.prototype=F.prototype,j.prototype=new g,g.prototype=null}return j}}),K1=u((f,$)=>{var Z=h8();$.exports=Function.prototype.bind||Z}),Rf=u((f,$)=>{$.exports=Function.prototype.call}),Sf=u((f,$)=>{$.exports=Function.prototype.apply}),m8=u((f,$)=>{$.exports=typeof Reflect!=="undefined"&&Reflect&&Reflect.apply}),z$=u((f,$)=>{var Z=K1(),J=Sf(),z=Rf(),Q=m8();$.exports=Q||Z.call(z,J)}),Ef=u((f,$)=>{var Z=K1(),J=G1(),z=Rf(),Q=z$();$.exports=function Y(X){if(X.length<1||typeof X[0]!=="function")throw new J("a function is required");return Q(Z,z,X)}}),d8=u((f,$)=>{var Z=Ef(),J=f1(),z;try{z=[].__proto__===Array.prototype}catch(W){if(!W||typeof W!=="object"||!("code"in W)||W.code!=="ERR_PROTO_ACCESS")throw W}var Q=!!z&&J&&J(Object.prototype,"__proto__"),Y=Object,X=Y.getPrototypeOf;$.exports=Q&&typeof Q.get==="function"?Z([Q.get]):typeof X==="function"?function W(V){return X(V==null?V:Y(V))}:!1}),Pf=u((f,$)=>{var Z=Z$(),J=J$(),z=d8();$.exports=Z?function Q(Y){return Z(Y)}:J?function Q(Y){if(!Y||typeof Y!=="object"&&typeof Y!=="function")throw new TypeError("getProto: not an object");return J(Y)}:z?function Q(Y){return z(Y)}:null}),Q$=u((f,$)=>{var Z=Function.prototype.call,J=Object.prototype.hasOwnProperty,z=K1();$.exports=z.call(Z,J)}),bf=u((f,$)=>{var Z,J=If(),z=N8(),Q=I8(),Y=R8(),X=S8(),W=$$(),V=G1(),w=E8(),F=P8(),O=b8(),j=_8(),M=v8(),E=g8(),x=x8(),_=y8(),g=Function,v=function(H){try{return g('"use strict"; return ('+H+").constructor;")()}catch(A){}},b=f1(),i=u1(),a=function(){throw new V},N=b?function(){try{return arguments.callee,a}catch(H){try{return b(arguments,"callee").get}catch(A){return a}}}():a,C=c8()(),I=Pf(),h=J$(),r=Z$(),m=Sf(),$0=Rf(),l={},w0=typeof Uint8Array==="undefined"||!I?Z:I(Uint8Array),V0={__proto__:null,"%AggregateError%":typeof AggregateError==="undefined"?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?Z:ArrayBuffer,"%ArrayIteratorPrototype%":C&&I?I([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":typeof Atomics==="undefined"?Z:Atomics,"%BigInt%":typeof BigInt==="undefined"?Z:BigInt,"%BigInt64Array%":typeof BigInt64Array==="undefined"?Z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array==="undefined"?Z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView==="undefined"?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":z,"%eval%":eval,"%EvalError%":Q,"%Float16Array%":typeof Float16Array==="undefined"?Z:Float16Array,"%Float32Array%":typeof Float32Array==="undefined"?Z:Float32Array,"%Float64Array%":typeof Float64Array==="undefined"?Z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry==="undefined"?Z:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":l,"%Int8Array%":typeof Int8Array==="undefined"?Z:Int8Array,"%Int16Array%":typeof Int16Array==="undefined"?Z:Int16Array,"%Int32Array%":typeof Int32Array==="undefined"?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":C&&I?I(I([][Symbol.iterator]())):Z,"%JSON%":typeof JSON==="object"?JSON:Z,"%Map%":typeof Map==="undefined"?Z:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!C||!I?Z:I(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":J,"%Object.getOwnPropertyDescriptor%":b,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?Z:Promise,"%Proxy%":typeof Proxy==="undefined"?Z:Proxy,"%RangeError%":Y,"%ReferenceError%":X,"%Reflect%":typeof Reflect==="undefined"?Z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set==="undefined"?Z:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!C||!I?Z:I(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":C&&I?I(""[Symbol.iterator]()):Z,"%Symbol%":C?Symbol:Z,"%SyntaxError%":W,"%ThrowTypeError%":N,"%TypedArray%":w0,"%TypeError%":V,"%Uint8Array%":typeof Uint8Array==="undefined"?Z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?Z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array==="undefined"?Z:Uint16Array,"%Uint32Array%":typeof Uint32Array==="undefined"?Z:Uint32Array,"%URIError%":w,"%WeakMap%":typeof WeakMap==="undefined"?Z:WeakMap,"%WeakRef%":typeof WeakRef==="undefined"?Z:WeakRef,"%WeakSet%":typeof WeakSet==="undefined"?Z:WeakSet,"%Function.prototype.call%":$0,"%Function.prototype.apply%":m,"%Object.defineProperty%":i,"%Object.getPrototypeOf%":h,"%Math.abs%":F,"%Math.floor%":O,"%Math.max%":j,"%Math.min%":M,"%Math.pow%":E,"%Math.round%":x,"%Math.sign%":_,"%Reflect.getPrototypeOf%":r};if(I)try{null.error}catch(H){A0=I(I(H)),V0["%Error.prototype%"]=A0}var A0,B0=function H(A){var y;if(A==="%AsyncFunction%")y=v("async function () {}");else if(A==="%GeneratorFunction%")y=v("function* () {}");else if(A==="%AsyncGeneratorFunction%")y=v("async function* () {}");else if(A==="%AsyncGenerator%"){var S=H("%AsyncGeneratorFunction%");if(S)y=S.prototype}else if(A==="%AsyncIteratorPrototype%"){var p=H("%AsyncGenerator%");if(p&&I)y=I(p.prototype)}return V0[A]=y,y},O0={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},F0=K1(),R=Q$(),B=F0.call($0,Array.prototype.concat),K=F0.call(m,Array.prototype.splice),L=F0.call($0,String.prototype.replace),P=F0.call($0,String.prototype.slice),d=F0.call($0,RegExp.prototype.exec),s=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,c=/\\(\\)?/g,D=function H(A){var y=P(A,0,1),S=P(A,-1);if(y==="%"&&S!=="%")throw new W("invalid intrinsic syntax, expected closing `%`");else if(S==="%"&&y!=="%")throw new W("invalid intrinsic syntax, expected opening `%`");var p=[];return L(A,s,function(t,Y0,X0,T){p[p.length]=X0?L(T,c,"$1"):Y0||t}),p},U=function H(A,y){var S=A,p;if(R(O0,S))p=O0[S],S="%"+p[0]+"%";if(R(V0,S)){var t=V0[S];if(t===l)t=B0(S);if(typeof t==="undefined"&&!y)throw new V("intrinsic "+A+" exists, but is not available. Please file an issue!");return{alias:p,name:S,value:t}}throw new W("intrinsic "+A+" does not exist!")};$.exports=function H(A,y){if(typeof A!=="string"||A.length===0)throw new V("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof y!=="boolean")throw new V('"allowMissing" argument must be a boolean');if(d(/^%?[^%]*%?$/,A)===null)throw new W("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var S=D(A),p=S.length>0?S[0]:"",t=U("%"+p+"%",y),Y0=t.name,X0=t.value,T=!1,L0=t.alias;if(L0)p=L0[0],K(S,B([0,1],L0));for(var b0=1,P0=!0;b0<S.length;b0+=1){var U0=S[b0],I0=P(U0,0,1),N0=P(U0,-1);if((I0==='"'||I0==="'"||I0==="`"||(N0==='"'||N0==="'"||N0==="`"))&&I0!==N0)throw new W("property names with quotes must have matching quotes");if(U0==="constructor"||!P0)T=!0;if(p+="."+U0,Y0="%"+p+"%",R(V0,Y0))X0=V0[Y0];else if(X0!=null){if(!(U0 in X0)){if(!y)throw new V("base intrinsic for "+A+" exists, but the property is not available.");return}if(b&&b0+1>=S.length){var _0=b(X0,U0);if(P0=!!_0,P0&&"get"in _0&&!("originalValue"in _0.get))X0=_0.get;else X0=X0[U0]}else P0=R(X0,U0),X0=X0[U0];if(P0&&!T)V0[Y0]=X0}}return X0}}),$1=u((f,$)=>{var Z=bf(),J=Ef(),z=J([Z("%String.prototype.indexOf%")]);$.exports=function Q(Y,X){var W=Z(Y,!!X);if(typeof W==="function"&&z(Y,".prototype.")>-1)return J([W]);return W}}),i8=u((f,$)=>{var Z=y1()(),J=$1(),z=J("Object.prototype.toString"),Q=function W(V){if(Z&&V&&typeof V==="object"&&Symbol.toStringTag in V)return!1;return z(V)==="[object Arguments]"},Y=function W(V){if(Q(V))return!0;return V!==null&&typeof V==="object"&&"length"in V&&typeof V.length==="number"&&V.length>=0&&z(V)!=="[object Array]"&&"callee"in V&&z(V.callee)==="[object Function]"},X=function(){return Q(arguments)}();Q.isLegacyArguments=Y,$.exports=X?Q:Y}),l8=u((f,$)=>{var Z=$1(),J=y1()(),z=Q$(),Q=f1(),Y;if(J){if(X=Z("RegExp.prototype.exec"),W={},V=function(){throw W},w={toString:V,valueOf:V},typeof Symbol.toPrimitive==="symbol")w[Symbol.toPrimitive]=V;Y=function j(M){if(!M||typeof M!=="object")return!1;var E=Q(M,"lastIndex"),x=E&&z(E,"value");if(!x)return!1;try{X(M,w)}catch(_){return _===W}}}else F=Z("Object.prototype.toString"),O="[object RegExp]",Y=function j(M){if(!M||typeof M!=="object"&&typeof M!=="function")return!1;return F(M)===O};var X,W,V,w,F,O;$.exports=Y}),n8=u((f,$)=>{var Z=$1(),J=l8(),z=Z("RegExp.prototype.exec"),Q=G1();$.exports=function Y(X){if(!J(X))throw new Q("`regex` must be a RegExp");return function W(V){return z(X,V)!==null}}}),p8=u((f,$)=>{var Z=$1(),J=n8(),z=J(/^\s*(?:function)?\*/),Q=y1()(),Y=Pf(),X=Z("Object.prototype.toString"),W=Z("Function.prototype.toString"),V=function(){if(!Q)return!1;try{return Function("return function*() {}")()}catch(F){}},w;$.exports=function F(O){if(typeof O!=="function")return!1;if(z(W(O)))return!0;if(!Q){var j=X(O);return j==="[object GeneratorFunction]"}if(!Y)return!1;if(typeof w==="undefined"){var M=V();w=M?Y(M):!1}return Y(O)===w}}),o8=u((f,$)=>{var Z=Function.prototype.toString,J=typeof Reflect==="object"&&Reflect!==null&&Reflect.apply,z,Q;if(typeof J==="function"&&typeof Object.defineProperty==="function")try{z=Object.defineProperty({},"length",{get:function(){throw Q}}),Q={},J(function(){throw 42},null,z)}catch(b){if(b!==Q)J=null}else J=null;var Y=/^\s*class\b/,X=function b(i){try{var a=Z.call(i);return Y.test(a)}catch(N){return!1}},W=function b(i){try{if(X(i))return!1;return Z.call(i),!0}catch(a){return!1}},V=Object.prototype.toString,w="[object Object]",F="[object Function]",O="[object GeneratorFunction]",j="[object HTMLAllCollection]",M="[object HTML document.all class]",E="[object HTMLCollection]",x=typeof Symbol==="function"&&!!Symbol.toStringTag,_=!(0 in[,]),g=function b(){return!1};if(typeof document==="object"){if(v=document.all,V.call(v)===V.call(document.all))g=function b(i){if((_||!i)&&(typeof i==="undefined"||typeof i==="object"))try{var a=V.call(i);return(a===j||a===M||a===E||a===w)&&i("")==null}catch(N){}return!1}}var v;$.exports=J?function b(i){if(g(i))return!0;if(!i)return!1;if(typeof i!=="function"&&typeof i!=="object")return!1;try{J(i,null,z)}catch(a){if(a!==Q)return!1}return!X(i)&&W(i)}:function b(i){if(g(i))return!0;if(!i)return!1;if(typeof i!=="function"&&typeof i!=="object")return!1;if(x)return W(i);if(X(i))return!1;var a=V.call(i);if(a!==F&&a!==O&&!/^\[object HTML/.test(a))return!1;return W(i)}}),r8=u((f,$)=>{var Z=o8(),J=Object.prototype.toString,z=Object.prototype.hasOwnProperty,Q=function V(w,F,O){for(var j=0,M=w.length;j<M;j++)if(z.call(w,j))if(O==null)F(w[j],j,w);else F.call(O,w[j],j,w)},Y=function V(w,F,O){for(var j=0,M=w.length;j<M;j++)if(O==null)F(w.charAt(j),j,w);else F.call(O,w.charAt(j),j,w)},X=function V(w,F,O){for(var j in w)if(z.call(w,j))if(O==null)F(w[j],j,w);else F.call(O,w[j],j,w)};function W(V){return J.call(V)==="[object Array]"}$.exports=function V(w,F,O){if(!Z(F))throw new TypeError("iterator must be a function");var j;if(arguments.length>=3)j=O;if(W(w))Q(w,F,j);else if(typeof w==="string")Y(w,F,j);else X(w,F,j)}}),s8=u((f,$)=>{$.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]}),a8=u((f,$)=>{var Z=s8(),J=typeof globalThis==="undefined"?global:globalThis;$.exports=function z(){var Q=[];for(var Y=0;Y<Z.length;Y++)if(typeof J[Z[Y]]==="function")Q[Q.length]=Z[Y];return Q}}),Y$=u((f,$)=>{var Z=u1(),J=$$(),z=G1(),Q=f1();$.exports=function Y(X,W,V){if(!X||typeof X!=="object"&&typeof X!=="function")throw new z("`obj` must be an object or a function`");if(typeof W!=="string"&&typeof W!=="symbol")throw new z("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!=="boolean"&&arguments[3]!==null)throw new z("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!=="boolean"&&arguments[4]!==null)throw new z("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!=="boolean"&&arguments[5]!==null)throw new z("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!=="boolean")throw new z("`loose`, if provided, must be a boolean");var w=arguments.length>3?arguments[3]:null,F=arguments.length>4?arguments[4]:null,O=arguments.length>5?arguments[5]:null,j=arguments.length>6?arguments[6]:!1,M=!!Q&&Q(X,W);if(Z)Z(X,W,{configurable:O===null&&M?M.configurable:!O,enumerable:w===null&&M?M.enumerable:!w,value:V,writable:F===null&&M?M.writable:!F});else if(j||!w&&!F&&!O)X[W]=V;else throw new J("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}),X$=u((f,$)=>{var Z=u1(),J=function z(){return!!Z};J.hasArrayLengthDefineBug=function z(){if(!Z)return null;try{return Z([],"length",{value:1}).length!==1}catch(Q){return!0}},$.exports=J}),t8=u((f,$)=>{var Z=bf(),J=Y$(),z=X$()(),Q=f1(),Y=G1(),X=Z("%Math.floor%");$.exports=function W(V,w){if(typeof V!=="function")throw new Y("`fn` is not a function");if(typeof w!=="number"||w<0||w>4294967295||X(w)!==w)throw new Y("`length` must be a positive 32-bit integer");var F=arguments.length>2&&!!arguments[2],O=!0,j=!0;if("length"in V&&Q){var M=Q(V,"length");if(M&&!M.configurable)O=!1;if(M&&!M.writable)j=!1}if(O||j||!F)if(z)J(V,"length",w,!0,!0);else J(V,"length",w);return V}}),e8=u((f,$)=>{var Z=K1(),J=Sf(),z=z$();$.exports=function Q(){return z(Z,J,arguments)}}),c1=u((f,$)=>{var Z=t8(),J=u1(),z=Ef(),Q=e8();if($.exports=function Y(X){var W=z(arguments),V=X.length-(arguments.length-1);return Z(W,1+(V>0?V:0),!0)},J)J($.exports,"apply",{value:Q});else $.exports.apply=Q}),W$=u((f,$)=>{var Z=r8(),J=a8(),z=c1(),Q=$1(),Y=f1(),X=Pf(),W=Q("Object.prototype.toString"),V=y1()(),w=typeof globalThis==="undefined"?global:globalThis,F=J(),O=Q("String.prototype.slice"),j=Q("Array.prototype.indexOf",!0)||function _(g,v){for(var b=0;b<g.length;b+=1)if(g[b]===v)return b;return-1},M={__proto__:null};if(V&&Y&&X)Z(F,function(_){var g=new w[_];if(Symbol.toStringTag in g&&X){var v=X(g),b=Y(v,Symbol.toStringTag);if(!b&&v){var i=X(v);b=Y(i,Symbol.toStringTag)}M["$"+_]=z(b.get)}});else Z(F,function(_){var g=new w[_],v=g.slice||g.set;if(v)M["$"+_]=z(v)});var E=function _(g){var v=!1;return Z(M,function(b,i){if(!v)try{if("$"+b(g)===i)v=O(i,1)}catch(a){}}),v},x=function _(g){var v=!1;return Z(M,function(b,i){if(!v)try{b(g),v=O(i,1)}catch(a){}}),v};$.exports=function _(g){if(!g||typeof g!=="object")return!1;if(!V){var v=O(W(g),8,-1);if(j(F,v)>-1)return v;if(v!=="Object")return!1;return x(g)}if(!Y)return null;return E(g)}}),fJ=u((f,$)=>{var Z=W$();$.exports=function J(z){return!!Z(z)}}),$J=u((f)=>{var $=i8(),Z=p8(),J=W$(),z=fJ();function Q(T){return T.call.bind(T)}var Y=typeof BigInt!=="undefined",X=typeof Symbol!=="undefined",W=Q(Object.prototype.toString),V=Q(Number.prototype.valueOf),w=Q(String.prototype.valueOf),F=Q(Boolean.prototype.valueOf);if(Y)O=Q(BigInt.prototype.valueOf);var O;if(X)j=Q(Symbol.prototype.valueOf);var j;function M(T,L0){if(typeof T!=="object")return!1;try{return L0(T),!0}catch(b0){return!1}}f.isArgumentsObject=$,f.isGeneratorFunction=Z,f.isTypedArray=z;function E(T){return typeof Promise!=="undefined"&&T instanceof Promise||T!==null&&typeof T==="object"&&typeof T.then==="function"&&typeof T.catch==="function"}f.isPromise=E;function x(T){if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView)return ArrayBuffer.isView(T);return z(T)||K(T)}f.isArrayBufferView=x;function _(T){return J(T)==="Uint8Array"}f.isUint8Array=_;function g(T){return J(T)==="Uint8ClampedArray"}f.isUint8ClampedArray=g;function v(T){return J(T)==="Uint16Array"}f.isUint16Array=v;function b(T){return J(T)==="Uint32Array"}f.isUint32Array=b;function i(T){return J(T)==="Int8Array"}f.isInt8Array=i;function a(T){return J(T)==="Int16Array"}f.isInt16Array=a;function N(T){return J(T)==="Int32Array"}f.isInt32Array=N;function C(T){return J(T)==="Float32Array"}f.isFloat32Array=C;function I(T){return J(T)==="Float64Array"}f.isFloat64Array=I;function h(T){return J(T)==="BigInt64Array"}f.isBigInt64Array=h;function r(T){return J(T)==="BigUint64Array"}f.isBigUint64Array=r;function m(T){return W(T)==="[object Map]"}m.working=typeof Map!=="undefined"&&m(new Map);function $0(T){if(typeof Map==="undefined")return!1;return m.working?m(T):T instanceof Map}f.isMap=$0;function l(T){return W(T)==="[object Set]"}l.working=typeof Set!=="undefined"&&l(new Set);function w0(T){if(typeof Set==="undefined")return!1;return l.working?l(T):T instanceof Set}f.isSet=w0;function V0(T){return W(T)==="[object WeakMap]"}V0.working=typeof WeakMap!=="undefined"&&V0(new WeakMap);function A0(T){if(typeof WeakMap==="undefined")return!1;return V0.working?V0(T):T instanceof WeakMap}f.isWeakMap=A0;function B0(T){return W(T)==="[object WeakSet]"}B0.working=typeof WeakSet!=="undefined"&&B0(new WeakSet);function O0(T){return B0(T)}f.isWeakSet=O0;function F0(T){return W(T)==="[object ArrayBuffer]"}F0.working=typeof ArrayBuffer!=="undefined"&&F0(new ArrayBuffer);function R(T){if(typeof ArrayBuffer==="undefined")return!1;return F0.working?F0(T):T instanceof ArrayBuffer}f.isArrayBuffer=R;function B(T){return W(T)==="[object DataView]"}B.working=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"&&B(new DataView(new ArrayBuffer(1),0,1));function K(T){if(typeof DataView==="undefined")return!1;return B.working?B(T):T instanceof DataView}f.isDataView=K;var L=typeof SharedArrayBuffer!=="undefined"?SharedArrayBuffer:void 0;function P(T){return W(T)==="[object SharedArrayBuffer]"}function d(T){if(typeof L==="undefined")return!1;if(typeof P.working==="undefined")P.working=P(new L);return P.working?P(T):T instanceof L}f.isSharedArrayBuffer=d;function s(T){return W(T)==="[object AsyncFunction]"}f.isAsyncFunction=s;function c(T){return W(T)==="[object Map Iterator]"}f.isMapIterator=c;function D(T){return W(T)==="[object Set Iterator]"}f.isSetIterator=D;function U(T){return W(T)==="[object Generator]"}f.isGeneratorObject=U;function H(T){return W(T)==="[object WebAssembly.Module]"}f.isWebAssemblyCompiledModule=H;function A(T){return M(T,V)}f.isNumberObject=A;function y(T){return M(T,w)}f.isStringObject=y;function S(T){return M(T,F)}f.isBooleanObject=S;function p(T){return Y&&M(T,O)}f.isBigIntObject=p;function t(T){return X&&M(T,j)}f.isSymbolObject=t;function Y0(T){return A(T)||y(T)||S(T)||p(T)||t(T)}f.isBoxedPrimitive=Y0;function X0(T){return typeof Uint8Array!=="undefined"&&(R(T)||d(T))}f.isAnyArrayBuffer=X0,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(T){Object.defineProperty(f,T,{enumerable:!1,value:function(){throw new Error(T+" is not supported in userland")}})})}),ZJ=u((f,$)=>{$.exports=function Z(J){return J instanceof Buffer}}),JJ=u((f,$)=>{if(typeof Object.create==="function")$.exports=function Z(J,z){if(z)J.super_=z,J.prototype=Object.create(z.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}})};else $.exports=function Z(J,z){if(z){J.super_=z;var Q=function(){};Q.prototype=z.prototype,J.prototype=new Q,J.prototype.constructor=J}}}),zJ=u((f,$)=>{try{if(Z=(e4(),r0(t4)),typeof Z.inherits!=="function")throw"";$.exports=Z.inherits}catch(J){$.exports=JJ()}var Z}),F1=u((f)=>{var $=Object.getOwnPropertyDescriptors||function B(K){var L=Object.keys(K),P={};for(var d=0;d<L.length;d++)P[L[d]]=Object.getOwnPropertyDescriptor(K,L[d]);return P},Z=/%[sdj%]/g;f.format=function(B){if(!i(B)){var K=[];for(var L=0;L<arguments.length;L++)K.push(Y(arguments[L]));return K.join(" ")}var L=1,P=arguments,d=P.length,s=String(B).replace(Z,function(D){if(D==="%%")return"%";if(L>=d)return D;switch(D){case"%s":return String(P[L++]);case"%d":return Number(P[L++]);case"%j":try{return JSON.stringify(P[L++])}catch(U){return"[Circular]"}default:return D}});for(var c=P[L];L<d;c=P[++L])if(g(c)||!I(c))s+=" "+c;else s+=" "+Y(c);return s},f.deprecate=function(B,K){if(typeof process!=="undefined"&&process.noDeprecation===!0)return B;if(typeof process==="undefined")return function(){return f.deprecate(B,K).apply(this,arguments)};var L=!1;function P(){if(!L){if(process.throwDeprecation)throw new Error(K);else if(process.traceDeprecation)console.trace(K);else console.error(K);L=!0}return B.apply(this,arguments)}return P};var J={},z=/^$/;if(process.env.NODE_DEBUG)Q=process.env.NODE_DEBUG,Q=Q.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),z=new RegExp("^"+Q+"$","i");var Q;f.debuglog=function(B){if(B=B.toUpperCase(),!J[B])if(z.test(B)){var K=process.pid;J[B]=function(){var L=f.format.apply(f,arguments);console.error("%s %d: %s",B,K,L)}}else J[B]=function(){};return J[B]};function Y(B,K){var L={seen:[],stylize:W};if(arguments.length>=3)L.depth=arguments[2];if(arguments.length>=4)L.colors=arguments[3];if(_(K))L.showHidden=K;else if(K)f._extend(L,K);if(N(L.showHidden))L.showHidden=!1;if(N(L.depth))L.depth=2;if(N(L.colors))L.colors=!1;if(N(L.customInspect))L.customInspect=!0;if(L.colors)L.stylize=X;return w(L,B,L.depth)}f.inspect=Y,Y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function X(B,K){var L=Y.styles[K];if(L)return"\x1B["+Y.colors[L][0]+"m"+B+"\x1B["+Y.colors[L][1]+"m";else return B}function W(B,K){return B}function V(B){var K={};return B.forEach(function(L,P){K[L]=!0}),K}function w(B,K,L){if(B.customInspect&&K&&m(K.inspect)&&K.inspect!==f.inspect&&!(K.constructor&&K.constructor.prototype===K)){var P=K.inspect(L,B);if(!i(P))P=w(B,P,L);return P}var d=F(B,K);if(d)return d;var s=Object.keys(K),c=V(s);if(B.showHidden)s=Object.getOwnPropertyNames(K);if(r(K)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return O(K);if(s.length===0){if(m(K)){var D=K.name?": "+K.name:"";return B.stylize("[Function"+D+"]","special")}if(C(K))return B.stylize(RegExp.prototype.toString.call(K),"regexp");if(h(K))return B.stylize(Date.prototype.toString.call(K),"date");if(r(K))return O(K)}var U="",H=!1,A=["{","}"];if(x(K))H=!0,A=["[","]"];if(m(K)){var y=K.name?": "+K.name:"";U=" [Function"+y+"]"}if(C(K))U=" "+RegExp.prototype.toString.call(K);if(h(K))U=" "+Date.prototype.toUTCString.call(K);if(r(K))U=" "+O(K);if(s.length===0&&(!H||K.length==0))return A[0]+U+A[1];if(L<0)if(C(K))return B.stylize(RegExp.prototype.toString.call(K),"regexp");else return B.stylize("[Object]","special");B.seen.push(K);var S;if(H)S=j(B,K,L,c,s);else S=s.map(function(p){return M(B,K,L,c,p,H)});return B.seen.pop(),E(S,U,A)}function F(B,K){if(N(K))return B.stylize("undefined","undefined");if(i(K)){var L="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return B.stylize(L,"string")}if(b(K))return B.stylize(""+K,"number");if(_(K))return B.stylize(""+K,"boolean");if(g(K))return B.stylize("null","null")}function O(B){return"["+Error.prototype.toString.call(B)+"]"}function j(B,K,L,P,d){var s=[];for(var c=0,D=K.length;c<D;++c)if(B0(K,String(c)))s.push(M(B,K,L,P,String(c),!0));else s.push("");return d.forEach(function(U){if(!U.match(/^\d+$/))s.push(M(B,K,L,P,U,!0))}),s}function M(B,K,L,P,d,s){var c,D,U;if(U=Object.getOwnPropertyDescriptor(K,d)||{value:K[d]},U.get)if(U.set)D=B.stylize("[Getter/Setter]","special");else D=B.stylize("[Getter]","special");else if(U.set)D=B.stylize("[Setter]","special");if(!B0(P,d))c="["+d+"]";if(!D)if(B.seen.indexOf(U.value)<0){if(g(L))D=w(B,U.value,null);else D=w(B,U.value,L-1);if(D.indexOf(`
`)>-1)if(s)D=D.split(`
`).map(function(H){return"  "+H}).join(`
`).slice(2);else D=`
`+D.split(`
`).map(function(H){return"   "+H}).join(`
`)}else D=B.stylize("[Circular]","special");if(N(c)){if(s&&d.match(/^\d+$/))return D;if(c=JSON.stringify(""+d),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/))c=c.slice(1,-1),c=B.stylize(c,"name");else c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=B.stylize(c,"string")}return c+": "+D}function E(B,K,L){var P=0,d=B.reduce(function(s,c){if(P++,c.indexOf(`
`)>=0)P++;return s+c.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(d>60)return L[0]+(K===""?"":K+`
 `)+" "+B.join(`,
  `)+" "+L[1];return L[0]+K+" "+B.join(", ")+" "+L[1]}f.types=$J();function x(B){return Array.isArray(B)}f.isArray=x;function _(B){return typeof B==="boolean"}f.isBoolean=_;function g(B){return B===null}f.isNull=g;function v(B){return B==null}f.isNullOrUndefined=v;function b(B){return typeof B==="number"}f.isNumber=b;function i(B){return typeof B==="string"}f.isString=i;function a(B){return typeof B==="symbol"}f.isSymbol=a;function N(B){return B===void 0}f.isUndefined=N;function C(B){return I(B)&&l(B)==="[object RegExp]"}f.isRegExp=C,f.types.isRegExp=C;function I(B){return typeof B==="object"&&B!==null}f.isObject=I;function h(B){return I(B)&&l(B)==="[object Date]"}f.isDate=h,f.types.isDate=h;function r(B){return I(B)&&(l(B)==="[object Error]"||B instanceof Error)}f.isError=r,f.types.isNativeError=r;function m(B){return typeof B==="function"}f.isFunction=m;function $0(B){return B===null||typeof B==="boolean"||typeof B==="number"||typeof B==="string"||typeof B==="symbol"||typeof B==="undefined"}f.isPrimitive=$0,f.isBuffer=ZJ();function l(B){return Object.prototype.toString.call(B)}function w0(B){return B<10?"0"+B.toString(10):B.toString(10)}var V0=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A0(){var B=new Date,K=[w0(B.getHours()),w0(B.getMinutes()),w0(B.getSeconds())].join(":");return[B.getDate(),V0[B.getMonth()],K].join(" ")}f.log=function(){console.log("%s - %s",A0(),f.format.apply(f,arguments))},f.inherits=zJ(),f._extend=function(B,K){if(!K||!I(K))return B;var L=Object.keys(K),P=L.length;while(P--)B[L[P]]=K[L[P]];return B};function B0(B,K){return Object.prototype.hasOwnProperty.call(B,K)}var O0=typeof Symbol!=="undefined"?Symbol("util.promisify.custom"):void 0;f.promisify=function B(K){if(typeof K!=="function")throw new TypeError('The "original" argument must be of type Function');if(O0&&K[O0]){var L=K[O0];if(typeof L!=="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(L,O0,{value:L,enumerable:!1,writable:!1,configurable:!0}),L}function L(){var P,d,s=new Promise(function(U,H){P=U,d=H}),c=[];for(var D=0;D<arguments.length;D++)c.push(arguments[D]);c.push(function(U,H){if(U)d(U);else P(H)});try{K.apply(this,c)}catch(U){d(U)}return s}if(Object.setPrototypeOf(L,Object.getPrototypeOf(K)),O0)Object.defineProperty(L,O0,{value:L,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(L,$(K))},f.promisify.custom=O0;function F0(B,K){if(!B){var L=new Error("Promise was rejected with a falsy value");L.reason=B,B=L}return K(B)}function R(B){if(typeof B!=="function")throw new TypeError('The "original" argument must be of type Function');function K(){var L=[];for(var P=0;P<arguments.length;P++)L.push(arguments[P]);var d=L.pop();if(typeof d!=="function")throw new TypeError("The last argument must be of type Function");var s=this,c=function(){return d.apply(s,arguments)};B.apply(this,L).then(function(D){process.nextTick(c.bind(null,null,D))},function(D){process.nextTick(F0.bind(null,D,c))})}return Object.setPrototypeOf(K,Object.getPrototypeOf(B)),Object.defineProperties(K,$(B)),K}f.callbackify=R}),w$=u((f,$)=>{function Z(N){return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},Z(N)}function J(N,C){for(var I=0;I<C.length;I++){var h=C[I];if(h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h)h.writable=!0;Object.defineProperty(N,Q(h.key),h)}}function z(N,C,I){if(C)J(N.prototype,C);if(I)J(N,I);return Object.defineProperty(N,"prototype",{writable:!1}),N}function Q(N){var C=Y(N,"string");return Z(C)==="symbol"?C:String(C)}function Y(N,C){if(Z(N)!=="object"||N===null)return N;var I=N[Symbol.toPrimitive];if(I!==void 0){var h=I.call(N,C||"default");if(Z(h)!=="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(N)}function X(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}function W(N,C){if(typeof C!=="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");if(N.prototype=Object.create(C&&C.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),C)V(N,C)}function V(N,C){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function I(h,r){return h.__proto__=r,h},V(N,C)}function w(N){var C=j();return function I(){var h=M(N),r;if(C){var m=M(this).constructor;r=Reflect.construct(h,arguments,m)}else r=h.apply(this,arguments);return F(this,r)}}function F(N,C){if(C&&(Z(C)==="object"||typeof C==="function"))return C;else if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(N)}function O(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function j(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(N){return!1}}function M(N){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function C(I){return I.__proto__||Object.getPrototypeOf(I)},M(N)}var E={},x,_;function g(N,C,I){if(!I)I=Error;function h(m,$0,l){if(typeof C==="string")return C;else return C(m,$0,l)}var r=function(m){W(l,m);var $0=w(l);function l(w0,V0,A0){var B0;return X(this,l),B0=$0.call(this,h(w0,V0,A0)),B0.code=N,B0}return z(l)}(I);E[N]=r}function v(N,C){if(Array.isArray(N)){var I=N.length;if(N=N.map(function(h){return String(h)}),I>2)return"one of ".concat(C," ").concat(N.slice(0,I-1).join(", "),", or ")+N[I-1];else if(I===2)return"one of ".concat(C," ").concat(N[0]," or ").concat(N[1]);else return"of ".concat(C," ").concat(N[0])}else return"of ".concat(C," ").concat(String(N))}function b(N,C,I){return N.substr(!I||I<0?0:+I,C.length)===C}function i(N,C,I){if(I===void 0||I>N.length)I=N.length;return N.substring(I-C.length,I)===C}function a(N,C,I){if(typeof I!=="number")I=0;if(I+C.length>N.length)return!1;else return N.indexOf(C,I)!==-1}g("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),g("ERR_INVALID_ARG_TYPE",function(N,C,I){if(x===void 0)x=Tf();x(typeof N==="string","'name' must be a string");var h;if(typeof C==="string"&&b(C,"not "))h="must not be",C=C.replace(/^not /,"");else h="must be";var r;if(i(N," argument"))r="The ".concat(N," ").concat(h," ").concat(v(C,"type"));else{var m=a(N,".")?"property":"argument";r='The "'.concat(N,'" ').concat(m," ").concat(h," ").concat(v(C,"type"))}return r+=". Received type ".concat(Z(I)),r},TypeError),g("ERR_INVALID_ARG_VALUE",function(N,C){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";if(_===void 0)_=F1();var h=_.inspect(C);if(h.length>128)h="".concat(h.slice(0,128),"...");return"The argument '".concat(N,"' ").concat(I,". Received ").concat(h)},TypeError,RangeError),g("ERR_INVALID_RETURN_VALUE",function(N,C,I){var h;if(I&&I.constructor&&I.constructor.name)h="instance of ".concat(I.constructor.name);else h="type ".concat(Z(I));return"Expected ".concat(N,' to be returned from the "').concat(C,'"')+" function but got ".concat(h,".")},TypeError),g("ERR_MISSING_ARGS",function(){for(var N=arguments.length,C=new Array(N),I=0;I<N;I++)C[I]=arguments[I];if(x===void 0)x=Tf();x(C.length>0,"At least one arg needs to be specified");var h="The ",r=C.length;switch(C=C.map(function(m){return'"'.concat(m,'"')}),r){case 1:h+="".concat(C[0]," argument");break;case 2:h+="".concat(C[0]," and ").concat(C[1]," arguments");break;default:h+=C.slice(0,r-1).join(", "),h+=", and ".concat(C[r-1]," arguments");break}return"".concat(h," must be specified")},TypeError),f.codes=E}),QJ=u((f,$)=>{function Z(R,B){var K=Object.keys(R);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(R);B&&(L=L.filter(function(P){return Object.getOwnPropertyDescriptor(R,P).enumerable})),K.push.apply(K,L)}return K}function J(R){for(var B=1;B<arguments.length;B++){var K=arguments[B]!=null?arguments[B]:{};B%2?Z(Object(K),!0).forEach(function(L){z(R,L,K[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(K)):Z(Object(K)).forEach(function(L){Object.defineProperty(R,L,Object.getOwnPropertyDescriptor(K,L))})}return R}function z(R,B,K){if(B=W(B),B in R)Object.defineProperty(R,B,{value:K,enumerable:!0,configurable:!0,writable:!0});else R[B]=K;return R}function Q(R,B){if(!(R instanceof B))throw new TypeError("Cannot call a class as a function")}function Y(R,B){for(var K=0;K<B.length;K++){var L=B[K];if(L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L)L.writable=!0;Object.defineProperty(R,W(L.key),L)}}function X(R,B,K){if(B)Y(R.prototype,B);if(K)Y(R,K);return Object.defineProperty(R,"prototype",{writable:!1}),R}function W(R){var B=V(R,"string");return b(B)==="symbol"?B:String(B)}function V(R,B){if(b(R)!=="object"||R===null)return R;var K=R[Symbol.toPrimitive];if(K!==void 0){var L=K.call(R,B||"default");if(b(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(R)}function w(R,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");if(R.prototype=Object.create(B&&B.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),B)g(R,B)}function F(R){var B=x();return function K(){var L=v(R),P;if(B){var d=v(this).constructor;P=Reflect.construct(L,arguments,d)}else P=L.apply(this,arguments);return O(this,P)}}function O(R,B){if(B&&(b(B)==="object"||typeof B==="function"))return B;else if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(R)}function j(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function M(R){var B=typeof Map==="function"?new Map:void 0;return M=function K(L){if(L===null||!_(L))return L;if(typeof L!=="function")throw new TypeError("Super expression must either be null or a function");if(typeof B!=="undefined"){if(B.has(L))return B.get(L);B.set(L,P)}function P(){return E(L,arguments,v(this).constructor)}return P.prototype=Object.create(L.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),g(P,L)},M(R)}function E(R,B,K){if(x())E=Reflect.construct.bind();else E=function L(P,d,s){var c=[null];c.push.apply(c,d);var D=Function.bind.apply(P,c),U=new D;if(s)g(U,s.prototype);return U};return E.apply(null,arguments)}function x(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(R){return!1}}function _(R){return Function.toString.call(R).indexOf("[native code]")!==-1}function g(R,B){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function K(L,P){return L.__proto__=P,L},g(R,B)}function v(R){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function B(K){return K.__proto__||Object.getPrototypeOf(K)},v(R)}function b(R){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},b(R)}var i=F1(),a=i.inspect,N=w$(),C=N.codes.ERR_INVALID_ARG_TYPE;function I(R,B,K){if(K===void 0||K>R.length)K=R.length;return R.substring(K-B.length,K)===B}function h(R,B){if(B=Math.floor(B),R.length==0||B==0)return"";var K=R.length*B;B=Math.floor(Math.log(B)/Math.log(2));while(B)R+=R,B--;return R+=R.substring(0,K-R.length),R}var r="",m="",$0="",l="",w0={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},V0=10;function A0(R){var B=Object.keys(R),K=Object.create(Object.getPrototypeOf(R));return B.forEach(function(L){K[L]=R[L]}),Object.defineProperty(K,"message",{value:R.message}),K}function B0(R){return a(R,{compact:!1,customInspect:!1,depth:1000,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function O0(R,B,K){var L="",P="",d=0,s="",c=!1,D=B0(R),U=D.split(`
`),H=B0(B).split(`
`),A=0,y="";if(K==="strictEqual"&&b(R)==="object"&&b(B)==="object"&&R!==null&&B!==null)K="strictEqualObject";if(U.length===1&&H.length===1&&U[0]!==H[0]){var S=U[0].length+H[0].length;if(S<=V0){if((b(R)!=="object"||R===null)&&(b(B)!=="object"||B===null)&&(R!==0||B!==0))return"".concat(w0[K],`

`)+"".concat(U[0]," !== ").concat(H[0],`
`)}else if(K!=="strictEqualObject"){var p=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(S<p){while(U[0][A]===H[0][A])A++;if(A>2)y=`
  `.concat(h(" ",A),"^"),A=0}}}var t=U[U.length-1],Y0=H[H.length-1];while(t===Y0){if(A++<2)s=`
  `.concat(t).concat(s);else L=t;if(U.pop(),H.pop(),U.length===0||H.length===0)break;t=U[U.length-1],Y0=H[H.length-1]}var X0=Math.max(U.length,H.length);if(X0===0){var T=D.split(`
`);if(T.length>30){T[26]="".concat(r,"...").concat(l);while(T.length>27)T.pop()}return"".concat(w0.notIdentical,`

`).concat(T.join(`
`),`
`)}if(A>3)s=`
`.concat(r,"...").concat(l).concat(s),c=!0;if(L!=="")s=`
  `.concat(L).concat(s),L="";var L0=0,b0=w0[K]+`
`.concat(m,"+ actual").concat(l," ").concat($0,"- expected").concat(l),P0=" ".concat(r,"...").concat(l," Lines skipped");for(A=0;A<X0;A++){var U0=A-d;if(U.length<A+1){if(U0>1&&A>2){if(U0>4)P+=`
`.concat(r,"...").concat(l),c=!0;else if(U0>3)P+=`
  `.concat(H[A-2]),L0++;P+=`
  `.concat(H[A-1]),L0++}d=A,L+=`
`.concat($0,"-").concat(l," ").concat(H[A]),L0++}else if(H.length<A+1){if(U0>1&&A>2){if(U0>4)P+=`
`.concat(r,"...").concat(l),c=!0;else if(U0>3)P+=`
  `.concat(U[A-2]),L0++;P+=`
  `.concat(U[A-1]),L0++}d=A,P+=`
`.concat(m,"+").concat(l," ").concat(U[A]),L0++}else{var I0=H[A],N0=U[A],_0=N0!==I0&&(!I(N0,",")||N0.slice(0,-1)!==I0);if(_0&&I(I0,",")&&I0.slice(0,-1)===N0)_0=!1,N0+=",";if(_0){if(U0>1&&A>2){if(U0>4)P+=`
`.concat(r,"...").concat(l),c=!0;else if(U0>3)P+=`
  `.concat(U[A-2]),L0++;P+=`
  `.concat(U[A-1]),L0++}d=A,P+=`
`.concat(m,"+").concat(l," ").concat(N0),L+=`
`.concat($0,"-").concat(l," ").concat(I0),L0+=2}else if(P+=L,L="",U0===1||A===0)P+=`
  `.concat(N0),L0++}if(L0>20&&A<X0-2)return"".concat(b0).concat(P0,`
`).concat(P,`
`).concat(r,"...").concat(l).concat(L,`
`)+"".concat(r,"...").concat(l)}return"".concat(b0).concat(c?P0:"",`
`).concat(P).concat(L).concat(s).concat(y)}var F0=function(R,B){w(L,R);var K=F(L);function L(P){var d;if(Q(this,L),b(P)!=="object"||P===null)throw new C("options","Object",P);var{message:s,operator:c,stackStartFn:D,actual:U,expected:H}=P,A=Error.stackTraceLimit;if(Error.stackTraceLimit=0,s!=null)d=K.call(this,String(s));else{if(process.stderr&&process.stderr.isTTY)if(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1)r="\x1B[34m",m="\x1B[32m",l="\x1B[39m",$0="\x1B[31m";else r="",m="",l="",$0="";if(b(U)==="object"&&U!==null&&b(H)==="object"&&H!==null&&"stack"in U&&U instanceof Error&&"stack"in H&&H instanceof Error)U=A0(U),H=A0(H);if(c==="deepStrictEqual"||c==="strictEqual")d=K.call(this,O0(U,H,c));else if(c==="notDeepStrictEqual"||c==="notStrictEqual"){var y=w0[c],S=B0(U).split(`
`);if(c==="notStrictEqual"&&b(U)==="object"&&U!==null)y=w0.notStrictEqualObject;if(S.length>30){S[26]="".concat(r,"...").concat(l);while(S.length>27)S.pop()}if(S.length===1)d=K.call(this,"".concat(y," ").concat(S[0]));else d=K.call(this,"".concat(y,`

`).concat(S.join(`
`),`
`))}else{var p=B0(U),t="",Y0=w0[c];if(c==="notDeepEqual"||c==="notEqual"){if(p="".concat(w0[c],`

`).concat(p),p.length>1024)p="".concat(p.slice(0,1021),"...")}else{if(t="".concat(B0(H)),p.length>512)p="".concat(p.slice(0,509),"...");if(t.length>512)t="".concat(t.slice(0,509),"...");if(c==="deepEqual"||c==="equal")p="".concat(Y0,`

`).concat(p,`

should equal

`);else t=" ".concat(c," ").concat(t)}d=K.call(this,"".concat(p).concat(t))}}if(Error.stackTraceLimit=A,d.generatedMessage=!s,Object.defineProperty(j(d),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),d.code="ERR_ASSERTION",d.actual=U,d.expected=H,d.operator=c,Error.captureStackTrace)Error.captureStackTrace(j(d),D);return d.stack,d.name="AssertionError",O(d)}return X(L,[{key:"toString",value:function P(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:B,value:function P(d,s){return a(this,J(J({},s),{},{customInspect:!1,depth:0}))}}]),L}(M(Error),a.custom);$.exports=F0}),V$=u((f,$)=>{var Z=Object.prototype.toString;$.exports=function J(z){var Q=Z.call(z),Y=Q==="[object Arguments]";if(!Y)Y=Q!=="[object Array]"&&z!==null&&typeof z==="object"&&typeof z.length==="number"&&z.length>=0&&Z.call(z.callee)==="[object Function]";return Y}}),YJ=u((f,$)=>{var Z;if(!Object.keys)J=Object.prototype.hasOwnProperty,z=Object.prototype.toString,Q=V$(),Y=Object.prototype.propertyIsEnumerable,X=!Y.call({toString:null},"toString"),W=Y.call(function(){},"prototype"),V=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],w=function(M){var E=M.constructor;return E&&E.prototype===M},F={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},O=function(){if(typeof window==="undefined")return!1;for(var M in window)try{if(!F["$"+M]&&J.call(window,M)&&window[M]!==null&&typeof window[M]==="object")try{w(window[M])}catch(E){return!0}}catch(E){return!0}return!1}(),j=function(M){if(typeof window==="undefined"||!O)return w(M);try{return w(M)}catch(E){return!1}},Z=function M(E){var x=E!==null&&typeof E==="object",_=z.call(E)==="[object Function]",g=Q(E),v=x&&z.call(E)==="[object String]",b=[];if(!x&&!_&&!g)throw new TypeError("Object.keys called on a non-object");var i=W&&_;if(v&&E.length>0&&!J.call(E,0))for(var a=0;a<E.length;++a)b.push(String(a));if(g&&E.length>0)for(var N=0;N<E.length;++N)b.push(String(N));else for(var C in E)if(!(i&&C==="prototype")&&J.call(E,C))b.push(String(C));if(X){var I=j(E);for(var h=0;h<V.length;++h)if(!(I&&V[h]==="constructor")&&J.call(E,V[h]))b.push(V[h])}return b};var J,z,Q,Y,X,W,V,w,F,O,j;$.exports=Z}),B$=u((f,$)=>{var Z=Array.prototype.slice,J=V$(),z=Object.keys,Q=z?function X(W){return z(W)}:YJ(),Y=Object.keys;Q.shim=function X(){if(Object.keys){var W=function(){var V=Object.keys(arguments);return V&&V.length===arguments.length}(1,2);if(!W)Object.keys=function V(w){if(J(w))return Y(Z.call(w));return Y(w)}}else Object.keys=Q;return Object.keys||Q},$.exports=Q}),XJ=u((f,$)=>{var Z=B$(),J=Nf()(),z=$1(),Q=If(),Y=z("Array.prototype.push"),X=z("Object.prototype.propertyIsEnumerable"),W=J?Q.getOwnPropertySymbols:null;$.exports=function V(w,F){if(w==null)throw new TypeError("target must be an object");var O=Q(w);if(arguments.length===1)return O;for(var j=1;j<arguments.length;++j){var M=Q(arguments[j]),E=Z(M),x=J&&(Q.getOwnPropertySymbols||W);if(x){var _=x(M);for(var g=0;g<_.length;++g){var v=_[g];if(X(M,v))Y(E,v)}}for(var b=0;b<E.length;++b){var i=E[b];if(X(M,i)){var a=M[i];O[i]=a}}}return O}}),WJ=u((f,$)=>{var Z=XJ(),J=function(){if(!Object.assign)return!1;var Q="abcdefghijklmnopqrst",Y=Q.split(""),X={};for(var W=0;W<Y.length;++W)X[Y[W]]=Y[W];var V=Object.assign({},X),w="";for(var F in V)w+=F;return Q!==w},z=function(){if(!Object.assign||!Object.preventExtensions)return!1;var Q=Object.preventExtensions({1:2});try{Object.assign(Q,"xy")}catch(Y){return Q[1]==="y"}return!1};$.exports=function Q(){if(!Object.assign)return Z;if(J())return Z;if(z())return Z;return Object.assign}}),U$=u((f,$)=>{var Z=function(J){return J!==J};$.exports=function J(z,Q){if(z===0&&Q===0)return 1/z===1/Q;if(z===Q)return!0;if(Z(z)&&Z(Q))return!0;return!1}}),_f=u((f,$)=>{var Z=U$();$.exports=function J(){return typeof Object.is==="function"?Object.is:Z}}),wJ=u((f,$)=>{var Z=bf(),J=c1(),z=J(Z("String.prototype.indexOf"));$.exports=function Q(Y,X){var W=Z(Y,!!X);if(typeof W==="function"&&z(Y,".prototype.")>-1)return J(W);return W}}),h1=u((f,$)=>{var Z=B$(),J=typeof Symbol==="function"&&typeof Symbol("foo")==="symbol",z=Object.prototype.toString,Q=Array.prototype.concat,Y=Y$(),X=function(F){return typeof F==="function"&&z.call(F)==="[object Function]"},W=X$()(),V=function(F,O,j,M){if(O in F){if(M===!0){if(F[O]===j)return}else if(!X(M)||!M())return}if(W)Y(F,O,j,!0);else Y(F,O,j)},w=function(F,O){var j=arguments.length>2?arguments[2]:{},M=Z(O);if(J)M=Q.call(M,Object.getOwnPropertySymbols(O));for(var E=0;E<M.length;E+=1)V(F,M[E],O[M[E]],j[M[E]])};w.supportsDescriptors=!!W,$.exports=w}),VJ=u((f,$)=>{var Z=_f(),J=h1();$.exports=function z(){var Q=Z();return J(Object,{is:Q},{is:function Y(){return Object.is!==Q}}),Q}}),BJ=u((f,$)=>{var Z=h1(),J=c1(),z=U$(),Q=_f(),Y=VJ(),X=J(Q(),Object);Z(X,{getPolyfill:Q,implementation:z,shim:Y}),$.exports=X}),H$=u((f,$)=>{$.exports=function Z(J){return J!==J}}),F$=u((f,$)=>{var Z=H$();$.exports=function J(){if(Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a"))return Number.isNaN;return Z}}),UJ=u((f,$)=>{var Z=h1(),J=F$();$.exports=function z(){var Q=J();return Z(Number,{isNaN:Q},{isNaN:function Y(){return Number.isNaN!==Q}}),Q}}),HJ=u((f,$)=>{var Z=c1(),J=h1(),z=H$(),Q=F$(),Y=UJ(),X=Z(Q(),Number);J(X,{getPolyfill:Q,implementation:z,shim:Y}),$.exports=X}),FJ=u((f,$)=>{function Z(G,q){return X(G)||Y(G,q)||z(G,q)||J()}function J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(G,q){if(!G)return;if(typeof G==="string")return Q(G,q);var k=Object.prototype.toString.call(G).slice(8,-1);if(k==="Object"&&G.constructor)k=G.constructor.name;if(k==="Map"||k==="Set")return Array.from(G);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return Q(G,q)}function Q(G,q){if(q==null||q>G.length)q=G.length;for(var k=0,n=new Array(q);k<q;k++)n[k]=G[k];return n}function Y(G,q){var k=G==null?null:typeof Symbol!="undefined"&&G[Symbol.iterator]||G["@@iterator"];if(k!=null){var n,o,f0,e,J0=[],z0=!0,q0=!1;try{if(f0=(k=k.call(G)).next,q===0){if(Object(k)!==k)return;z0=!1}else for(;!(z0=(n=f0.call(k)).done)&&(J0.push(n.value),J0.length!==q);z0=!0);}catch(T0){q0=!0,o=T0}finally{try{if(!z0&&k.return!=null&&(e=k.return(),Object(e)!==e))return}finally{if(q0)throw o}}return J0}}function X(G){if(Array.isArray(G))return G}function W(G){return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},W(G)}var V=/a/g.flags!==void 0,w=function G(q){var k=[];return q.forEach(function(n){return k.push(n)}),k},F=function G(q){var k=[];return q.forEach(function(n,o){return k.push([o,n])}),k},O=Object.is?Object.is:BJ(),j=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},M=Number.isNaN?Number.isNaN:HJ();function E(G){return G.call.bind(G)}var x=E(Object.prototype.hasOwnProperty),_=E(Object.prototype.propertyIsEnumerable),g=E(Object.prototype.toString),v=F1().types,b=v.isAnyArrayBuffer,i=v.isArrayBufferView,a=v.isDate,N=v.isMap,C=v.isRegExp,I=v.isSet,h=v.isNativeError,r=v.isBoxedPrimitive,m=v.isNumberObject,$0=v.isStringObject,l=v.isBooleanObject,w0=v.isBigIntObject,V0=v.isSymbolObject,A0=v.isFloat32Array,B0=v.isFloat64Array;function O0(G){if(G.length===0||G.length>10)return!0;for(var q=0;q<G.length;q++){var k=G.charCodeAt(q);if(k<48||k>57)return!0}return G.length===10&&G>=Math.pow(2,32)}function F0(G){return Object.keys(G).filter(O0).concat(j(G).filter(Object.prototype.propertyIsEnumerable.bind(G)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function R(G,q){if(G===q)return 0;var k=G.length,n=q.length;for(var o=0,f0=Math.min(k,n);o<f0;++o)if(G[o]!==q[o]){k=G[o],n=q[o];break}if(k<n)return-1;if(n<k)return 1;return 0}var B=void 0,K=!0,L=!1,P=0,d=1,s=2,c=3;function D(G,q){return V?G.source===q.source&&G.flags===q.flags:RegExp.prototype.toString.call(G)===RegExp.prototype.toString.call(q)}function U(G,q){if(G.byteLength!==q.byteLength)return!1;for(var k=0;k<G.byteLength;k++)if(G[k]!==q[k])return!1;return!0}function H(G,q){if(G.byteLength!==q.byteLength)return!1;return R(new Uint8Array(G.buffer,G.byteOffset,G.byteLength),new Uint8Array(q.buffer,q.byteOffset,q.byteLength))===0}function A(G,q){return G.byteLength===q.byteLength&&R(new Uint8Array(G),new Uint8Array(q))===0}function y(G,q){if(m(G))return m(q)&&O(Number.prototype.valueOf.call(G),Number.prototype.valueOf.call(q));if($0(G))return $0(q)&&String.prototype.valueOf.call(G)===String.prototype.valueOf.call(q);if(l(G))return l(q)&&Boolean.prototype.valueOf.call(G)===Boolean.prototype.valueOf.call(q);if(w0(G))return w0(q)&&BigInt.prototype.valueOf.call(G)===BigInt.prototype.valueOf.call(q);return V0(q)&&Symbol.prototype.valueOf.call(G)===Symbol.prototype.valueOf.call(q)}function S(G,q,k,n){if(G===q){if(G!==0)return!0;return k?O(G,q):!0}if(k){if(W(G)!=="object")return typeof G==="number"&&M(G)&&M(q);if(W(q)!=="object"||G===null||q===null)return!1;if(Object.getPrototypeOf(G)!==Object.getPrototypeOf(q))return!1}else{if(G===null||W(G)!=="object"){if(q===null||W(q)!=="object")return G==q;return!1}if(q===null||W(q)!=="object")return!1}var o=g(G),f0=g(q);if(o!==f0)return!1;if(Array.isArray(G)){if(G.length!==q.length)return!1;var e=F0(G,B),J0=F0(q,B);if(e.length!==J0.length)return!1;return t(G,q,k,n,d,e)}if(o==="[object Object]"){if(!N(G)&&N(q)||!I(G)&&I(q))return!1}if(a(G)){if(!a(q)||Date.prototype.getTime.call(G)!==Date.prototype.getTime.call(q))return!1}else if(C(G)){if(!C(q)||!D(G,q))return!1}else if(h(G)||G instanceof Error){if(G.message!==q.message||G.name!==q.name)return!1}else if(i(G)){if(!k&&(A0(G)||B0(G))){if(!U(G,q))return!1}else if(!H(G,q))return!1;var z0=F0(G,B),q0=F0(q,B);if(z0.length!==q0.length)return!1;return t(G,q,k,n,P,z0)}else if(I(G)){if(!I(q)||G.size!==q.size)return!1;return t(G,q,k,n,s)}else if(N(G)){if(!N(q)||G.size!==q.size)return!1;return t(G,q,k,n,c)}else if(b(G)){if(!A(G,q))return!1}else if(r(G)&&!y(G,q))return!1;return t(G,q,k,n,P)}function p(G,q){return q.filter(function(k){return _(G,k)})}function t(G,q,k,n,o,f0){if(arguments.length===5){f0=Object.keys(G);var e=Object.keys(q);if(f0.length!==e.length)return!1}var J0=0;for(;J0<f0.length;J0++)if(!x(q,f0[J0]))return!1;if(k&&arguments.length===5){var z0=j(G);if(z0.length!==0){var q0=0;for(J0=0;J0<z0.length;J0++){var T0=z0[J0];if(_(G,T0)){if(!_(q,T0))return!1;f0.push(T0),q0++}else if(_(q,T0))return!1}var X1=j(q);if(z0.length!==X1.length&&p(q,X1).length!==q0)return!1}else{var o0=j(q);if(o0.length!==0&&p(q,o0).length!==0)return!1}}if(f0.length===0&&(o===P||o===d&&G.length===0||G.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var W1=n.val1.get(G);if(W1!==void 0){var k0=n.val2.get(q);if(k0!==void 0)return W1===k0}n.position++}n.val1.set(G,n.position),n.val2.set(q,n.position);var w1=I0(G,q,k,f0,n,o);return n.val1.delete(G),n.val2.delete(q),w1}function Y0(G,q,k,n){var o=w(G);for(var f0=0;f0<o.length;f0++){var e=o[f0];if(S(q,e,k,n))return G.delete(e),!0}return!1}function X0(G){switch(W(G)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":G=+G;case"number":if(M(G))return!1}return!0}function T(G,q,k){var n=X0(k);if(n!=null)return n;return q.has(n)&&!G.has(n)}function L0(G,q,k,n,o){var f0=X0(k);if(f0!=null)return f0;var e=q.get(f0);if(e===void 0&&!q.has(f0)||!S(n,e,!1,o))return!1;return!G.has(f0)&&S(n,e,!1,o)}function b0(G,q,k,n){var o=null,f0=w(G);for(var e=0;e<f0.length;e++){var J0=f0[e];if(W(J0)==="object"&&J0!==null){if(o===null)o=new Set;o.add(J0)}else if(!q.has(J0)){if(k)return!1;if(!T(G,q,J0))return!1;if(o===null)o=new Set;o.add(J0)}}if(o!==null){var z0=w(q);for(var q0=0;q0<z0.length;q0++){var T0=z0[q0];if(W(T0)==="object"&&T0!==null){if(!Y0(o,T0,k,n))return!1}else if(!k&&!G.has(T0)&&!Y0(o,T0,k,n))return!1}return o.size===0}return!0}function P0(G,q,k,n,o,f0){var e=w(G);for(var J0=0;J0<e.length;J0++){var z0=e[J0];if(S(k,z0,o,f0)&&S(n,q.get(z0),o,f0))return G.delete(z0),!0}return!1}function U0(G,q,k,n){var o=null,f0=F(G);for(var e=0;e<f0.length;e++){var J0=Z(f0[e],2),z0=J0[0],q0=J0[1];if(W(z0)==="object"&&z0!==null){if(o===null)o=new Set;o.add(z0)}else{var T0=q.get(z0);if(T0===void 0&&!q.has(z0)||!S(q0,T0,k,n)){if(k)return!1;if(!L0(G,q,z0,q0,n))return!1;if(o===null)o=new Set;o.add(z0)}}}if(o!==null){var X1=F(q);for(var o0=0;o0<X1.length;o0++){var W1=Z(X1[o0],2),k0=W1[0],w1=W1[1];if(W(k0)==="object"&&k0!==null){if(!P0(o,G,k0,w1,k,n))return!1}else if(!k&&(!G.has(k0)||!S(G.get(k0),w1,!1,n))&&!P0(o,G,k0,w1,!1,n))return!1}return o.size===0}return!0}function I0(G,q,k,n,o,f0){var e=0;if(f0===s){if(!b0(G,q,k,o))return!1}else if(f0===c){if(!U0(G,q,k,o))return!1}else if(f0===d)for(;e<G.length;e++)if(x(G,e)){if(!x(q,e)||!S(G[e],q[e],k,o))return!1}else if(x(q,e))return!1;else{var J0=Object.keys(G);for(;e<J0.length;e++){var z0=J0[e];if(!x(q,z0)||!S(G[z0],q[z0],k,o))return!1}if(J0.length!==Object.keys(q).length)return!1;return!0}for(e=0;e<n.length;e++){var q0=n[e];if(!S(G[q0],q[q0],k,o))return!1}return!0}function N0(G,q){return S(G,q,L)}function _0(G,q){return S(G,q,K)}$.exports={isDeepEqual:N0,isDeepStrictEqual:_0}}),Tf=u((f,$)=>{function Z(D){return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},Z(D)}function J(D,U){for(var H=0;H<U.length;H++){var A=U[H];if(A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A)A.writable=!0;Object.defineProperty(D,Q(A.key),A)}}function z(D,U,H){if(U)J(D.prototype,U);if(H)J(D,H);return Object.defineProperty(D,"prototype",{writable:!1}),D}function Q(D){var U=Y(D,"string");return Z(U)==="symbol"?U:String(U)}function Y(D,U){if(Z(D)!=="object"||D===null)return D;var H=D[Symbol.toPrimitive];if(H!==void 0){var A=H.call(D,U||"default");if(Z(A)!=="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(D)}function X(D,U){if(!(D instanceof U))throw new TypeError("Cannot call a class as a function")}var W=w$(),V=W.codes,w=V.ERR_AMBIGUOUS_ARGUMENT,F=V.ERR_INVALID_ARG_TYPE,O=V.ERR_INVALID_ARG_VALUE,j=V.ERR_INVALID_RETURN_VALUE,M=V.ERR_MISSING_ARGS,E=QJ(),x=F1(),_=x.inspect,g=F1().types,v=g.isPromise,b=g.isRegExp,i=WJ()(),a=_f()(),N=wJ()("RegExp.prototype.test"),C,I;function h(){var D=FJ();C=D.isDeepEqual,I=D.isDeepStrictEqual}var r=!1,m=$.exports=A0,$0={};function l(D){if(D.message instanceof Error)throw D.message;throw new E(D)}function w0(D,U,H,A,y){var S=arguments.length,p;if(S===0)p="Failed";else if(S===1)H=D,D=void 0;else{if(r===!1){r=!0;var t=process.emitWarning?process.emitWarning:console.warn.bind(console);t("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}if(S===2)A="!="}if(H instanceof Error)throw H;var Y0={actual:D,expected:U,operator:A===void 0?"fail":A,stackStartFn:y||w0};if(H!==void 0)Y0.message=H;var X0=new E(Y0);if(p)X0.message=p,X0.generatedMessage=!0;throw X0}m.fail=w0,m.AssertionError=E;function V0(D,U,H,A){if(!H){var y=!1;if(U===0)y=!0,A="No value argument passed to `assert.ok()`";else if(A instanceof Error)throw A;var S=new E({actual:H,expected:!0,message:A,operator:"==",stackStartFn:D});throw S.generatedMessage=y,S}}function A0(){for(var D=arguments.length,U=new Array(D),H=0;H<D;H++)U[H]=arguments[H];V0.apply(void 0,[A0,U.length].concat(U))}m.ok=A0,m.equal=function D(U,H,A){if(arguments.length<2)throw new M("actual","expected");if(U!=H)l({actual:U,expected:H,message:A,operator:"==",stackStartFn:D})},m.notEqual=function D(U,H,A){if(arguments.length<2)throw new M("actual","expected");if(U==H)l({actual:U,expected:H,message:A,operator:"!=",stackStartFn:D})},m.deepEqual=function D(U,H,A){if(arguments.length<2)throw new M("actual","expected");if(C===void 0)h();if(!C(U,H))l({actual:U,expected:H,message:A,operator:"deepEqual",stackStartFn:D})},m.notDeepEqual=function D(U,H,A){if(arguments.length<2)throw new M("actual","expected");if(C===void 0)h();if(C(U,H))l({actual:U,expected:H,message:A,operator:"notDeepEqual",stackStartFn:D})},m.deepStrictEqual=function D(U,H,A){if(arguments.length<2)throw new M("actual","expected");if(C===void 0)h();if(!I(U,H))l({actual:U,expected:H,message:A,operator:"deepStrictEqual",stackStartFn:D})},m.notDeepStrictEqual=B0;function B0(D,U,H){if(arguments.length<2)throw new M("actual","expected");if(C===void 0)h();if(I(D,U))l({actual:D,expected:U,message:H,operator:"notDeepStrictEqual",stackStartFn:B0})}m.strictEqual=function D(U,H,A){if(arguments.length<2)throw new M("actual","expected");if(!a(U,H))l({actual:U,expected:H,message:A,operator:"strictEqual",stackStartFn:D})},m.notStrictEqual=function D(U,H,A){if(arguments.length<2)throw new M("actual","expected");if(a(U,H))l({actual:U,expected:H,message:A,operator:"notStrictEqual",stackStartFn:D})};var O0=z(function D(U,H,A){var y=this;X(this,D),H.forEach(function(S){if(S in U)if(A!==void 0&&typeof A[S]==="string"&&b(U[S])&&N(U[S],A[S]))y[S]=A[S];else y[S]=U[S]})});function F0(D,U,H,A,y,S){if(!(H in D)||!I(D[H],U[H])){if(!A){var p=new O0(D,y),t=new O0(U,y,D),Y0=new E({actual:p,expected:t,operator:"deepStrictEqual",stackStartFn:S});throw Y0.actual=D,Y0.expected=U,Y0.operator=S.name,Y0}l({actual:D,expected:U,message:A,operator:S.name,stackStartFn:S})}}function R(D,U,H,A){if(typeof U!=="function"){if(b(U))return N(U,D);if(arguments.length===2)throw new F("expected",["Function","RegExp"],U);if(Z(D)!=="object"||D===null){var y=new E({actual:D,expected:U,message:H,operator:"deepStrictEqual",stackStartFn:A});throw y.operator=A.name,y}var S=Object.keys(U);if(U instanceof Error)S.push("name","message");else if(S.length===0)throw new O("error",U,"may not be an empty object");if(C===void 0)h();return S.forEach(function(p){if(typeof D[p]==="string"&&b(U[p])&&N(U[p],D[p]))return;F0(D,U,p,H,S,A)}),!0}if(U.prototype!==void 0&&D instanceof U)return!0;if(Error.isPrototypeOf(U))return!1;return U.call({},D)===!0}function B(D){if(typeof D!=="function")throw new F("fn","Function",D);try{D()}catch(U){return U}return $0}function K(D){return v(D)||D!==null&&Z(D)==="object"&&typeof D.then==="function"&&typeof D.catch==="function"}function L(D){return Promise.resolve().then(function(){var U;if(typeof D==="function"){if(U=D(),!K(U))throw new j("instance of Promise","promiseFn",U)}else if(K(D))U=D;else throw new F("promiseFn",["Function","Promise"],D);return Promise.resolve().then(function(){return U}).then(function(){return $0}).catch(function(H){return H})})}function P(D,U,H,A){if(typeof H==="string"){if(arguments.length===4)throw new F("error",["Object","Error","Function","RegExp"],H);if(Z(U)==="object"&&U!==null){if(U.message===H)throw new w("error/message",'The error message "'.concat(U.message,'" is identical to the message.'))}else if(U===H)throw new w("error/message",'The error "'.concat(U,'" is identical to the message.'));A=H,H=void 0}else if(H!=null&&Z(H)!=="object"&&typeof H!=="function")throw new F("error",["Object","Error","Function","RegExp"],H);if(U===$0){var y="";if(H&&H.name)y+=" (".concat(H.name,")");y+=A?": ".concat(A):".";var S=D.name==="rejects"?"rejection":"exception";l({actual:void 0,expected:H,operator:D.name,message:"Missing expected ".concat(S).concat(y),stackStartFn:D})}if(H&&!R(U,H,A,D))throw U}function d(D,U,H,A){if(U===$0)return;if(typeof H==="string")A=H,H=void 0;if(!H||R(U,H)){var y=A?": ".concat(A):".",S=D.name==="doesNotReject"?"rejection":"exception";l({actual:U,expected:H,operator:D.name,message:"Got unwanted ".concat(S).concat(y,`
`)+'Actual message: "'.concat(U&&U.message,'"'),stackStartFn:D})}throw U}m.throws=function D(U){for(var H=arguments.length,A=new Array(H>1?H-1:0),y=1;y<H;y++)A[y-1]=arguments[y];P.apply(void 0,[D,B(U)].concat(A))},m.rejects=function D(U){for(var H=arguments.length,A=new Array(H>1?H-1:0),y=1;y<H;y++)A[y-1]=arguments[y];return L(U).then(function(S){return P.apply(void 0,[D,S].concat(A))})},m.doesNotThrow=function D(U){for(var H=arguments.length,A=new Array(H>1?H-1:0),y=1;y<H;y++)A[y-1]=arguments[y];d.apply(void 0,[D,B(U)].concat(A))},m.doesNotReject=function D(U){for(var H=arguments.length,A=new Array(H>1?H-1:0),y=1;y<H;y++)A[y-1]=arguments[y];return L(U).then(function(S){return d.apply(void 0,[D,S].concat(A))})},m.ifError=function D(U){if(U!==null&&U!==void 0){var H="ifError got unwanted exception: ";if(Z(U)==="object"&&typeof U.message==="string")if(U.message.length===0&&U.constructor)H+=U.constructor.name;else H+=U.message;else H+=_(U);var A=new E({actual:U,expected:null,operator:"ifError",message:H,stackStartFn:D}),y=U.stack;if(typeof y==="string"){var S=y.split(`
`);S.shift();var p=A.stack.split(`
`);for(var t=0;t<S.length;t++){var Y0=p.indexOf(S[t]);if(Y0!==-1){p=p.slice(0,Y0);break}}A.stack="".concat(p.join(`
`),`
`).concat(S.join(`
`))}throw A}};function s(D,U,H,A,y){if(!b(U))throw new F("regexp","RegExp",U);var S=y==="match";if(typeof D!=="string"||N(U,D)!==S){if(H instanceof Error)throw H;var p=!H;H=H||(typeof D!=="string"?'The "string" argument must be of type string. Received type '+"".concat(Z(D)," (").concat(_(D),")"):(S?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(_(U),`. Input:

`).concat(_(D),`
`));var t=new E({actual:D,expected:U,message:H,operator:y,stackStartFn:A});throw t.generatedMessage=p,t}}m.match=function D(U,H,A){s(U,H,A,D,"match")},m.doesNotMatch=function D(U,H,A){s(U,H,A,D,"doesNotMatch")};function c(){for(var D=arguments.length,U=new Array(D),H=0;H<D;H++)U[H]=arguments[H];V0.apply(void 0,[c,U.length].concat(U))}m.strict=i(c,m,{equal:m.strictEqual,deepEqual:m.deepStrictEqual,notEqual:m.notStrictEqual,notDeepEqual:m.notDeepStrictEqual}),m.strict.strict=m.strict}),G$=T8(Tf(),1),{AssertionError:GJ,CallTracker:KJ,deepEqual:DJ,deepStrictEqual:OJ,doesNotMatch:LJ,doesNotReject:MJ,doesNotThrow:AJ,equal:qJ,fail:jJ,ifError:CJ,match:TJ,notDeepEqual:NJ,notDeepStrictEqual:IJ,notEqual:RJ,notStrictEqual:SJ,ok:EJ,rejects:PJ,strict:bJ,strictEqual:_J,throws:vJ}=G$,gJ=G$});var L$=Z0((C6,O$)=>{var K$=12,xJ=0,vf=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,10,9,9,9,11,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,24,36,48,60,72,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,48,48,48,0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,0,0,0,0,0,48,0,0,0,0,0,0,0,0,0,0,127,63,63,63,0,31,15,15,15,7,7,7];function kJ(f){var $=f.indexOf("%");if($===-1)return f;var Z=f.length,J="",z=0,Q=0,Y=$,X=K$;while($>-1&&$<Z){var W=D$(f[$+1],4),V=D$(f[$+2],0),w=W|V,F=vf[w];if(X=vf[256+X+F],Q=Q<<6|w&vf[364+F],X===K$)J+=f.slice(z,Y),J+=Q<=65535?String.fromCharCode(Q):String.fromCharCode(55232+(Q>>10),56320+(Q&1023)),Q=0,z=$+3,$=Y=f.indexOf("%",z);else if(X===xJ)return null;else{if($+=3,$<Z&&f.charCodeAt($)===37)continue;return null}}return J+f.slice(z)}var yJ={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};function D$(f,$){var Z=yJ[f];return Z===void 0?255:Z<<$}O$.exports=kJ});var C$=Z0((T6,j$)=>{var M$=L$(),A$=/\+/g,q$=function(){};q$.prototype=Object.create(null);function uJ(f){let $=new q$;if(typeof f!=="string")return $;let Z=f.length,J="",z="",Q=-1,Y=-1,X=!1,W=!1,V=!1,w=!1,F=!1,O=0;for(let j=0;j<Z+1;j++)if(O=j!==Z?f.charCodeAt(j):38,O===38){if(F=Y>Q,!F)Y=j;if(J=f.slice(Q+1,Y),F||J.length>0){if(V)J=J.replace(A$," ");if(X)J=M$(J)||J;if(F){if(z=f.slice(Y+1,j),w)z=z.replace(A$," ");if(W)z=M$(z)||z}let M=$[J];if(M===void 0)$[J]=z;else if(M.pop)M.push(z);else $[J]=[M,z]}z="",Q=j,Y=j,X=!1,W=!1,V=!1,w=!1}else if(O===61)if(Y<=Q)Y=j;else W=!0;else if(O===43)if(Y>Q)w=!0;else V=!0;else if(O===37)if(Y>Q)W=!0;else X=!0;return $}j$.exports=uJ});var N$=Z0((N6,T$)=>{var g0=Array.from({length:256},(f,$)=>"%"+(($<16?"0":"")+$.toString(16)).toUpperCase()),cJ=new Int8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0]);function hJ(f){let $=f.length;if($===0)return"";let Z="",J=0,z=0;f:for(;z<$;z++){let Q=f.charCodeAt(z);while(Q<128){if(cJ[Q]!==1){if(J<z)Z+=f.slice(J,z);J=z+1,Z+=g0[Q]}if(++z===$)break f;Q=f.charCodeAt(z)}if(J<z)Z+=f.slice(J,z);if(Q<2048){J=z+1,Z+=g0[192|Q>>6]+g0[128|Q&63];continue}if(Q<55296||Q>=57344){J=z+1,Z+=g0[224|Q>>12]+g0[128|Q>>6&63]+g0[128|Q&63];continue}if(++z,z>=$)throw new Error("URI malformed");let Y=f.charCodeAt(z)&1023;J=z+1,Q=65536+((Q&1023)<<10|Y),Z+=g0[240|Q>>18]+g0[128|Q>>12&63]+g0[128|Q>>6&63]+g0[128|Q&63]}if(J===0)return f;if(J<$)return Z+f.slice(J);return Z}T$.exports={encodeString:hJ}});var S$=Z0((I6,R$)=>{var{encodeString:gf}=N$();function I$(f){let $=typeof f;if($==="string")return gf(f);else if($==="bigint")return f.toString();else if($==="boolean")return f?"true":"false";else if($==="number"&&Number.isFinite(f))return f<1000000000000000000000?""+f:gf(""+f);return""}function mJ(f){let $="";if(f===null||typeof f!=="object")return $;let Z="&",J=Object.keys(f),z=J.length,Q=0;for(let Y=0;Y<z;Y++){let X=J[Y],W=f[X],V=gf(X)+"=";if(Y)$+=Z;if(Array.isArray(W)){Q=W.length;for(let w=0;w<Q;w++){if(w)$+=Z;$+=V,$+=I$(W[w])}}else $+=V,$+=I$(W)}return $}R$.exports=mJ});var _$=Z0((R6,L1)=>{var E$=C$(),P$=S$(),b$={parse:E$,stringify:P$};L1.exports=b$;L1.exports.default=b$;L1.exports.parse=E$;L1.exports.stringify=P$});var g$=Z0((v$)=>{Object.defineProperty(v$,"__esModule",{value:!0})});var k$=Z0((x$)=>{Object.defineProperty(x$,"__esModule",{value:!0});x$.types=void 0;var dJ;(function(f){f[f.ROOT=0]="ROOT",f[f.GROUP=1]="GROUP",f[f.POSITION=2]="POSITION",f[f.SET=3]="SET",f[f.RANGE=4]="RANGE",f[f.REPETITION=5]="REPETITION",f[f.REFERENCE=6]="REFERENCE",f[f.CHAR=7]="CHAR"})(dJ=x$.types||(x$.types={}))});var u$=Z0((y$)=>{Object.defineProperty(y$,"__esModule",{value:!0})});var u0=Z0((y0)=>{var iJ=y0&&y0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),kf=y0&&y0.__exportStar||function(f,$){for(var Z in f)if(Z!=="default"&&!Object.prototype.hasOwnProperty.call($,Z))iJ($,f,Z)};Object.defineProperty(y0,"__esModule",{value:!0});kf(g$(),y0);kf(k$(),y0);kf(u$(),y0)});var m1=Z0((d$)=>{Object.defineProperty(d$,"__esModule",{value:!0});d$.anyChar=d$.notWhitespace=d$.whitespace=d$.notInts=d$.ints=d$.notWords=d$.words=void 0;var Q0=u0(),c$=()=>[{type:Q0.types.RANGE,from:48,to:57}],h$=()=>[{type:Q0.types.CHAR,value:95},{type:Q0.types.RANGE,from:97,to:122},{type:Q0.types.RANGE,from:65,to:90},{type:Q0.types.RANGE,from:48,to:57}],m$=()=>[{type:Q0.types.CHAR,value:9},{type:Q0.types.CHAR,value:10},{type:Q0.types.CHAR,value:11},{type:Q0.types.CHAR,value:12},{type:Q0.types.CHAR,value:13},{type:Q0.types.CHAR,value:32},{type:Q0.types.CHAR,value:160},{type:Q0.types.CHAR,value:5760},{type:Q0.types.RANGE,from:8192,to:8202},{type:Q0.types.CHAR,value:8232},{type:Q0.types.CHAR,value:8233},{type:Q0.types.CHAR,value:8239},{type:Q0.types.CHAR,value:8287},{type:Q0.types.CHAR,value:12288},{type:Q0.types.CHAR,value:65279}],lJ=()=>[{type:Q0.types.CHAR,value:10},{type:Q0.types.CHAR,value:13},{type:Q0.types.CHAR,value:8232},{type:Q0.types.CHAR,value:8233}];d$.words=()=>({type:Q0.types.SET,set:h$(),not:!1});d$.notWords=()=>({type:Q0.types.SET,set:h$(),not:!0});d$.ints=()=>({type:Q0.types.SET,set:c$(),not:!1});d$.notInts=()=>({type:Q0.types.SET,set:c$(),not:!0});d$.whitespace=()=>({type:Q0.types.SET,set:m$(),not:!1});d$.notWhitespace=()=>({type:Q0.types.SET,set:m$(),not:!0});d$.anyChar=()=>({type:Q0.types.SET,set:lJ(),not:!0})});var n$=Z0((R0)=>{var tJ=R0&&R0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),eJ=R0&&R0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),f9=R0&&R0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))tJ($,f,Z)}return eJ($,f),$};Object.defineProperty(R0,"__esModule",{value:!0});R0.tokenizeClass=R0.strToChars=void 0;var l$=u0(),Z1=f9(m1()),$9="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?";R0.strToChars=(f)=>{let $=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return f.replace($,(Z,J,z,Q,Y,X,W)=>{if(z)return Z;let V=J?8:Q?parseInt(Q,16):Y?parseInt(Y,16):X?$9.indexOf(X):{0:0,t:9,n:10,v:11,f:12,r:13}[W],w=String.fromCharCode(V);return/[[\]{}^$.|?*+()]/.test(w)?`\\${w}`:w})};R0.tokenizeClass=(f,$)=>{var Z,J,z,Q,Y,X,W;let V=[],w,F,O=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(((?:\\)])|(((?:\\)?([^\]])))))|(\])|(?:\\)?([^])/g;while((w=O.exec(f))!==null){let j=(W=(X=(Y=(Q=(z=(J=(Z=w[1]&&Z1.words())!==null&&Z!==void 0?Z:w[2]&&Z1.ints())!==null&&J!==void 0?J:w[3]&&Z1.whitespace())!==null&&z!==void 0?z:w[4]&&Z1.notWords())!==null&&Q!==void 0?Q:w[5]&&Z1.notInts())!==null&&Y!==void 0?Y:w[6]&&Z1.notWhitespace())!==null&&X!==void 0?X:w[7]&&{type:l$.types.RANGE,from:(w[8]||w[9]).charCodeAt(0),to:(F=w[10]).charCodeAt(F.length-1)})!==null&&W!==void 0?W:(F=w[16])&&{type:l$.types.CHAR,value:F.charCodeAt(0)};if(j)V.push(j);else return[V,O.lastIndex]}throw new SyntaxError(`Invalid regular expression: /${$}/: Unterminated character class`)}});var yf=Z0((x0)=>{var Z9=x0&&x0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),J9=x0&&x0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),r$=x0&&x0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))Z9($,f,Z)}return J9($,f),$};Object.defineProperty(x0,"__esModule",{value:!0});x0.tokenizer=void 0;var p$=r$(n$()),j0=u0(),i0=r$(m1()),z9=/^[a-zA-Z_$]$/i,Q9=/^[a-zA-Z0-9_$]$/i,o$=/\d/;x0.tokenizer=(f)=>{let $=0,Z,J={type:j0.types.ROOT,stack:[]},z=J,Q=J.stack,Y=[],X=[],W=0,V=(F)=>{throw new SyntaxError(`Invalid regular expression: /${f}/: Nothing to repeat at column ${F-1}`)},w=p$.strToChars(f);while($<w.length)switch(Z=w[$++]){case"\\":if($===w.length)throw new SyntaxError(`Invalid regular expression: /${f}/: \\ at end of pattern`);switch(Z=w[$++]){case"b":Q.push({type:j0.types.POSITION,value:"b"});break;case"B":Q.push({type:j0.types.POSITION,value:"B"});break;case"w":Q.push(i0.words());break;case"W":Q.push(i0.notWords());break;case"d":Q.push(i0.ints());break;case"D":Q.push(i0.notInts());break;case"s":Q.push(i0.whitespace());break;case"S":Q.push(i0.notWhitespace());break;default:if(o$.test(Z)){let F=Z;while($<w.length&&o$.test(w[$]))F+=w[$++];let O=parseInt(F,10),j={type:j0.types.REFERENCE,value:O};Q.push(j),X.push({reference:j,stack:Q,index:Q.length-1})}else Q.push({type:j0.types.CHAR,value:Z.charCodeAt(0)})}break;case"^":Q.push({type:j0.types.POSITION,value:"^"});break;case"$":Q.push({type:j0.types.POSITION,value:"$"});break;case"[":{let F;if(w[$]==="^")F=!0,$++;else F=!1;let O=p$.tokenizeClass(w.slice($),f);$+=O[1],Q.push({type:j0.types.SET,set:O[0],not:F});break}case".":Q.push(i0.anyChar());break;case"(":{let F={type:j0.types.GROUP,stack:[],remember:!0};if(w[$]==="?")if(Z=w[$+1],$+=2,Z==="=")F.followedBy=!0,F.remember=!1;else if(Z==="!")F.notFollowedBy=!0,F.remember=!1;else if(Z==="<"){let O="";if(z9.test(w[$]))O+=w[$],$++;else throw new SyntaxError(`Invalid regular expression: /${f}/: Invalid capture group name, character '${w[$]}' after '<' at column ${$+1}`);while($<w.length&&Q9.test(w[$]))O+=w[$],$++;if(!O)throw new SyntaxError(`Invalid regular expression: /${f}/: Invalid capture group name, character '${w[$]}' after '<' at column ${$+1}`);if(w[$]!==">")throw new SyntaxError(`Invalid regular expression: /${f}/: Unclosed capture group name, expected '>', found '${w[$]}' at column ${$+1}`);F.name=O,$++}else if(Z===":")F.remember=!1;else throw new SyntaxError(`Invalid regular expression: /${f}/: Invalid group, character '${Z}' after '?' at column ${$-1}`);else W+=1;Q.push(F),Y.push(z),z=F,Q=F.stack;break}case")":if(Y.length===0)throw new SyntaxError(`Invalid regular expression: /${f}/: Unmatched ) at column ${$-1}`);z=Y.pop(),Q=z.options?z.options[z.options.length-1]:z.stack;break;case"|":{if(!z.options)z.options=[z.stack],delete z.stack;let F=[];z.options.push(F),Q=F;break}case"{":{let F=/^(\d+)(,(\d+)?)?\}/.exec(w.slice($)),O,j;if(F!==null){if(Q.length===0)V($);O=parseInt(F[1],10),j=F[2]?F[3]?parseInt(F[3],10):1/0:O,$+=F[0].length,Q.push({type:j0.types.REPETITION,min:O,max:j,value:Q.pop()})}else Q.push({type:j0.types.CHAR,value:123});break}case"?":if(Q.length===0)V($);Q.push({type:j0.types.REPETITION,min:0,max:1,value:Q.pop()});break;case"+":if(Q.length===0)V($);Q.push({type:j0.types.REPETITION,min:1,max:1/0,value:Q.pop()});break;case"*":if(Q.length===0)V($);Q.push({type:j0.types.REPETITION,min:0,max:1/0,value:Q.pop()});break;default:Q.push({type:j0.types.CHAR,value:Z.charCodeAt(0)})}if(Y.length!==0)throw new SyntaxError(`Invalid regular expression: /${f}/: Unterminated group`);return Y9(X,W),J};function Y9(f,$){for(let Z of f.reverse())if($<Z.reference.value){Z.reference.type=j0.types.CHAR;let J=Z.reference.value.toString();if(Z.reference.value=parseInt(J,8),!/^[0-7]+$/.test(J)){let z=0;while(J[z]!=="8"&&J[z]!=="9")z+=1;if(z===0)Z.reference.value=J.charCodeAt(0),z+=1;else Z.reference.value=parseInt(J.slice(0,z),8);if(J.length>z){let Q=Z.stack.splice(Z.index+1);for(let Y of J.slice(z))Z.stack.push({type:j0.types.CHAR,value:Y.charCodeAt(0)});Z.stack.push(...Q)}}}}});var a$=Z0((C0)=>{var X9=C0&&C0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),W9=C0&&C0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),w9=C0&&C0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))X9($,f,Z)}return W9($,f),$};Object.defineProperty(C0,"__esModule",{value:!0});C0.NOTANYCHAR=C0.WHITESPACE=C0.WORDS=C0.INTS=void 0;var d1=w9(m1()),s$=u0();function i1(f){let $={},Z=0;for(let J of f){if(J.type===s$.types.CHAR)$[J.value]=!0;if(J.type===s$.types.RANGE)$[`${J.from}-${J.to}`]=!0;Z+=1}return{lookup:()=>Object.assign({},$),len:Z}}C0.INTS=i1(d1.ints().set);C0.WORDS=i1(d1.words().set);C0.WHITESPACE=i1(d1.whitespace().set);C0.NOTANYCHAR=i1(d1.anyChar().set)});var e$=Z0((S0)=>{var V9=S0&&S0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),B9=S0&&S0.__setModuleDefault||(Object.create?function(f,$){Object.defineProperty(f,"default",{enumerable:!0,value:$})}:function(f,$){f.default=$}),U9=S0&&S0.__importStar||function(f){if(f&&f.__esModule)return f;var $={};if(f!=null){for(var Z in f)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(f,Z))V9($,f,Z)}return B9($,f),$};Object.defineProperty(S0,"__esModule",{value:!0});S0.writeSetTokens=S0.setChar=void 0;var o1=u0(),l1=U9(a$());function p1(f){return f===94?"\\^":f===92?"\\\\":f===93?"\\]":f===45?"\\-":String.fromCharCode(f)}S0.setChar=p1;function n1(f,{lookup:$,len:Z}){if(Z!==f.length)return!1;let J=$();for(let z of f){if(z.type===o1.types.SET)return!1;let Q=z.type===o1.types.CHAR?z.value:`${z.from}-${z.to}`;if(J[Q])J[Q]=!1;else return!1}return!0}function t$(f,$=!1){if(n1(f.set,l1.INTS))return f.not?"\\D":"\\d";if(n1(f.set,l1.WORDS))return f.not?"\\W":"\\w";if(f.not&&n1(f.set,l1.NOTANYCHAR))return".";if(n1(f.set,l1.WHITESPACE))return f.not?"\\S":"\\s";let Z="";for(let z=0;z<f.set.length;z++){let Q=f.set[z];Z+=H9(Q)}let J=`${f.not?"^":""}${Z}`;return $?J:`[${J}]`}S0.writeSetTokens=t$;function H9(f){if(f.type===o1.types.CHAR)return p1(f.value);else if(f.type===o1.types.RANGE)return`${p1(f.from)}-${p1(f.to)}`;return t$(f,!0)}});var cf=Z0((Z7)=>{Object.defineProperty(Z7,"__esModule",{value:!0});Z7.reconstruct=void 0;var h0=u0(),uf=e$(),f7=(f)=>f.map(Z7.reconstruct).join(""),$7=(f)=>{if("options"in f)return f.options.map(f7).join("|");else if("stack"in f)return f7(f.stack);else throw new Error("options or stack must be Root or Group token")};Z7.reconstruct=(f)=>{switch(f.type){case h0.types.ROOT:return $7(f);case h0.types.CHAR:{let $=String.fromCharCode(f.value);return(/[[\\{}$^.|?*+()]/.test($)?"\\":"")+$}case h0.types.POSITION:if(f.value==="^"||f.value==="$")return f.value;else return`\\${f.value}`;case h0.types.REFERENCE:return`\\${f.value}`;case h0.types.SET:return uf.writeSetTokens(f);case h0.types.GROUP:return`(${f.name?`?<${f.name}>`:f.remember?"":f.followedBy?"?=":f.notFollowedBy?"?!":"?:"}${$7(f)})`;case h0.types.REPETITION:{let{min:$,max:Z}=f,J;if($===0&&Z===1)J="?";else if($===1&&Z===1/0)J="+";else if($===0&&Z===1/0)J="*";else if(Z===1/0)J=`{${$},}`;else if($===Z)J=`{${$}}`;else J=`{${$},${Z}}`;return`${Z7.reconstruct(f.value)}${J}`}case h0.types.RANGE:return`${uf.setChar(f.from)}-${uf.setChar(f.to)}`;default:throw new Error(`Invalid token type ${f}`)}}});var Q7=Z0((E0,s1)=>{var F9=E0&&E0.__createBinding||(Object.create?function(f,$,Z,J){if(J===void 0)J=Z;Object.defineProperty(f,J,{enumerable:!0,get:function(){return $[Z]}})}:function(f,$,Z,J){if(J===void 0)J=Z;f[J]=$[Z]}),hf=E0&&E0.__exportStar||function(f,$){for(var Z in f)if(Z!=="default"&&!Object.prototype.hasOwnProperty.call($,Z))F9($,f,Z)};Object.defineProperty(E0,"__esModule",{value:!0});E0.types=void 0;var J7=u0();Object.defineProperty(E0,"types",{enumerable:!0,get:function(){return J7.types}});hf(yf(),E0);hf(cf(),E0);var z7=yf(),G9=cf();hf(u0(),E0);E0.default=z7.tokenizer;s1.exports=z7.tokenizer;s1.exports.types=J7.types;s1.exports.reconstruct=G9.reconstruct});var X7=Z0((u6,a1)=>{var Y7=Q7(),K9=Y7.types;function mf(f,$){if(!$)$={};let Z=$.limit===void 0?25:$.limit;if(D9(f))f=f.source;else if(typeof f!=="string")f=String(f);try{f=Y7(f)}catch{return!1}let J=0;return function z(Q,Y){let X,W,V;if(Q.type===K9.REPETITION){if(Y++,J++,Y>1)return!1;if(J>Z)return!1}if(Q.options){for(X=0,V=Q.options.length;X<V;X++)if(W=z({stack:Q.options[X]},Y),!W)return!1}let w=Q.stack||Q.value?.stack;if(!w)return!0;for(X=0;X<w.length;X++)if(W=z(w[X],Y),!W)return!1;return!0}(f,0)}function D9(f){return{}.toString.call(f)==="[object RegExp]"}a1.exports=mf;a1.exports.default=mf;a1.exports.safeRegex=mf});var df=Z0((c6,W7)=>{W7.exports=function f($,Z){if($===Z)return!0;if($&&Z&&typeof $=="object"&&typeof Z=="object"){if($.constructor!==Z.constructor)return!1;var J,z,Q;if(Array.isArray($)){if(J=$.length,J!=Z.length)return!1;for(z=J;z--!==0;)if(!f($[z],Z[z]))return!1;return!0}if($.constructor===RegExp)return $.source===Z.source&&$.flags===Z.flags;if($.valueOf!==Object.prototype.valueOf)return $.valueOf()===Z.valueOf();if($.toString!==Object.prototype.toString)return $.toString()===Z.toString();if(Q=Object.keys($),J=Q.length,J!==Object.keys(Z).length)return!1;for(z=J;z--!==0;)if(!Object.prototype.hasOwnProperty.call(Z,Q[z]))return!1;for(z=J;z--!==0;){var Y=Q[z];if(!f($[Y],Z[Y]))return!1}return!0}return $!==$&&Z!==Z}});var t1=Z0((h6,w7)=>{w7.exports={name:"__fmw_internal_strategy_merged_tree_http_method__",storage:function(){let f=new Map;return{get:($)=>{return f.get($)||null},set:($,Z)=>{f.set($,Z)}}},deriveConstraint:(f)=>f.method,mustMatchWhenDerived:!0}});var K7=Z0((m6,G7)=>{var V7=df(),B7=t1(),U7=Symbol("treeData");function H7(f,$=""){let Z="",J=Object.keys(f);for(let z=0;z<J.length;z++){let Q=J[z],Y=f[Q],X=z===J.length-1,W=X?"└── ":"├── ",V=X?"    ":"│   ",F=(Y[U7]||"").replaceAll(`
`,`
`+$+V);Z+=$+W+Q+F+`
`,Z+=H7(Y,$+V)}return Z}function O9(f){let $=f.name||"";return $=$.replace("bound","").trim(),$=($||"anonymous")+"()",$}function F7(f){if(Array.isArray(f))return f.map(($)=>F7($));if(typeof f==="symbol")return f.toString();if(typeof f==="function")return O9(f);return f}function L9(f,$){if(!$.includeMeta)return{};let Z=$.buildPrettyMeta(f),J={},z=$.includeMeta;if(!Array.isArray(z))z=Reflect.ownKeys(Z);for(let Q of z){if(!Object.prototype.hasOwnProperty.call(Z,Q))continue;let Y=Q.toString(),X=Z[Q];if(X!==void 0&&X!==null){let W=JSON.stringify(F7(X));J[Y]=W}}return J}function M9(f){let $="";for(let[Z,J]of Object.entries(f))$+=`
• (${Z}) ${J}`;return $}function A9(f){let $={...f.opts.constraints},Z=$[B7.name];return delete $[B7.name],{...f,method:Z,opts:{constraints:$}}}function q9(f){let $=` (${f.method})`,Z=f.opts.constraints||{};if(Object.keys(Z).length!==0)$+=" "+JSON.stringify(Z);return $+=M9(f.metaData),$}function j9(f){return f.reduce(($,Z)=>{for(let J of $)if(V7(Z.opts.constraints,J.opts.constraints)&&V7(Z.metaData,J.metaData))return J.method+=", "+Z.method,$;return $.push(Z),$},[])}function C9(f,$,Z){let J=f.routes;if(Z.method===void 0)J=J.map(A9);if(J=J.map((z)=>{return z.metaData=L9(z,Z),z}),Z.method===void 0)J=j9(J);return J.map(q9).join(`
${$}`)}function e1(f,$,Z,J){if(f.isLeafNode||J.commonPrefix!==!1){if(Z=Z||"(empty root node)",$=$[Z]={},f.isLeafNode)$[U7]=C9(f,Z,J);Z=""}if(f.staticChildren)for(let z of Object.values(f.staticChildren))e1(z,$,Z+z.prefix,J);if(f.parametricChildren)for(let z of Object.values(f.parametricChildren)){let Q=Array.from(z.nodePaths).join("|");e1(z,$,Z+Q,J)}if(f.wildcardChild)e1(f.wildcardChild,$,"*",J)}function T9(f,$){let Z={};return e1(f,Z,f.prefix,$),H7(Z)}G7.exports={prettyPrintTree:T9}});var L7=Z0((d6,O7)=>{var D7=function(){};D7.prototype=Object.create(null);O7.exports={NullObject:D7}});var q7=Z0((i6,A7)=>{var{NullObject:N9}=L7(),I9=t1();class M7{constructor(){this.unconstrainedHandler=null,this.constraints=[],this.handlers=[],this.constrainedHandlerStores=null}getMatchingHandler(f){if(f===void 0)return this.unconstrainedHandler;return this._getHandlerMatchingConstraints(f)}addHandler(f,$){let Z=$.params,J=$.opts.constraints||{},z={params:Z,constraints:J,handler:$.handler,store:$.store||null,_createParamsObject:this._compileCreateParamsObject(Z)},Q=Object.keys(J);if(Q.length===0)this.unconstrainedHandler=z;for(let X of Q)if(!this.constraints.includes(X))if(X==="version")this.constraints.unshift(X);else this.constraints.push(X);let Y=Q.includes(I9.name);if(!Y&&this.handlers.length>=31)throw new Error("find-my-way supports a maximum of 31 route handlers per node when there are constraints, limit reached");if(this.handlers.push(z),this.handlers.sort((X,W)=>Object.keys(X.constraints).length-Object.keys(W.constraints).length),!Y)this._compileGetHandlerMatchingConstraints(f,J)}_compileCreateParamsObject(f){let $=[];$.push("const fn = function _createParamsObject (paramsArray) {"),$.push("const params = new NullObject()");for(let Z=0;Z<f.length;Z++)$.push(`params['${f[Z]}'] = paramsArray[${Z}]`);return $.push("return params"),$.push("}"),$.push("return fn"),new Function("NullObject",$.join(`
`))(N9)}_getHandlerMatchingConstraints(){return null}_buildConstraintStore(f,$){for(let Z=0;Z<this.handlers.length;Z++){let z=this.handlers[Z].constraints[$];if(z!==void 0){let Q=f.get(z)||0;Q|=1<<Z,f.set(z,Q)}}}_constrainedIndexBitmask(f){let $=0;for(let Z=0;Z<this.handlers.length;Z++)if(this.handlers[Z].constraints[f]!==void 0)$|=1<<Z;return~$}_compileGetHandlerMatchingConstraints(f){this.constrainedHandlerStores={};for(let Z of this.constraints){let J=f.newStoreForConstraint(Z);this.constrainedHandlerStores[Z]=J,this._buildConstraintStore(J,Z)}let $=[];$.push(`
    let candidates = ${(1<<this.handlers.length)-1}
    let mask, matches
    `);for(let Z of this.constraints){$.push(`
      mask = ${this._constrainedIndexBitmask(Z)}
      value = derivedConstraints.${Z}
      `);let z=f.strategies[Z].mustMatchWhenDerived?"matches":"(matches | mask)";$.push(`
      if (value === undefined) {
        candidates &= mask
      } else {
        matches = this.constrainedHandlerStores.${Z}.get(value) || 0
        candidates &= ${z}
      }
      if (candidates === 0) return null;
      `)}for(let Z in f.strategies)if(f.strategies[Z].mustMatchWhenDerived&&!this.constraints.includes(Z))$.push(`if (derivedConstraints.${Z} !== undefined) return null`);$.push("return this.handlers[Math.floor(Math.log2(candidates))]"),this._getHandlerMatchingConstraints=new Function("derivedConstraints",$.join(`
`))}}A7.exports=M7});var C7=Z0((l6,j7)=>{var R9=q7(),ff={STATIC:0,PARAMETRIC:1,WILDCARD:2};class lf{constructor(){this.isLeafNode=!1,this.routes=null,this.handlerStorage=null}addRoute(f,$){if(this.routes===null)this.routes=[];if(this.handlerStorage===null)this.handlerStorage=new R9;this.isLeafNode=!0,this.routes.push(f),this.handlerStorage.addHandler($,f)}}class nf extends lf{constructor(){super();this.staticChildren={}}findStaticMatchingChild(f,$){let Z=this.staticChildren[f.charAt($)];if(Z===void 0||!Z.matchPrefix(f,$))return null;return Z}getStaticChild(f,$=0){if(f.length===$)return this;let Z=this.findStaticMatchingChild(f,$);if(Z)return Z.getStaticChild(f,$+Z.prefix.length);return null}createStaticChild(f){if(f.length===0)return this;let $=this.staticChildren[f.charAt(0)];if($){let J=1;for(;J<$.prefix.length;J++)if(f.charCodeAt(J)!==$.prefix.charCodeAt(J)){$=$.split(this,J);break}return $.createStaticChild(f.slice(J))}let Z=f.charAt(0);return this.staticChildren[Z]=new $f(f),this.staticChildren[Z]}}class $f extends nf{constructor(f){super();this.prefix=f,this.wildcardChild=null,this.parametricChildren=[],this.kind=ff.STATIC,this._compilePrefixMatch()}getParametricChild(f){let $=f&&f.source,Z=this.parametricChildren.find((J)=>{return(J.regex&&J.regex.source)===$});if(Z)return Z;return null}createParametricChild(f,$,Z){let J=this.getParametricChild(f);if(J)return J.nodePaths.add(Z),J;return J=new pf(f,$,Z),this.parametricChildren.push(J),this.parametricChildren.sort((z,Q)=>{if(!z.isRegex)return 1;if(!Q.isRegex)return-1;if(z.staticSuffix===null)return 1;if(Q.staticSuffix===null)return-1;if(Q.staticSuffix.endsWith(z.staticSuffix))return 1;if(z.staticSuffix.endsWith(Q.staticSuffix))return-1;return 0}),J}getWildcardChild(){return this.wildcardChild}createWildcardChild(){return this.wildcardChild=this.getWildcardChild()||new of,this.wildcardChild}split(f,$){let Z=this.prefix.slice(0,$),J=this.prefix.slice($);this.prefix=J,this._compilePrefixMatch();let z=new $f(Z);return z.staticChildren[J.charAt(0)]=this,f.staticChildren[Z.charAt(0)]=z,z}getNextNode(f,$,Z,J){let z=this.findStaticMatchingChild(f,$),Q=0;if(z===null){if(this.parametricChildren.length===0)return this.wildcardChild;z=this.parametricChildren[0],Q=1}if(this.wildcardChild!==null)Z.push({paramsCount:J,brotherPathIndex:$,brotherNode:this.wildcardChild});for(let Y=this.parametricChildren.length-1;Y>=Q;Y--)Z.push({paramsCount:J,brotherPathIndex:$,brotherNode:this.parametricChildren[Y]});return z}_compilePrefixMatch(){if(this.prefix.length===1){this.matchPrefix=()=>!0;return}let f=[];for(let $=1;$<this.prefix.length;$++){let Z=this.prefix.charCodeAt($);f.push(`path.charCodeAt(i + ${$}) === ${Z}`)}this.matchPrefix=new Function("path","i",`return ${f.join(" && ")}`)}}class pf extends nf{constructor(f,$,Z){super();this.isRegex=!!f,this.regex=f||null,this.staticSuffix=$||null,this.kind=ff.PARAMETRIC,this.nodePaths=new Set([Z])}getNextNode(f,$){return this.findStaticMatchingChild(f,$)}}class of extends lf{constructor(){super();this.kind=ff.WILDCARD}getNextNode(){return null}}j7.exports={StaticNode:$f,ParametricNode:pf,WildcardNode:of,NODE_TYPES:ff}});var N7=Z0((n6,T7)=>{var S9=(O1(),r0(D1));function M1(){if(!(this instanceof M1))return new M1;this.store=new Map,this.maxMajor=0,this.maxMinors={},this.maxPatches={}}M1.prototype.set=function(f,$){if(typeof f!=="string")throw new TypeError("Version should be a string");let[Z,J,z]=f.split(".",3);if(isNaN(Z))throw new TypeError("Major version must be a numeric value");if(Z=Number(Z),J=Number(J)||0,z=Number(z)||0,Z>=this.maxMajor)this.maxMajor=Z,this.store.set("x",$),this.store.set("*",$),this.store.set("x.x",$),this.store.set("x.x.x",$);if(J>=(this.maxMinors[Z]||0))this.maxMinors[Z]=J,this.store.set(`${Z}.x`,$),this.store.set(`${Z}.x.x`,$);if(z>=(this.maxPatches[`${Z}.${J}`]||0))this.maxPatches[`${Z}.${J}`]=z,this.store.set(`${Z}.${J}.x`,$);return this.store.set(`${Z}.${J}.${z}`,$),this};M1.prototype.get=function(f){return this.store.get(f)};T7.exports={name:"version",mustMatchWhenDerived:!0,storage:M1,validate(f){S9(typeof f==="string","Version should be a string")}}});var R7=Z0((p6,I7)=>{var E9=(O1(),r0(D1));function P9(){let f=new Map,$=[];return{get:(Z)=>{let J=f.get(Z);if(J)return J;for(let z of $)if(z.host.test(Z))return z.value},set:(Z,J)=>{if(Z instanceof RegExp)$.push({host:Z,value:J});else f.set(Z,J)}}}I7.exports={name:"host",mustMatchWhenDerived:!1,storage:P9,validate(f){E9(typeof f==="string"||Object.prototype.toString.call(f)==="[object RegExp]","Host should be a string or a RegExp")}}});var P7=Z0((o6,E7)=>{var b9=N7(),_9=R7(),rf=(O1(),r0(D1));class S7{constructor(f){if(this.strategies={version:b9,host:_9},this.strategiesInUse=new Set,this.asyncStrategiesInUse=new Set,f)for(let $ of Object.values(f))this.addConstraintStrategy($)}isStrategyUsed(f){return this.strategiesInUse.has(f)||this.asyncStrategiesInUse.has(f)}hasConstraintStrategy(f){let $=this.strategies[f];if($!==void 0)return $.isCustom||this.isStrategyUsed(f);return!1}addConstraintStrategy(f){if(rf(typeof f.name==="string"&&f.name!=="","strategy.name is required."),rf(f.storage&&typeof f.storage==="function","strategy.storage function is required."),rf(f.deriveConstraint&&typeof f.deriveConstraint==="function","strategy.deriveConstraint function is required."),this.strategies[f.name]&&this.strategies[f.name].isCustom)throw new Error(`There already exists a custom constraint with the name ${f.name}.`);if(this.isStrategyUsed(f.name))throw new Error(`There already exists a route with ${f.name} constraint.`);if(f.isCustom=!0,f.isAsync=f.deriveConstraint.length===3,this.strategies[f.name]=f,f.mustMatchWhenDerived)this.noteUsage({[f.name]:f})}deriveConstraints(f,$,Z){let J=this.deriveSyncConstraints(f,$);if(Z===void 0)return J;this.deriveAsyncConstraints(J,f,$,Z)}deriveSyncConstraints(f,$){return}noteUsage(f){if(f){let $=this.strategiesInUse.size;for(let Z in f)if(this.strategies[Z].isAsync)this.asyncStrategiesInUse.add(Z);else this.strategiesInUse.add(Z);if($!==this.strategiesInUse.size)this._buildDeriveConstraints()}}newStoreForConstraint(f){if(!this.strategies[f])throw new Error(`No strategy registered for constraint key ${f}`);return this.strategies[f].storage()}validateConstraints(f){for(let $ in f){let Z=f[$];if(typeof Z==="undefined")throw new Error("Can't pass an undefined constraint value, must pass null or no key at all");let J=this.strategies[$];if(!J)throw new Error(`No strategy registered for constraint key ${$}`);if(J.validate)J.validate(Z)}}deriveAsyncConstraints(f,$,Z,J){let z=this.asyncStrategiesInUse.size;if(z===0){J(null,f);return}f=f||{};for(let Q of this.asyncStrategiesInUse)this.strategies[Q].deriveConstraint($,Z,(X,W)=>{if(X!==null){J(X);return}if(f[Q]=W,--z===0)J(null,f)})}_buildDeriveConstraints(){if(this.strategiesInUse.size===0)return;let f=["return {"];for(let $ of this.strategiesInUse){let Z=this.strategies[$];if(!Z.isCustom)if($==="version")f.push("   version: req.headers['accept-version'],");else f.push("   host: req.headers.host || req.headers[':authority'],");else f.push(`  ${Z.name}: this.strategies.${$}.deriveConstraint(req, ctx),`)}f.push("}"),this.deriveSyncConstraints=new Function("req","ctx",f.join(`
`)).bind(this)}}E7.exports=S7});var _7=Z0((r6,b7)=>{var v9=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","QUERY","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];b7.exports=v9});var x7=Z0((s6,g7)=>{function v7(f,$){if(f===50){if($===53)return"%";if($===51)return"#";if($===52)return"$";if($===54)return"&";if($===66)return"+";if($===98)return"+";if($===67)return",";if($===99)return",";if($===70)return"/";if($===102)return"/";return null}if(f===51){if($===65)return":";if($===97)return":";if($===66)return";";if($===98)return";";if($===68)return"=";if($===100)return"=";if($===70)return"?";if($===102)return"?";return null}if(f===52&&$===48)return"@";return null}function g9(f,$){let Z=!1,J=!1,z="";for(let Y=1;Y<f.length;Y++){let X=f.charCodeAt(Y);if(X===37){let W=f.charCodeAt(Y+1),V=f.charCodeAt(Y+2);if(v7(W,V)===null)Z=!0;else{if(J=!0,W===50&&V===53)Z=!0,f=f.slice(0,Y+1)+"25"+f.slice(Y+1),Y+=2;Y+=2}}else if(X===63||X===35||X===59&&$){z=f.slice(Y+1),f=f.slice(0,Y);break}}return{path:Z?decodeURI(f):f,querystring:z,shouldDecodeParam:J}}function x9(f){let $=f.indexOf("%");if($===-1)return f;let Z="",J=$;for(let z=$;z<f.length;z++)if(f.charCodeAt(z)===37){let Q=f.charCodeAt(z+1),Y=f.charCodeAt(z+2),X=v7(Q,Y);Z+=f.slice(J,z)+X,J=z+3}return f.slice(0,$)+Z+f.slice(J)}g7.exports={safeDecodeURI:g9,safeDecodeURIComponent:x9}});var p7=Z0((a6,n7)=>{var K0=(O1(),r0(D1)),k9=_$(),z1=X7(),af=df(),{prettyPrintTree:y9}=K7(),{StaticNode:k7,NODE_TYPES:y7}=C7(),u9=P7(),J1=_7(),sf=t1(),{safeDecodeURI:c9,safeDecodeURIComponent:u7}=x7(),c7=/^https?:\/\/.*?\//,l0=/(\/:[^/()]*?)\?(\/?)/,h7=/[.*+?^${}()|[\]\\]/g,m7=/\/\/+/g;if(!z1(c7))throw new Error("the FULL_PATH_REGEXP is not safe, update this module");if(!z1(l0))throw new Error("the OPTIONAL_PARAM_REGEXP is not safe, update this module");if(!z1(h7))throw new Error("the ESCAPE_REGEXP is not safe, update this module");if(!z1(m7))throw new Error("the REMOVE_DUPLICATE_SLASHES_REGEXP is not safe, update this module");function H0(f){if(!(this instanceof H0))return new H0(f);if(f=f||{},this._opts=f,f.defaultRoute)K0(typeof f.defaultRoute==="function","The default route must be a function"),this.defaultRoute=f.defaultRoute;else this.defaultRoute=null;if(f.onBadUrl)K0(typeof f.onBadUrl==="function","The bad url handler must be a function"),this.onBadUrl=f.onBadUrl;else this.onBadUrl=null;if(f.buildPrettyMeta)K0(typeof f.buildPrettyMeta==="function","buildPrettyMeta must be a function"),this.buildPrettyMeta=f.buildPrettyMeta;else this.buildPrettyMeta=h9;if(f.querystringParser)K0(typeof f.querystringParser==="function","querystringParser must be a function"),this.querystringParser=f.querystringParser;else this.querystringParser=($)=>$.length===0?{}:k9.parse($);this.caseSensitive=f.caseSensitive===void 0?!0:f.caseSensitive,this.ignoreTrailingSlash=f.ignoreTrailingSlash||!1,this.ignoreDuplicateSlashes=f.ignoreDuplicateSlashes||!1,this.maxParamLength=f.maxParamLength||100,this.allowUnsafeRegex=f.allowUnsafeRegex||!1,this.constrainer=new u9(f.constraints),this.useSemicolonDelimiter=f.useSemicolonDelimiter||!1,this.routes=[],this.trees={}}H0.prototype.on=function f($,Z,J,z,Q){if(typeof J==="function"){if(z!==void 0)Q=z;z=J,J={}}K0(typeof Z==="string","Path should be a string"),K0(Z.length>0,"The path could not be empty"),K0(Z[0]==="/"||Z[0]==="*","The first character of a path should be `/` or `*`"),K0(typeof z==="function","Handler should be a function");let Y=Z.match(l0);if(Y){K0(Z.length===Y.index+Y[0].length,"Optional Parameter needs to be the last parameter of the path");let V=Z.replace(l0,"$1$2"),w=Z.replace(l0,"$2")||"/";this.on($,V,J,z,Q),this.on($,w,J,z,Q);return}let X=Z;if(this.ignoreDuplicateSlashes)Z=tf(Z);if(this.ignoreTrailingSlash)Z=ef(Z);let W=Array.isArray($)?$:[$];for(let V of W)K0(typeof V==="string","Method should be a string"),K0(J1.includes(V),`Method '${V}' is not an http method.`),this._on(V,Z,J,z,Q,X)};H0.prototype._on=function f($,Z,J,z,Q){let Y={};if(J.constraints!==void 0){if(K0(typeof J.constraints==="object"&&J.constraints!==null,"Constraints should be an object"),Object.keys(J.constraints).length!==0)Y=J.constraints}if(this.constrainer.validateConstraints(Y),this.constrainer.noteUsage(Y),this.trees[$]===void 0)this.trees[$]=new k7("/");let X=Z;if(X==="*"&&this.trees[$].prefix.length!==0){let O=this.trees[$];this.trees[$]=new k7(""),this.trees[$].staticChildren["/"]=O}let W=this.trees[$],V=W.prefix.length,w=[];for(let O=0;O<=X.length;O++){if(X.charCodeAt(O)===58&&X.charCodeAt(O+1)===58){O++;continue}let j=X.charCodeAt(O)===58&&X.charCodeAt(O+1)!==58,M=X.charCodeAt(O)===42;if(j||M||O===X.length&&O!==V){let E=X.slice(V,O);if(!this.caseSensitive)E=E.toLowerCase();E=E.replaceAll("::",":"),E=E.replaceAll("%","%25"),W=W.createStaticChild(E)}if(j){let E=!1,x=!0,_="",g=[],v=O+1;for(let b=v;;b++){let i=X.charCodeAt(b),a=i===40,N=i===45||i===46,C=i===47||b===X.length;if(a||N||C){let I=X.slice(v,b);if(w.push(I),E=E||a||N,a){let m=l7(X,b),$0=X.slice(b,m+1);if(!this.allowUnsafeRegex)K0(z1(new RegExp($0)),`The regex '${$0}' is not safe!`);g.push(i7($0)),b=m+1,x=!0}else g.push(x?"(.*?)":`(${_}|(?:(?!${_}).)*)`),x=!1;let h=b;for(;b<X.length;b++){let m=X.charCodeAt(b);if(m===47)break;if(m===58)if(X.charCodeAt(b+1)===58)b++;else break}let r=X.slice(h,b);if(r)r=r.replaceAll("::",":"),r=r.replaceAll("%","%25"),g.push(_=d7(r));if(v=b+1,C||X.charCodeAt(b)===47||b===X.length){let m=E?"()"+r:r,$0=X.slice(O,b);X=X.slice(0,O+1)+m+X.slice(b),O+=m.length;let l=E?new RegExp("^"+g.join("")+"$"):null;W=W.createParametricChild(l,r||null,$0),V=O+1;break}}}}else if(M){if(w.push("*"),W=W.createWildcardChild(),V=O+1,O!==X.length-1)throw new Error("Wildcard must be the last character in the route")}}if(!this.caseSensitive)X=X.toLowerCase();if(X==="*")X="/*";for(let O of this.routes){let j=O.opts.constraints||{};if(O.method===$&&O.pattern===X&&af(j,Y))throw new Error(`Method '${$}' already declared for route '${X}' with constraints '${JSON.stringify(Y)}'`)}let F={method:$,path:Z,pattern:X,params:w,opts:J,handler:z,store:Q};this.routes.push(F),W.addRoute(F,this.constrainer)};H0.prototype.hasRoute=function f($,Z,J){return this.findRoute($,Z,J)!==null};H0.prototype.findRoute=function f($,Z,J={}){if(this.trees[$]===void 0)return null;let z=Z,Q=this.trees[$],Y=Q.prefix.length,X=[];for(let W=0;W<=z.length;W++){if(z.charCodeAt(W)===58&&z.charCodeAt(W+1)===58){W++;continue}let V=z.charCodeAt(W)===58&&z.charCodeAt(W+1)!==58,w=z.charCodeAt(W)===42;if(V||w||W===z.length&&W!==Y){let F=z.slice(Y,W);if(!this.caseSensitive)F=F.toLowerCase();if(F=F.replaceAll("::",":"),F=F.replaceAll("%","%25"),Q=Q.getStaticChild(F),Q===null)return null}if(V){let F=!1,O=!0,j="",M=[],E=W+1;for(let x=E;;x++){let _=z.charCodeAt(x),g=_===40,v=_===45||_===46,b=_===47||x===z.length;if(g||v||b){let i=z.slice(E,x);if(X.push(i),F=F||g||v,g){let C=l7(z,x),I=z.slice(x,C+1);if(!this.allowUnsafeRegex)K0(z1(new RegExp(I)),`The regex '${I}' is not safe!`);M.push(i7(I)),x=C+1,O=!1}else M.push(O?"(.*?)":`(${j}|(?:(?!${j}).)*)`),O=!1;let a=x;for(;x<z.length;x++){let C=z.charCodeAt(x);if(C===47)break;if(C===58)if(z.charCodeAt(x+1)===58)x++;else break}let N=z.slice(a,x);if(N)N=N.replaceAll("::",":"),N=N.replaceAll("%","%25"),M.push(j=d7(N));if(E=x+1,b||z.charCodeAt(x)===47||x===z.length){let C=F?"()"+N:N,I=z.slice(W,x);z=z.slice(0,W+1)+C+z.slice(x),W+=C.length;let h=F?new RegExp("^"+M.join("")+"$"):null;if(Q=Q.getParametricChild(h,N||null,I),Q===null)return null;Y=W+1;break}}}}else if(w){if(X.push("*"),Q=Q.getWildcardChild(),Y=W+1,W!==z.length-1)throw new Error("Wildcard must be the last character in the route")}}if(!this.caseSensitive)z=z.toLowerCase();for(let W of this.routes){let V=W.opts.constraints||{};if(W.method===$&&W.pattern===z&&af(V,J))return{handler:W.handler,store:W.store,params:W.params}}return null};H0.prototype.hasConstraintStrategy=function(f){return this.constrainer.hasConstraintStrategy(f)};H0.prototype.addConstraintStrategy=function(f){this.constrainer.addConstraintStrategy(f),this._rebuild(this.routes)};H0.prototype.reset=function f(){this.trees={},this.routes=[]};H0.prototype.off=function f($,Z,J){K0(typeof Z==="string","Path should be a string"),K0(Z.length>0,"The path could not be empty"),K0(Z[0]==="/"||Z[0]==="*","The first character of a path should be `/` or `*`"),K0(typeof J==="undefined"||typeof J==="object"&&!Array.isArray(J)&&J!==null,"Constraints should be an object or undefined.");let z=Z.match(l0);if(z){K0(Z.length===z.index+z[0].length,"Optional Parameter needs to be the last parameter of the path");let Y=Z.replace(l0,"$1$2"),X=Z.replace(l0,"$2");this.off($,Y,J),this.off($,X,J);return}if(this.ignoreDuplicateSlashes)Z=tf(Z);if(this.ignoreTrailingSlash)Z=ef(Z);let Q=Array.isArray($)?$:[$];for(let Y of Q)this._off(Y,Z,J)};H0.prototype._off=function f($,Z,J){K0(typeof $==="string","Method should be a string"),K0(J1.includes($),`Method '${$}' is not an http method.`);function z(W){return $!==W.method||Z!==W.path}function Q(W){return z(W)||!af(J,W.opts.constraints||{})}let Y=J?Q:z,X=this.routes.filter(Y);this._rebuild(X)};H0.prototype.lookup=function f($,Z,J,z){if(typeof J==="function")z=J,J=void 0;if(z===void 0){let Q=this.constrainer.deriveConstraints($,J),Y=this.find($.method,$.url,Q);return this.callHandler(Y,$,Z,J)}this.constrainer.deriveConstraints($,J,(Q,Y)=>{if(Q!==null){z(Q);return}try{let X=this.find($.method,$.url,Y),W=this.callHandler(X,$,Z,J);z(null,W)}catch(X){z(X)}})};H0.prototype.callHandler=function f($,Z,J,z){if($===null)return this._defaultRoute(Z,J,z);return z===void 0?$.handler(Z,J,$.params,$.store,$.searchParams):$.handler.call(z,Z,J,$.params,$.store,$.searchParams)};H0.prototype.find=function f($,Z,J){let z=this.trees[$];if(z===void 0)return null;if(Z.charCodeAt(0)!==47)Z=Z.replace(c7,"/");if(this.ignoreDuplicateSlashes)Z=tf(Z);let Q,Y,X;try{Q=c9(Z,this.useSemicolonDelimiter),Z=Q.path,Y=Q.querystring,X=Q.shouldDecodeParam}catch(M){return this._onBadUrl(Z)}if(this.ignoreTrailingSlash)Z=ef(Z);let W=Z;if(this.caseSensitive===!1)Z=Z.toLowerCase();let V=this.maxParamLength,w=z.prefix.length,F=[],O=Z.length,j=[];while(!0){if(w===O&&z.isLeafNode){let _=z.handlerStorage.getMatchingHandler(J);if(_!==null)return{handler:_.handler,store:_.store,params:_._createParamsObject(F),searchParams:this.querystringParser(Y)}}let M=z.getNextNode(Z,w,j,F.length);if(M===null){if(j.length===0)return null;let _=j.pop();w=_.brotherPathIndex,F.splice(_.paramsCount),M=_.brotherNode}if(z=M,z.kind===y7.STATIC){w+=z.prefix.length;continue}if(z.kind===y7.WILDCARD){let _=W.slice(w);if(X)_=u7(_);F.push(_),w=O;continue}let E=W.indexOf("/",w);if(E===-1)E=O;let x=W.slice(w,E);if(X)x=u7(x);if(z.isRegex){let _=z.regex.exec(x);if(_===null)continue;for(let g=1;g<_.length;g++){let v=_[g];if(v.length>V)return null;F.push(v)}}else{if(x.length>V)return null;F.push(x)}w=E}};H0.prototype._rebuild=function(f){this.reset();for(let $ of f){let{method:Z,path:J,opts:z,handler:Q,store:Y}=$;this._on(Z,J,z,Q,Y)}};H0.prototype._defaultRoute=function(f,$,Z){if(this.defaultRoute!==null)return Z===void 0?this.defaultRoute(f,$):this.defaultRoute.call(Z,f,$);else $.statusCode=404,$.end()};H0.prototype._onBadUrl=function(f){if(this.onBadUrl===null)return null;let $=this.onBadUrl;return{handler:(Z,J,z)=>$(f,Z,J),params:{},store:null}};H0.prototype.prettyPrint=function(f={}){let $=f.method;f.buildPrettyMeta=this.buildPrettyMeta.bind(this);let Z=null;if($===void 0){let{version:J,host:z,...Q}=this.constrainer.strategies;Q[sf.name]=sf;let Y=new H0({...this._opts,constraints:Q}),X=this.routes.map((W)=>{let V={...W.opts.constraints,[sf.name]:W.method};return{...W,method:"MERGED",opts:{constraints:V}}});Y._rebuild(X),Z=Y.trees.MERGED}else Z=this.trees[$];if(Z==null)return"(empty tree)";return y9(Z,f)};for(let f in J1){if(!J1.hasOwnProperty(f))continue;let $=J1[f],Z=$.toLowerCase();H0.prototype[Z]=function(J,z,Q){return this.on($,J,z,Q)}}H0.prototype.all=function(f,$,Z){this.on(J1,f,$,Z)};n7.exports=H0;function d7(f){return f.replace(h7,"\\$&")}function tf(f){return f.indexOf("//")!==-1?f.replace(m7,"/"):f}function ef(f){if(f.length>1&&f.charCodeAt(f.length-1)===47)return f.slice(0,-1);return f}function i7(f){if(f.charCodeAt(1)===94)f=f.slice(0,1)+f.slice(2);if(f.charCodeAt(f.length-2)===36)f=f.slice(0,f.length-2)+f.slice(f.length-1);return f}function l7(f,$){let Z=1;while($<f.length){if($++,f.charCodeAt($)===92){$++;continue}if(f.charCodeAt($)===41)Z--;else if(f.charCodeAt($)===40)Z++;if(!Z)return $}throw new TypeError('Invalid regexp expression in "'+f+'"')}function h9(f){if(!f)return{};if(!f.store)return{};return Object.assign({},f.store)}});function j1(f){switch(f.split(".").pop()?.toLowerCase()){case"js":return"application/javascript";case"css":return"text/css";case"html":return"text/html";case"json":return"application/json";case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";case"svg":return"image/svg+xml";case"gif":return"image/gif";case"woff":return"font/woff";case"woff2":return"font/woff2";default:return"application/octet-stream"}}var Gf=null;async function iZ(){if(!Gf){let f=await Promise.resolve().then(() => U4(d4(),1));Gf=f.default||f}return Gf}var lZ={string:"text/plain; charset=utf-8",object:"application/json; charset=utf-8",Uint8Array:"application/octet-stream",ArrayBuffer:"application/octet-stream"};class H1{req;server;path;routePattern;paramNames;env;executionContext;headers=new Headers;parsedQuery=null;parsedParams=null;parsedCookies=null;parsedBody=null;contextData={};urlObject=null;constructor(f,$,Z,J,z,Q,Y){this.req=f,this.server=$,this.path=Z,this.routePattern=J,this.executionContext=Y,this.env=Q,this.paramNames=z}setHeader(f,$){return this.headers.set(f,$),this}removeHeader(f){return this.headers.delete(f),this}set(f,$){return this.contextData[f]=$,this}get(f){return this.contextData[f]}get ip(){if(this.server)return this.server.requestIP(this.req)?.address??null;return this.req.headers.get("CF-Connecting-IP")||null}get url(){if(!this.urlObject)this.urlObject=new URL(this.req.url);return this.urlObject}get query(){if(!this.parsedQuery)this.parsedQuery=this.url.search?Object.fromEntries(this.url.searchParams):{};return this.parsedQuery}get params(){if(!this.parsedParams)try{this.parsedParams=pZ(this.paramNames,this.path)}catch(f){let $=f instanceof Error?f.message:String(f);throw new Error(`Failed to extract route parameters: ${$}`)}return this.parsedParams??{}}get body(){if(this.req.method==="GET")return Promise.resolve({});if(!this.parsedBody)this.parsedBody=(async()=>{try{let f=await oZ(this.req);if(f.error)throw new Error(f.error);return Object.keys(f).length===0?null:f}catch(f){throw new Error("Invalid request body format")}})();return this.parsedBody}text(f,$=200){return new Response(f,{status:$,headers:this.headers})}send(f,$=200){let Z;if(f instanceof Uint8Array)Z="Uint8Array";else if(f instanceof ArrayBuffer)Z="ArrayBuffer";else Z=typeof f;if(!this.headers.has("Content-Type"))this.headers.set("Content-Type",lZ[Z]??"text/plain; charset=utf-8");let J=Z==="object"&&f!==null?JSON.stringify(f):f;return new Response(J,{status:$,headers:this.headers})}json(f,$=200){return Response.json(f,{status:$,headers:this.headers})}file(f,$,Z=200){let J=Bun.file(f);if(!this.headers.has("Content-Type"))this.headers.set("Content-Type",$??j1(f));return new Response(J,{status:Z,headers:this.headers})}async ejs(f,$={},Z=200){let J=await iZ();try{let z=await Bun.file(f).text(),Q=J.render(z,$),Y=new Headers({"Content-Type":"text/html; charset=utf-8"});return new Response(Q,{status:Z,headers:Y})}catch(z){return console.error("EJS Rendering Error:",z),new Response("Error rendering template",{status:500})}}redirect(f,$=302){return this.headers.set("Location",f),new Response(null,{status:$,headers:this.headers})}setCookie(f,$,Z={}){let J=`${encodeURIComponent(f)}=${encodeURIComponent($)}`;if(Z.maxAge)J+=`; Max-Age=${Z.maxAge}`;if(Z.expires)J+=`; Expires=${Z.expires.toUTCString()}`;if(Z.path)J+=`; Path=${Z.path}`;if(Z.domain)J+=`; Domain=${Z.domain}`;if(Z.secure)J+="; Secure";if(Z.httpOnly)J+="; HttpOnly";if(Z.sameSite)J+=`; SameSite=${Z.sameSite}`;return this.headers.append("Set-Cookie",J),this}get cookies(){if(!this.parsedCookies){let f=this.req.headers.get("cookie");this.parsedCookies=f?nZ(f):{}}return this.parsedCookies}stream(f){let $=new Headers(this.headers),Z=new ReadableStream({async start(J){await f(J),J.close()}});return new Response(Z,{headers:$})}yieldStream(f){return new Response}}function nZ(f){return Object.fromEntries(f.split(";").map(($)=>{let[Z,...J]=$.trim().split("=");return[Z,decodeURIComponent(J.join("="))]}))}function pZ(f,$){let Z={},[J]=$.split("?"),z=J.split("/").filter((Y)=>Y!==""),Q=z.length-f.length;for(let Y=0;Y<f.length;Y++)Z[f[Y]]=z[Q+Y];return Z}function G6(f,$){let Z={},J=f.split("/"),[z]=$.split("?"),Q=z.split("/");if(J.length!==Q.length)return null;for(let Y=0;Y<J.length;Y++){let X=J[Y];if(X.charCodeAt(0)===58)Z[X.slice(1)]=Q[Y]}return Z}async function oZ(f){let $=f.headers.get("Content-Type")||"";if(!$)return{};if(f.headers.get("Content-Length")==="0"||!f.body)return{};if($.startsWith("application/json"))return await f.json();if($.startsWith("application/x-www-form-urlencoded")){let J=await f.text();return Object.fromEntries(new URLSearchParams(J))}if($.startsWith("multipart/form-data")){let J=await f.formData(),z={};for(let[Q,Y]of J.entries())z[Q]=Y;return z}return{error:"Unknown request body type"}}async function c0(f,$,Z){if(!$?.length)return;for(let J=0;J<$.length;J++){let z=$[J](...Z),Q=z instanceof Promise?await z:z;if(Q&&f!=="onRequest")return Q}}async function O6(f,$,Z){let J=f.globalMiddlewares;if(J.length)for(let Q of J){let Y=await Q(Z);if(Y)return Y}let z=f.middlewares.get($);if(z&&z.length)for(let Q of z){let Y=await Q(Z);if(Y)return Y}return null}async function i4(f,$,Z){for(let J of f){let z=await J($,Z);if(z)return z}}async function I1(f,$,Z){let J=await rZ(f,$,Z),z=J instanceof Promise?await J:J;if(z)return z}async function rZ(f,$,Z){if($.endsWith("/"))$=$.slice(0,-1);if(!f.filters.has($))if(f.filterFunction.length)for(let J of f.filterFunction){let z=await J(Z);if(z)return z}else return Response.json({error:"Protected route, authentication required"},{status:401})}async function R1(f,$,Z){if(f.staticPath){let z=!0;if(f.staticRequestPath)z=Z.startsWith(f.staticRequestPath);if(z){let Q=await sZ(f,Z,$);if(Q)return Q;let Y=f.router.find($.req.method,"*");if(Y?.handler)return await Y.handler($)}}let J=f.routeNotFoundFunc($);return J instanceof Promise?await J:J||a0(404,`404 Route not found for ${Z}`)}function a0(f,$){return new Response(JSON.stringify({error:$}),{status:f,headers:{"Content-Type":"application/json"}})}async function sZ(f,$,Z){if(!f.staticPath)return null;let J=`${f.staticPath}${$}`;if(await Bun.file(J).exists()){let Q=j1(J);return Z.file(J,Q,200)}return null}var S1=(f)=>f.constructor.name==="AsyncFunction",Kf=(f,$,Z,...J)=>{if($.length>5)f.push(`
      for (let i = 0; i < diesel.hooks.${Z}.length; i++) {
        const result = diesel.hooks.${Z}[i](${J});
        const finalResult = result instanceof Promise ? await result : result;
        if (finalResult && '${Z}' !== 'onRequest') return finalResult
    }
  `);else $?.forEach((z,Q)=>{if(S1(z))f.push(`
            const ${Z}${Q}Result = await diesel.hooks.${Z}[${Q}](${J})
            if (${Z}${Q}Result && '${Z}' !== 'onRequest') return ${Z}${Q}Result
            `);else f.push(`
            const ${Z}${Q}Result = diesel.hooks.${Z}[${Q}](${J})
             if (${Z}${Q}Result && '${Z}' !== 'onRequest') return ${Z}${Q}Result
            `)})},aZ=(f)=>{f.push(`
    let pathname;
    const start = req.url.indexOf('/', req.url.indexOf(':') + 4);
    let i = start;
    for (; i < req.url.length; i++) {
        const charCode = req.url.charCodeAt(i);
        if (charCode === 37) { // percent-encoded
            const queryIndex = req.url.indexOf('?', i);
            const path = req.url.slice(start, queryIndex === -1 ? undefined : queryIndex);
            pathname = tryDecodeURI(path.includes('%25') ? path.replace(/%25/g, '%2525') : path);
            break;
        } else if (charCode === 63) { // ?
            break;
        }
    }
    if (!pathname) {
      pathname = req.url.slice(start, i);
    }
  `)},tZ=(f,$)=>{if($.length<=5)for(let Z=0;Z<$.length;Z++)if(S1($[Z]))f.push(`
          const resultMiddleware${Z} = await globalMiddlewares[${Z}](ctx);
          if (resultMiddleware${Z}) return resultMiddleware${Z};
      `);else f.push(`
        const resultMiddleware${Z} = globalMiddlewares[${Z}](ctx);
        if (resultMiddleware${Z}) return resultMiddleware${Z};
    `);else f.push(`
    for (let i = 0; i < globalMiddlewares.length; i++) {
      const result = await globalMiddlewares[i](ctx);
      if (result) return result;
    }
  `)},l4=(f,$)=>{let Z=[],J=$.globalMiddlewares||[],z=f?.hasOnReqHook?$.hooks.onRequest:[],Q=f?.hasPreHandlerHook?$.hooks.preHandler:[],Y=f?.hasOnSendHook?$.hooks.onSend:[];if(aZ(Z),Z.push(`
      const routeHandler = diesel.trie.search(pathname, req.method);
    `),z&&z.length>0)Kf(Z,z,"onRequest","req","pathname","server");if(Z.push(`
          const ctx = new Context(req, server, pathname, routeHandler?.path)
    `),f?.hasMiddleware){if(J.length>0)tZ(Z,J);if($.middlewares.size>0)Z.push(`
      const local = diesel.middlewares.get(pathname)
      if (local && local.length) {
        for (const middleware of local) {
          const result = await middleware(ctx);
          if (result) return result;
        }
      }
        `)}if(f.hasFilterEnabled)Z.push(`
        const filterResponse = await runFilter(diesel, pathname, ctx);
        if (filterResponse) return filterResponse;
      `);if(Z.push(`
      if (!routeHandler) return await handleRouteNotFound(diesel, ctx, pathname);
    `),f.hasPreHandlerHook)Kf(Z,Q,"preHandler","ctx");if(Z.push(`
      const result = routeHandler.handler(ctx);
      const finalResult = result instanceof Promise ? await result : result;
    `),f.hasOnSendHook)Kf(Z,Y,"onSend","ctx","finalResult");Z.push(`
      if (finalResult instanceof Response) return finalResult;
      return generateErrorResponse(500, "No response returned from handler.");
    `);let X=`
      return async function pipeline(req, server, diesel) {
          ${Z.join(`
`)}
      }
    `;return new Function("runFilter","handleRouteNotFound","generateErrorResponse","globalMiddlewares","Context",X)(I1,R1,a0,J,H1)},n4=(f,$,Z,J,...z)=>{let Q=[],Y;if(typeof z[0]==="string"||typeof z[0]==="object")Y=z[0];let X=z,W=f?.hasMiddleware?$.globalMiddlewares:[],V=f?.hasMiddleware?$.middlewares.get(J)||[]:[],w=[...W,...V],F=f?.hasOnReqHook?$.hooks.onRequest:[],O=$.filters.has(J),j=$.filterFunction;if(F&&F?.length>0)Q.push(`
      const onRequestResult = await runHooks(
        "onRequest",
        onRequestHooks,
        [req, "${J}", server]
      );
      if (onRequestResult) return onRequestResult;
    `);if(w.length)Q.push(`
      const globalMiddlewareResponse = await executeBunMiddlewares(
        allMiddlewares,
        req,
        server
      );
      if (globalMiddlewareResponse) return globalMiddlewareResponse;
    `);if(f.hasFilterEnabled){if(!O)Q.push(`if (${j.length}) {
        for (const filterFunction of filterFunctions) {
          const filterResult = await filterFunction(req, server);
          if (filterResult) return filterResult;
        }
      } else {
        return Response.json({ error: "Protected route, authentication required" }, { status: 401 });
      }`)}if(Q.push(`
            if ("${Z}" !== req.method)
        return new Response("Method Not Allowed", { status: 405 });
      `),typeof Y!=="undefined")if(typeof Y==="string")Q.push(`
        return new Response(${JSON.stringify(Y)});
      `);else{let x=JSON.stringify(Y);Q.push(`
        return new Response(${JSON.stringify(x)}, {
          headers: { "content-type": "application/json; charset=utf-8" }
        });
      `)}else if(X.length===1){let x=X[0];if(S1(x))Q.push(`
        const response = await handlers[0](req, server);
        if (response instanceof Response) return response;
      `);else Q.push(`
        const response = handlers[0](req, server);
        if (response instanceof Response) return response;
      `)}else X.forEach((x,_)=>{if(S1(x))Q.push(`
            const response${_} = await handlers[${_}](req, server);
            if (response${_} instanceof Response) return response${_};
        `);else Q.push(`
            const response${_} = handlers[${_}](req, server);
            if (response${_} instanceof Response) return response${_};
        `)});let M=`
    return async function(req, server) {
      ${Q.join(`
`)}
    }
  `;return new Function("executeBunMiddlewares","handlers","runHooks","filterFunctions","onRequestHooks","allMiddlewares",M)(i4,X,c0,j,F,w)};class E1{children;isEndOfWord;handler;isDynamic;pattern;path;methodMap;segmentCount;params;constructor(){this.children={},this.isEndOfWord=!1,this.handler=null,this.isDynamic=!1,this.pattern="",this.path="",this.methodMap=new Map,this.segmentCount=0,this.params=[]}}class Df{root;cachedSegments;constructor(){this.root=new E1,this.cachedSegments=new Map}pushMidl(f,...$){let Z=this.root,J=f.split("/").filter(Boolean);if(f==="/"){Z.handler=$[0];return}for(let z of J){let Q=z;if(z.startsWith(":"))Q=":";if(!Z.children[Q])Z.children[Q]=new E1;Z=Z.children[Q]}Z.handler=$[0]}insert(f,$){let Z=this.root,J=f.split("/").filter(Boolean);if(this.cachedSegments.set(f,J),f==="/"){Z.isEndOfWord=!0,Z.handler=$.handler,Z.path=f,Z.methodMap.set($.method,$.handler),Z.segmentCount=0,Z.params=[];return}for(let z of J){let Q=z,Y=!1;if(z.startsWith(":"))Y=!0,Q=":";if(z==="*")Q="*";if(!Z.children[Q])Z.children[Q]=new E1;Z=Z.children[Q],Z.isDynamic=Y,Z.pattern=z}Z.params=J.filter((z)=>z.startsWith(":")).map((z)=>z.slice(1)),Z.isEndOfWord=!0,Z.path=f,Z.segmentCount=J.length,Z.methodMap.set($.method,$.handler),Z.handler=$.handler}search(f,$){let Z=this.root,J=this.cachedSegments.get(f)||f.split("/").filter(Boolean);for(let Q of J){let Y=Q;if(Z.children[Y])Z=Z.children[Y];else if(Z.children[":"])Z=Z.children[":"];else if(Z.children["*"]){Z=Z.children["*"];break}else return null}if(!Z.isEndOfWord||Z.segmentCount!==J.length)return null;let z=Z.methodMap.get($);if(!z)return null;return{handler:z,params:Z.params}}}class P1{trie=new Df;cache=new Map;add(f,$,Z){this.trie.insert($,{method:f,handler:Z})}addMiddleware(f,...$){}find(f,$){return this.trie.search($,f)}}var o7=U4(p7(),1);class Q1{router=o7.default({});add(f,$,Z){this.router.on(f,$,Z)}addMiddleware(f,...$){throw new Error("Middl is disbaled for fastify router , use native t2 for now")}find(f,$){let Z=this.router.find(f,$);if(Z)return{handler:Z.handler,params:Z.params};return null}}class Zf{children;isEndOfWord;handlers;paramName;middlewares;constructor(){this.children=new Map,this.handlers=new Map,this.isEndOfWord=!1,this.paramName=[],this.middlewares=[]}}class f4{root;globalMiddlewares;constructor(){this.root=new Zf,this.globalMiddlewares=[]}pushMiddleware(f,...$){if(f==="/"){this.globalMiddlewares.push(...$);return}let Z=this.root,J=f.split("/").filter(Boolean);for(let z of J){let Q=z;if(z.startsWith(":"))Q=":";else if(z.startsWith("*"))Z.middlewares.push(...$);if(!Z.children.has(Q))Z.children.set(Q,new Zf);Z=Z.children.get(Q)}Z.middlewares.push(...$)}insert(f,$,Z){let J=this.root,z=$.split("/").filter(Boolean);if($==="/"){J.isEndOfWord=!0,J.handlers.set(f,Z),J.paramName=[];return}for(let Q of z){let Y=Q;if(Q.startsWith(":"))Y=":";if(!J.children.has(Y))J.children.set(Y,new Zf);J=J.children.get(Y)}J.paramName=z.filter((Q)=>Q.startsWith(":")).map((Q)=>Q.slice(1)),J.handlers.set(f,Z),J.isEndOfWord=!0}search(f,$){let Z=this.root,J=$.split("/").filter(Boolean),z=[...this.globalMiddlewares];for(let X of J){if(Z.children.has(X))Z=Z.children.get(X);else if(Z.children.has(":"))Z=Z.children.get(":");else if(Z.children.has("*")){Z=Z.children.get("*");break}else return{handler:z};if(Z.middlewares.length>0)z.push(...Z.middlewares)}let Q=[...z],Y=Z.handlers.get(f);if(Y)Q.push(Y);return{params:Z.paramName,handler:Q}}}class $4{trie;cache=new Map;constructor(){this.trie=new f4}add(f,$,Z){this.trie.insert(f,$,Z)}addMiddleware(f,...$){this.trie.pushMiddleware(f,...$)}find(f,$){return this.trie.search(f,$)}}var Jf=new f4;Jf.insert("GET","/users",()=>"get user by handlr");Jf.insert("GET","/users/:id",()=>"get user by id handler");Jf.insert("GET","/users/:id/profile",()=>"get user / id / profile");Jf.insert("GET","/users/hello",()=>"Hello /user/hello");class Z4{static create(f){switch(f){case"t2":return new $4;case"trie":return new P1;case"fastify":return new Q1;case"fs":return new Q1;case"find-my-way":return new Q1;case"findmyway":return new Q1;default:return new P1}}}wf();var{default:W4}=(()=>({}));var D0={reset:"\x1B[0m",info:"\x1B[36m",warn:"\x1B[33m",error:"\x1B[31m",method:{GET:"\x1B[32m",POST:"\x1B[34m",PUT:"\x1B[35m",DELETE:"\x1B[31m",PATCH:"\x1B[36m"}},J4=(f,$,Z)=>{let J=D0[f]||D0.reset,z=Z?.method?D0.method[Z.method]||D0.reset:D0.reset,Q=Z?.status?Z.status>=500?D0.error:Z.status>=400?D0.warn:D0.info:D0.reset;console.log(`
${J}[${f.toUpperCase()}]${D0.reset} ${$} - ${z}${Z?.method||""}${D0.reset}`);let Y={timestamp:new Date().toISOString(),...Z,status:Z?.status?`${Q}${Z.status}${D0.reset}`:void 0,method:Z?.method?`${z>J}${Z.method}${D0.reset}`:void 0};console.log(JSON.stringify(Y,null,2)+`
`)},r7=(f)=>{let{app:$,logger:Z,logLevel:J="info",onRequest:z,onSend:Q,onError:Y}=f||{};$?.addHooks("onRequest",(X)=>{X.req.startTime=Date.now(),Z?.()??J4(J,"Incoming Request",{method:X.req.method,url:X.path,headers:{"user-agent":X.req.headers.get("user-agent"),"content-type":X.req.headers.get("content-type")}}),z?.(X)}),$?.addHooks("onSend",async(X,W)=>{let V=`${Date.now()-X.req.startTime}ms`;Z?.()??J4(J,"Response Sent",{method:X.req.method,url:X.url.toString(),status:W.status,duration:V,reqId:X.get?.("requestId"),headers:{"content-type":W.headers.get("content-type")}});let w=await Q?.(X);if(w instanceof Response)return w}),$?.addHooks("onError",async(X,W)=>{Z?.()??J4("error","Unhandled Error",{method:W.req.method,url:W.path,status:500,error:X.message});let V=await Y?.(X,W);if(V instanceof Response)return V})},z4=(f,$,Z,J=0,z,Q)=>{let Y=D0.method[$]||D0.reset,X=J>=500?D0.error:J>=400?D0.warn:D0.info,W=Q?`[${Q}] `:"",V=f==="<--"?`${f} ${Y}${$}${D0.reset} ${Z} ${W}`:`${f} ${Y}${$}${D0.reset} ${Z} ${X}${J}${D0.reset} ${z??""} ${W}`;console.log(V)},m9=(f)=>{let $=Date.now()-f;return $<1000?`${$}ms`:`${Math.round($/1000)}s`},s7=(f)=>{let{app:$,log:Z,onRequest:J,onSend:z,onError:Q}=f;$.addHooks("onRequest",(Y)=>{let{req:X,path:W}=Y;X.startTime=Date.now(),Z?.()??z4("<--",X.method,W),J?.(X,W)}),$.addHooks("onSend",async(Y,X)=>{let{method:W,url:V}=Y.req,w=new URL(V).pathname,F=Y.get?.("requestId");Z?.()??z4("-->",W,w,X?.status,m9(Y.req.startTime),F);let O=await z?.(Y);return O instanceof Response?O:X}),$.addHooks("onError",async(Y,X)=>{let{req:W,path:V}=X;Z?.()??z4(Y.message,W.method,V,500);let w=await Q?.(Y,W,V);if(w instanceof Response)return w})};function a7(f,$){if(!f)throw new Error("JWT library is not defined, please provide jwt to authenticateJwt Function");return(Z)=>{try{let J=Z.cookies?.accessToken??Z.req?.headers?.get("Authorization");if(!J)return Z.json({message:"Unauthorized",error:"No token provided"},401);if(J.startsWith("Bearer "))J=J.slice(7);let z=f?.verify(J,$);if(!z)return Z.json({message:"Unauthorized",error:"Token could not be decoded"},401);Z.set("user",z)}catch(J){let z="Invalid token";if(J.name==="TokenExpiredError")z="Token expired";else if(J.name==="JsonWebTokenError")z="Malformed or tampered token";return Z.json({message:"Unauthorized",error:z},401)}}}function t7(f,$,Z){if(!f)throw new Error("JWT library is not defined, please provide jwt to authenticateJwtDB Function");if(!$)throw new Error("User model is not defined, please provide UserModel to authenticateJwtDB Function");return async(J)=>{try{let z=J.cookies?.accessToken??J.req?.headers?.get("Authorization");if(!z)return J.json({message:"Unauthorized",error:"No token provided"},401);if(z.startsWith("Bearer "))z=z.slice(7);let Q=f?.verify(z,Z);if(!Q)return J.json({message:"Unauthorized",error:"Token could not be decoded"},401);let Y=await $.findById(Q._id).select("-password -refreshToken");if(!Y)return J.json({message:"Unauthorized: User not found"},404);J.set("user",Y);return}catch(z){let Q="Invalid token";if(z.name==="TokenExpiredError")Q="Token expired";else if(z.name==="JsonWebTokenError")Q="Malformed or tampered token";return J.json({message:"Unauthorized",error:Q},401)}}}var d9=(f,$)=>{try{return $(f)}catch{return f.replace(/(?:%[0-9A-Fa-f]{2})+/g,(Z)=>{try{return $(Z)}catch{return Z}})}},i9=(f)=>d9(f,decodeURI),zf=(f)=>{let $=f.indexOf("/",f.indexOf(":")+4),Z=$;for(;Z<f.length;Z++){let J=f.charCodeAt(Z);if(J===37){let z=f.indexOf("?",Z),Q=f.slice($,z===-1?void 0:z);return i9(Q.includes("%25")?Q.replace(/%25/g,"%2525"):Q)}else if(J===63)break}return f.slice($,Z)};var Y4=Symbol.for,n0=Symbol("kCapture"),ZZ=Y4("events.errorMonitor"),l9=Symbol("events.maxEventTargetListeners"),n9=Symbol("events.maxEventTargetListenersWarned"),e7=Y4("nodejs.rejection"),p9=Y4("nodejs.rejection"),fZ=Array.prototype.slice,p0=10,m0=function f($){if(this._events===void 0||this._events===this.__proto__._events)this._events={__proto__:null},this._eventsCount=0;if(this._maxListeners??=void 0,this[n0]=$?.captureRejections?Boolean($?.captureRejections):W0[n0])this.emit=a9},W0=m0.prototype={};W0._events=void 0;W0._eventsCount=0;W0._maxListeners=void 0;W0.setMaxListeners=function f($){return X4($,"setMaxListeners",0),this._maxListeners=$,this};W0.constructor=m0;W0.getMaxListeners=function f(){return this?._maxListeners??p0};function JZ(f,$){var{_events:Z}=f;if($[0]??=new Error("Unhandled error."),!Z)throw $[0];var J=Z[ZZ];if(J)for(var z of fZ.call(J))z.apply(f,$);var Q=Z.error;if(!Q)throw $[0];for(var z of fZ.call(Q))z.apply(f,$);return!0}function o9(f,$,Z,J){$.then(void 0,function(z){queueMicrotask(()=>r9(f,z,Z,J))})}function r9(f,$,Z,J){if(typeof f[e7]==="function")f[e7]($,Z,...J);else try{f[n0]=!1,f.emit("error",$)}finally{f[n0]=!0}}var s9=function f($,...Z){if($==="error")return JZ(this,Z);var{_events:J}=this;if(J===void 0)return!1;var z=J[$];if(z===void 0)return!1;let Q=z.length>1?z.slice():z;for(let Y=0,{length:X}=Q;Y<X;Y++){let W=Q[Y];switch(Z.length){case 0:W.call(this);break;case 1:W.call(this,Z[0]);break;case 2:W.call(this,Z[0],Z[1]);break;case 3:W.call(this,Z[0],Z[1],Z[2]);break;default:W.apply(this,Z);break}}return!0},a9=function f($,...Z){if($==="error")return JZ(this,Z);var{_events:J}=this;if(J===void 0)return!1;var z=J[$];if(z===void 0)return!1;let Q=z.length>1?z.slice():z;for(let Y=0,{length:X}=Q;Y<X;Y++){let W=Q[Y],V;switch(Z.length){case 0:V=W.call(this);break;case 1:V=W.call(this,Z[0]);break;case 2:V=W.call(this,Z[0],Z[1]);break;case 3:V=W.call(this,Z[0],Z[1],Z[2]);break;default:V=W.apply(this,Z);break}if(V!==void 0&&typeof V?.then==="function"&&V.then===Promise.prototype.then)o9(this,V,$,Z)}return!0};W0.emit=s9;W0.addListener=function f($,Z){A1(Z);var J=this._events;if(!J)J=this._events={__proto__:null},this._eventsCount=0;else if(J.newListener)this.emit("newListener",$,Z.listener??Z);var z=J[$];if(!z)J[$]=[Z],this._eventsCount++;else{z.push(Z);var Q=this._maxListeners??p0;if(Q>0&&z.length>Q&&!z.warned)zZ(this,$,z)}return this};W0.on=W0.addListener;W0.prependListener=function f($,Z){A1(Z);var J=this._events;if(!J)J=this._events={__proto__:null},this._eventsCount=0;else if(J.newListener)this.emit("newListener",$,Z.listener??Z);var z=J[$];if(!z)J[$]=[Z],this._eventsCount++;else{z.unshift(Z);var Q=this._maxListeners??p0;if(Q>0&&z.length>Q&&!z.warned)zZ(this,$,z)}return this};function zZ(f,$,Z){Z.warned=!0;let J=new Error(`Possible EventEmitter memory leak detected. ${Z.length} ${String($)} listeners added to [${f.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);J.name="MaxListenersExceededWarning",J.emitter=f,J.type=$,J.count=Z.length,console.warn(J)}function QZ(f,$,...Z){this.removeListener(f,$),$.apply(this,Z)}W0.once=function f($,Z){A1(Z);let J=QZ.bind(this,$,Z);return J.listener=Z,this.addListener($,J),this};W0.prependOnceListener=function f($,Z){A1(Z);let J=QZ.bind(this,$,Z);return J.listener=Z,this.prependListener($,J),this};W0.removeListener=function f($,Z){A1(Z);var{_events:J}=this;if(!J)return this;var z=J[$];if(!z)return this;var Q=z.length;let Y=-1;for(let X=Q-1;X>=0;X--)if(z[X]===Z||z[X].listener===Z){Y=X;break}if(Y<0)return this;if(Y===0)z.shift();else z.splice(Y,1);if(z.length===0)delete J[$],this._eventsCount--;return this};W0.off=W0.removeListener;W0.removeAllListeners=function f($){var{_events:Z}=this;if($&&Z){if(Z[$])delete Z[$],this._eventsCount--}else this._events={__proto__:null};return this};W0.listeners=function f($){var{_events:Z}=this;if(!Z)return[];var J=Z[$];if(!J)return[];return J.map((z)=>z.listener??z)};W0.rawListeners=function f($){var{_events:Z}=this;if(!Z)return[];var J=Z[$];if(!J)return[];return J.slice()};W0.listenerCount=function f($){var{_events:Z}=this;if(!Z)return 0;return Z[$]?.length??0};W0.eventNames=function f(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};W0[n0]=!1;function t9(f,$,Z){var J=Z?.signal;if(YZ(J,"options.signal"),J?.aborted)throw new Q4(void 0,{cause:J?.reason});let{resolve:z,reject:Q,promise:Y}=$newPromiseCapability(Promise),X=(w)=>{if(f.removeListener($,W),J!=null)Qf(J,"abort",V);Q(w)},W=(...w)=>{if(typeof f.removeListener==="function")f.removeListener("error",X);if(J!=null)Qf(J,"abort",V);z(w)};if($Z(f,$,W,{once:!0}),$!=="error"&&typeof f.once==="function")f.once("error",X);function V(){Qf(f,$,W),Qf(f,"error",X),Q(new Q4(void 0,{cause:J?.reason}))}if(J!=null)$Z(J,"abort",V,{once:!0});return Y}function e9(f,$){return f.listeners($)}function f6(f,...$){X4(f,"setMaxListeners",0);var Z;if($&&(Z=$.length))for(let J=0;J<Z;J++)$[J].setMaxListeners(f);else p0=f}function $6(f,$){return f.listenerCount($)}function Qf(f,$,Z,J){if(typeof f.removeListener==="function")f.removeListener($,Z);else f.removeEventListener($,Z,J)}function $Z(f,$,Z,J){if(typeof f.on==="function")if(J.once)f.once($,Z);else f.on($,Z);else f.addEventListener($,Z,J)}class Q4 extends Error{constructor(f="The operation was aborted",$=void 0){if($!==void 0&&typeof $!=="object")throw Y1("options","Object",$);super(f,$);this.code="ABORT_ERR",this.name="AbortError"}}function Y1(f,$,Z){let J=new TypeError(`The "${f}" argument must be of type ${$}. Received ${Z}`);return J.code="ERR_INVALID_ARG_TYPE",J}function Z6(f,$,Z){let J=new RangeError(`The "${f}" argument is out of range. It must be ${$}. Received ${Z}`);return J.code="ERR_OUT_OF_RANGE",J}function YZ(f,$){if(f!==void 0&&(f===null||typeof f!=="object"||!("aborted"in f)))throw Y1($,"AbortSignal",f)}function X4(f,$,Z,J){if(typeof f!=="number")throw Y1($,"number",f);if(Z!=null&&f<Z||J!=null&&f>J||(Z!=null||J!=null)&&Number.isNaN(f))throw Z6($,`${Z!=null?`>= ${Z}`:""}${Z!=null&&J!=null?" && ":""}${J!=null?`<= ${J}`:""}`,f)}function A1(f){if(typeof f!=="function")throw new TypeError("The listener must be a function")}function J6(f,$){if(typeof f!=="boolean")throw Y1($,"boolean",f)}function z6(f){return f?._maxListeners??p0}function Q6(f,$){if(f===void 0)throw Y1("signal","AbortSignal",f);if(YZ(f,"signal"),typeof $!=="function")throw Y1("listener","function",$);let Z;if(f.aborted)queueMicrotask(()=>$());else f.addEventListener("abort",$,{__proto__:null,once:!0}),Z=()=>{f.removeEventListener("abort",$)};return{__proto__:null,[Symbol.dispose](){Z?.()}}}Object.defineProperties(m0,{captureRejections:{get(){return W0[n0]},set(f){J6(f,"EventEmitter.captureRejections"),W0[n0]=f},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:()=>{return p0},set:(f)=>{X4(f,"defaultMaxListeners",0),p0=f}},kMaxEventTargetListeners:{value:l9,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:n9,enumerable:!1,configurable:!1,writable:!1}});Object.assign(m0,{once:t9,getEventListeners:e9,getMaxListeners:z6,setMaxListeners:f6,EventEmitter:m0,usingDomains:!1,captureRejectionSymbol:p9,errorMonitor:ZZ,addAbortListener:Q6,init:m0,listenerCount:$6});class q1{static instance;routes;tempRoutes;tempMiddlewares=new Map;router;hasOnReqHook;hasPreHandlerHook;hasPostHandlerHook;hasOnSendHook;hasOnError;hooks;corsConfig;FilterRoutes;filters;filterFunction;hasFilterEnabled;serverInstance;staticFiles;user_jwt_secret;baseApiUrl;enableFileRouter;idleTimeOut;routeNotFoundFunc;prefixApiUrl;compileConfig;#$=!1;emitter;errorFormat;platform="bun";staticPath;staticRequestPath=void 0;constructor(f={}){let{router:$="t2",routerInstance:Z,errorFormat:J="json",platform:z="bun",enableFileRouting:Q=!1,prefixApiUrl:Y="",baseApiUrl:X="",jwtSecret:W,idleTimeOut:V=10,pipelineArchitecture:w=!1,logger:F,onError:O}=f;if(Z)this.router=Z;else this.router=Z4.create($);if(this.errorFormat=J,this.platform=z,!q1.instance)q1.instance=this;if(w)this.#$=!0;if(this.errorFormat=J,this.emitter=new m0,this.prefixApiUrl=Y??"",this.fetch=this.fetch.bind(this),this.routes={},this.idleTimeOut=V??10,this.enableFileRouter=Q??!1,this.baseApiUrl=X||"",this.user_jwt_secret=W||process.env.DIESEL_JWT_SECRET||"feault_diesel_secret_for_jwt",this.tempRoutes=new Map,this.corsConfig=null,this.hasOnReqHook=!1,this.hasPreHandlerHook=!1,this.hasPostHandlerHook=!1,this.hasOnSendHook=!1,this.hasOnError=!1,this.hooks={onRequest:[],preHandler:[],postHandler:[],onSend:[],onError:[],onClose:[]},O)this.addHooks("onError",(j,M)=>{console.log("Got an exception:",j),console.log("Request Path:",M.path)});if(F)this.useLogger({app:this,onError(j){console.error("Got an exception:",j)}});this.FilterRoutes=[],this.filters=new Set,this.filterFunction=[],this.hasFilterEnabled=!1,this.serverInstance=null,this.staticPath=null,this.staticFiles={},this.routeNotFoundFunc=()=>{},this.compileConfig=null}static router(f){if(!this.instance)this.instance=new q1;return new Proxy(this.instance,{get($,Z,J){return(z,Q)=>{let Y=f+z;return $[Z](Y,Q)}}})}setupFilter(){return this.hasFilterEnabled=!0,{publicRoutes:(...f)=>{return this.FilterRoutes=f,this.setupFilter()},permitAll:()=>{for(let f of this?.FilterRoutes){if(f.endsWith("/"))f=f.slice(0,-1);this.filters.add(f)}return this.FilterRoutes=null,this.setupFilter()},authenticate:(f)=>{if(f?.length)for(let $ of f)this.filterFunction.push($)},authenticateJwt:(f)=>{this.filterFunction.push(a7(f,this.user_jwt_secret))},authenticateJwtDB:(f,$)=>{this.filterFunction.push(t7(f,$,this.user_jwt_secret))}}}redirect(f,$,Z){return this.any(f,(J)=>{let z=J.params,Q=$;if(z)for(let X in z)Q=Q.replace(`:${X}`,z[X]);let Y=J.url.search;if(Y)Q+=Y;return J.redirect(Q,Z)}),this}serveStatic(f,$){return this.staticPath=f,this.staticRequestPath=$,this}static(f,$){return this.staticPath=f,this.staticRequestPath=$,this}staticHtml(f){return this.staticFiles={...this.staticFiles,...f},this}addHooks(f,$){if(typeof f!=="string")throw new Error("hookName must be a string");if(typeof $!=="function")throw new Error("callback must be a instance of function");switch(f){case"onRequest":this.hooks.onRequest?.push($);break;case"preHandler":this.hooks.preHandler?.push($);break;case"postHandler":this.hooks.postHandler?.push($);break;case"onSend":this.hooks.onSend?.push($);break;case"onError":this.hooks.onError?.push($);break;case"onClose":this.hooks.onClose?.push($);break;default:throw new Error(`Unknown hook type: ${f}`)}return this}compile(){let f={hasMiddleware:!1,hasOnReqHook:!1,hasPreHandlerHook:!1,hasOnError:!1,hasPostHandlerHook:!1,hasOnSendHook:!1,hasFilterEnabled:!1};if(this.hasFilterEnabled)f.hasFilterEnabled=!0,this.hasFilterEnabled=!0;if(this?.enableFileRouter){let $=process.cwd(),Z=s0.join($,"src","routes");if(W4?.existsSync(Z))this.loadRoutes(Z,"")}if(this?.hooks?.onRequest&&this.hooks.onRequest.length>0)f.hasOnReqHook=!0,this.hasOnReqHook=!0;if(this?.hooks?.preHandler&&this.hooks.preHandler.length>0)f.hasPreHandlerHook=!0,this.hasPreHandlerHook=!0;if(this?.hooks?.postHandler&&this.hooks.postHandler?.length>0)f.hasPostHandlerHook=!0,this.hasPostHandlerHook=!0;if(this?.hooks?.onSend&&this.hooks.onSend?.length>0)f.hasOnSendHook=!0,this.hasOnSendHook=!0;if(this?.hooks?.onError&&this.hooks.onError?.length>0)f.hasOnError=!0,this.hasOnError=!0;return this.tempRoutes=null,this.tempMiddlewares=null,this.compileConfig=f,f}async registerFileRoutes(f,$,Z){let J=await import(f),z;if(Z===".ts")z=s0.basename(f,".ts");else if(Z===".js")z=s0.basename(f,".js");let Q=$+"/"+z;if(Q.endsWith("/index"))Q=$;else if(Q.endsWith("/api"))Q=$;Q=Q.replace(/\[(.*?)\]/g,":$1");let Y=["GET","POST","PUT","PATCH","DELETE","ANY","HEAD","OPTIONS","PROPFIND"];for(let X of Y)if(J[X]){let W=X.toLowerCase(),V=J[X];this[W](`${this.baseApiUrl}${Q}`,V)}}async loadRoutes(f,$){let Z=await W4.promises.readdir(f);for(let J of Z){let z=s0.join(f,J);if((await W4.promises.stat(z)).isDirectory())await this.loadRoutes(z,$+"/"+J);else if(J.endsWith(".ts"))await this.registerFileRoutes(z,$,".ts");else if(J.endsWith(".js"))await this.registerFileRoutes(z,$,".js")}}useLogger(f){return s7(f),this}useAdvancedLogger(f){return r7(f),this}BunRoute(f,$,...Z){if(!$||typeof $!=="string")throw new Error("give a path in string format");if(!this.compileConfig)this.compile();let J;if(typeof Z[0]==="string"||typeof Z[0]==="object")J=Z[0];if(typeof J!=="undefined"){let Q=typeof J==="string"?J:JSON.stringify(J)}let z=n4(this.compileConfig,this,f.toUpperCase(),$,...Z);return this.routes[$]=z,this}listen(f,...$){if(typeof Bun==="undefined")throw new Error(".listen() is designed to run on Bun only...");let Z="0.0.0.0",J=void 0,z={};for(let Y of $)if(typeof Y==="string")Z=Y;else if(typeof Y==="function")J=Y;else if(typeof Y==="object"&&Y!==null)z=Y;let Q={port:f,hostname:Z,idleTimeOut:this.idleTimeOut,fetch:this.fetch(),static:this.staticFiles};if(this.routes&&Object.keys(this.routes).length>0)Q.routes=this.routes;if(z.cert&&z.key)Q.certFile=z.cert,Q.keyFile=z.key;if(this.serverInstance=Bun?.serve(Q),J)J();return this.serverInstance}close(f){if(this.serverInstance)this.serverInstance.stop(!0),this.serverInstance=null,f?f():console.log("Server has been stopped");else console.warn("Server is not running.")}cfFetch(){return this.compile(),(f,$,Z)=>{return this.#f(f,void 0,$,Z)}}fetch(){let f=this.compile();if(this.platform==="cf"||this.platform==="cloudflare")return($,Z,J)=>{return this.#f($,void 0,Z,J)};if(this.#$){let $=l4(f,this);return(Z,J)=>{return $(Z,J,this).catch(async(z)=>{return console.error("Unhandled handler error:",z),await c0("onError",this.hooks.onError,[z,Z,zf(Z.url),J])||a0(500,"Internal Server Error")})}}return this.#f.bind(this)}async#f(f,$,Z,J){let z=zf(f.url),Q=this.router.find(f.method,z),Y=new H1(f,$,z,Q?.path,Q?.params,Z,J);try{if(this.hasOnReqHook)await c0("onRequest",this.hooks.onRequest,[Y]);if(this.hasFilterEnabled){let V=await I1(this,z,Y);if(V)return V}if(this.hasPreHandlerHook){let V=await c0("preHandler",this.hooks.preHandler,[Y]);if(V)return V}let X,W=Q?.handler;for(let V=0;V<W?.length;V++){let w=W[V]?.(Y);if(X=w instanceof Promise?await w:w,X instanceof Response)break}if(this.hasOnSendHook){let V=await c0("onSend",this.hooks.onSend,[Y,X]);if(V instanceof Response)return V}if(X instanceof Response)return X;return await R1(this,Y,z)}catch(X){return this.handleError(X,Y)}return a0(500,"No response returned from handler.")}async handleError(f,$){let J=this.errorFormat,z=zf($.req.url),Q=await c0("onError",this.hooks.onError,[f,$]);if(Q)return Q;if(f&&typeof f==="object"&&f.name==="HTTPException"){let W=f;if(W.res)return W.res;return J==="json"?Response.json({error:W.message},{status:W.status}):new Response(W.message,{status:W.status})}let Y=f instanceof Error?f.message:"Internal Server Error",X=f instanceof Error?f.stack:void 0;if(J==="json"){let W={error:Y,...!1,path:z};return Response.json(W,{status:500,headers:{"Content-Type":"application/json"}})}else{let W=`Error: ${Y}`;return new Response(W,{headers:{"Content-Type":"text/plain"},status:500})}}mount(f,$){let Z=f.endsWith("/*")?f.slice(0,-1):f,J=Z==="/"?0:Z.length;this.any(f,(z)=>{let Q=new URL(z.req.url);Q.pathname=Q.pathname.slice(J)||"/";let Y=new Request(Q.toString(),z.req);return $(Y,z.env,z.executionContext)})}route(f,$){f=f&&f.length>0?f:$?.prefixApiUrl;let Z=$?.tempRoutes??new Map;for(let[J,z]of Z.entries()){let Q=J.replace(/::\w+$/,""),Y=`${f}${Q}`,X=z.handlers.slice(0,-1);this.router.addMiddleware(Y,...X);let W=z.handlers[z.handlers.length-1],V=z.method;try{this.router.add(V,Y,W)}catch(w){console.error(`Error inserting ${Y}:`,w)}}for(let[J,z]of $?.tempMiddlewares?.entries()){let Q=J==="/"?f||"/":`${f}${J}`;this.router.addMiddleware(Q,...z)}return $=null,this}register(f,$){return this.route(f,$)}addRoute(f,$,Z){if(typeof $!=="string")throw new Error(`Error in ${Z[Z.length-1]}: Path must be a string. Received: ${typeof $}`);if(typeof f!=="string")throw new Error(`Error in addRoute: Method must be a string. Received: ${typeof f}`);this.tempRoutes?.set($+"::"+f,{method:f,handlers:Z});let J=Z.slice(0,-1),z=Z[Z.length-1];if(J.length>0)J.forEach((Q)=>{this.router.addMiddleware($,Q);return});try{if(f==="ANY"){let Q=["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD","PROPFIND"];for(let Y of Q)try{this.router.add(Y,$,z)}catch(X){}}else this.router.add(f,$,z)}catch(Q){console.error(`Error inserting ${$}:`,Q)}}use(f,...$){if(typeof f==="string"){let Z=f==="/"?"/":f;if(!this.tempMiddlewares?.has(Z))this.tempMiddlewares?.set(Z,[]);this.tempMiddlewares?.get(Z).push(...$),this.router.addMiddleware(Z,...$)}else if(typeof f==="function"){let Z=[f,...$];if(!this.tempMiddlewares?.has("/"))this.tempMiddlewares?.set("/",[]);this.tempMiddlewares?.get("/").push(...$);for(let J of Z)this.router.addMiddleware("/",J)}return this}get(f,...$){return this.addRoute("GET",f,$),this}post(f,...$){return this.addRoute("POST",f,$),this}put(f,...$){return this.addRoute("PUT",f,$),this}patch(f,...$){return this.addRoute("PATCH",f,$),this}delete(f,...$){return this.addRoute("DELETE",f,$),this}any(f,...$){return this.addRoute("ANY",f,$),this}head(f,...$){return this.addRoute("HEAD",f,$),this}options(f,...$){return this.addRoute("OPTIONS",f,$),this}propfind(f,...$){return this.addRoute("PROPFIND",f,$),this}routeNotFound(f){return this.routeNotFoundFunc=f,this}on(f,$){this.emitter.on(f,$)}emit(f,...$){this.emitter.emit(f,...$)}}export{q1 as default};
